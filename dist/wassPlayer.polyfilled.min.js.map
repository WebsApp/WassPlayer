{"version":3,"sources":["wassPlayer.polyfilled.js","node_modules/custom-event-polyfill/polyfill.js","node_modules/core-js/internals/global.js","node_modules/core-js/internals/fails.js","node_modules/core-js/internals/descriptors.js","node_modules/core-js/internals/object-property-is-enumerable.js","node_modules/core-js/internals/create-property-descriptor.js","node_modules/core-js/internals/classof-raw.js","node_modules/core-js/internals/indexed-object.js","node_modules/core-js/internals/require-object-coercible.js","node_modules/core-js/internals/to-indexed-object.js","node_modules/core-js/internals/is-object.js","node_modules/core-js/internals/to-primitive.js","node_modules/core-js/internals/has.js","node_modules/core-js/internals/document-create-element.js","node_modules/core-js/internals/ie8-dom-define.js","node_modules/core-js/internals/object-get-own-property-descriptor.js","node_modules/core-js/internals/an-object.js","node_modules/core-js/internals/object-define-property.js","node_modules/core-js/internals/create-non-enumerable-property.js","node_modules/core-js/internals/set-global.js","node_modules/core-js/internals/shared-store.js","node_modules/core-js/internals/inspect-source.js","node_modules/core-js/internals/internal-state.js","node_modules/core-js/internals/native-weak-map.js","node_modules/core-js/internals/shared.js","node_modules/core-js/internals/uid.js","node_modules/core-js/internals/shared-key.js","node_modules/core-js/internals/hidden-keys.js","node_modules/core-js/internals/object-create.js","node_modules/core-js/internals/redefine.js","node_modules/core-js/internals/path.js","node_modules/core-js/internals/get-built-in.js","node_modules/core-js/internals/to-integer.js","node_modules/core-js/internals/to-length.js","node_modules/core-js/internals/to-absolute-index.js","node_modules/core-js/internals/array-includes.js","node_modules/core-js/internals/object-keys-internal.js","node_modules/core-js/internals/enum-bug-keys.js","node_modules/core-js/internals/object-get-own-property-names.js","node_modules/core-js/internals/object-get-own-property-symbols.js","node_modules/core-js/internals/own-keys.js","node_modules/core-js/internals/copy-constructor-properties.js","node_modules/core-js/internals/is-forced.js","node_modules/core-js/internals/export.js","node_modules/core-js/internals/native-symbol.js","node_modules/core-js/internals/use-symbol-as-uid.js","node_modules/core-js/internals/is-array.js","node_modules/core-js/internals/to-object.js","node_modules/core-js/internals/object-keys.js","node_modules/core-js/internals/object-define-properties.js","node_modules/core-js/internals/html.js","node_modules/core-js/internals/object-get-own-property-names-external.js","node_modules/core-js/internals/well-known-symbol.js","node_modules/core-js/internals/well-known-symbol-wrapped.js","node_modules/core-js/internals/define-well-known-symbol.js","node_modules/core-js/internals/set-to-string-tag.js","node_modules/core-js/internals/a-function.js","node_modules/core-js/internals/function-bind-context.js","node_modules/core-js/internals/array-species-create.js","node_modules/core-js/internals/array-iteration.js","node_modules/core-js/modules/es.symbol.js","node_modules/core-js/modules/es.symbol.description.js","node_modules/core-js/modules/es.symbol.iterator.js","node_modules/core-js/internals/array-method-is-strict.js","node_modules/core-js/internals/array-method-uses-to-length.js","node_modules/core-js/internals/array-for-each.js","node_modules/core-js/modules/es.array.for-each.js","node_modules/core-js/modules/es.array.index-of.js","node_modules/core-js/internals/add-to-unscopables.js","node_modules/core-js/internals/iterators-core.js","node_modules/core-js/internals/iterators.js","node_modules/core-js/internals/correct-prototype-getter.js","node_modules/core-js/internals/object-get-prototype-of.js","node_modules/core-js/internals/create-iterator-constructor.js","node_modules/core-js/internals/object-set-prototype-of.js","node_modules/core-js/internals/a-possible-prototype.js","node_modules/core-js/internals/define-iterator.js","node_modules/core-js/modules/es.array.iterator.js","node_modules/core-js/modules/es.array.join.js","node_modules/core-js/internals/create-property.js","node_modules/core-js/internals/engine-v8-version.js","node_modules/core-js/internals/engine-user-agent.js","node_modules/core-js/internals/array-method-has-species-support.js","node_modules/core-js/modules/es.array.slice.js","node_modules/core-js/internals/to-string-tag-support.js","node_modules/core-js/internals/classof.js","node_modules/core-js/internals/object-to-string.js","node_modules/core-js/modules/es.object.to-string.js","node_modules/core-js/internals/regexp-flags.js","node_modules/core-js/internals/regexp-sticky-helpers.js","node_modules/core-js/internals/regexp-exec.js","node_modules/core-js/modules/es.regexp.exec.js","node_modules/core-js/modules/es.regexp.to-string.js","node_modules/core-js/internals/string-multibyte.js","node_modules/core-js/modules/es.string.iterator.js","node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","node_modules/core-js/internals/advance-string-index.js","node_modules/core-js/internals/regexp-exec-abstract.js","node_modules/core-js/modules/es.string.replace.js","node_modules/core-js/internals/same-value.js","node_modules/core-js/modules/es.string.search.js","node_modules/core-js/internals/is-regexp.js","node_modules/core-js/internals/species-constructor.js","node_modules/core-js/modules/es.string.split.js","node_modules/core-js/internals/dom-iterables.js","node_modules/core-js/modules/web.dom-collections.for-each.js","node_modules/core-js/modules/web.dom-collections.iterator.js","node_modules/core-js/internals/native-url.js","node_modules/core-js/internals/an-instance.js","node_modules/core-js/internals/object-assign.js","node_modules/core-js/internals/call-with-safe-iteration-closing.js","node_modules/core-js/internals/is-array-iterator-method.js","node_modules/core-js/internals/get-iterator-method.js","node_modules/core-js/internals/array-from.js","node_modules/core-js/internals/string-punycode-to-ascii.js","node_modules/core-js/internals/redefine-all.js","node_modules/core-js/internals/get-iterator.js","node_modules/core-js/modules/web.url-search-params.js","node_modules/core-js/modules/web.url.js","node_modules/url-polyfill/url-polyfill.js","node_modules/core-js/modules/es.array.concat.js","node_modules/core-js/modules/es.array.filter.js","node_modules/core-js/modules/es.array.find.js","node_modules/core-js/internals/check-correctness-of-iteration.js","node_modules/core-js/modules/es.array.from.js","node_modules/core-js/modules/es.array.includes.js","node_modules/core-js/modules/es.array.map.js","node_modules/core-js/internals/inherit-if-required.js","node_modules/core-js/internals/whitespaces.js","node_modules/core-js/internals/string-trim.js","node_modules/core-js/modules/es.number.constructor.js","node_modules/core-js/modules/es.object.keys.js","node_modules/core-js/internals/not-a-regexp.js","node_modules/core-js/internals/correct-is-regexp-logic.js","node_modules/core-js/modules/es.string.includes.js","node_modules/core-js/internals/freezing.js","node_modules/core-js/internals/internal-metadata.js","node_modules/core-js/internals/iterate.js","node_modules/core-js/internals/collection-weak.js","node_modules/core-js/modules/es.array.every.js","node_modules/core-js/modules/es.weak-map.js","node_modules/core-js/internals/collection.js","node_modules/core-js/modules/es.object.assign.js","node_modules/core-js/internals/string-trim-forced.js","node_modules/core-js/modules/es.string.trim.js","node_modules/core-js/modules/es.array.some.js","node_modules/core-js/internals/this-number-value.js","node_modules/core-js/internals/string-repeat.js","node_modules/core-js/modules/es.number.to-fixed.js","node_modules/core-js/internals/object-to-array.js","node_modules/core-js/modules/es.object.entries.js","node_modules/core-js/modules/es.object.values.js","node_modules/core-js/modules/es.number.is-nan.js","node_modules/core-js/modules/es.object.get-own-property-descriptor.js","node_modules/rangetouch/dist/rangetouch.mjs","node_modules/core-js/modules/es.object.get-own-property-descriptors.js","node_modules/core-js/modules/es.string.match.js","node_modules/core-js/internals/task.js","node_modules/core-js/internals/native-promise-constructor.js","node_modules/core-js/internals/set-species.js","node_modules/core-js/internals/engine-is-ios.js","node_modules/core-js/internals/microtask.js","node_modules/core-js/modules/es.promise.js","node_modules/core-js/internals/new-promise-capability.js","node_modules/core-js/internals/promise-resolve.js","node_modules/core-js/internals/perform.js","node_modules/core-js/internals/host-report-errors.js","node_modules/core-js/modules/es.string.starts-with.js","src/js/utils/is.js","src/js/utils/animation.js","src/js/utils/browser.js","node_modules/core-js/internals/array-reduce.js","node_modules/core-js/modules/es.array.reduce.js","src/js/utils/objects.js","src/js/utils/elements.js","src/js/support.js","src/js/utils/events.js","src/js/utils/promise.js","src/js/utils/style.js","src/js/html5.js","src/js/utils/arrays.js","node_modules/core-js/modules/es.regexp.constructor.js","src/js/utils/strings.js","src/js/utils/i18n.js","src/js/storage.js","src/js/utils/fetch.js","src/js/utils/load-sprite.js","node_modules/core-js/modules/es.math.trunc.js","src/js/utils/time.js","src/js/controls.js","src/js/utils/urls.js","src/js/captions.js","src/js/config/defaults.js","src/js/config/states.js","src/js/config/types.js","src/js/console.js","src/js/fullscreen.js","node_modules/core-js/internals/math-sign.js","src/js/utils/load-image.js","node_modules/core-js/modules/es.math.sign.js","src/js/ui.js","src/js/listeners.js","src/js/media.js","node_modules/core-js/modules/es.array.find-index.js","node_modules/core-js/internals/array-last-index-of.js","node_modules/core-js/modules/es.array.last-index-of.js","src/js/plugins/preview-thumbnails.js","src/js/source.js","src/js/wassPlayer.js","src/js/utils/numbers.js"],"names":["navigator","global","factory","exports","module","define","amd","globalThis","self","WassPlayer","this","window","ce","CustomEvent","cancelable","preventDefault","defaultPrevented","Error","e","event","params","evt","origPrevent","bubbles","document","createEvent","initCustomEvent","detail","call","Object","defineProperty","get","prototype","Event","commonjsGlobal","createCommonjsModule","fn","check","it","Math","global_1","Function","fails","exec","error","descriptors","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","objectPropertyIsEnumerable","f","1","V","descriptor","enumerable","createPropertyDescriptor","bitmap","value","configurable","writable","toString","classofRaw","slice","split","indexedObject","classof","requireObjectCoercible","undefined","TypeError","toIndexedObject","IndexedObject","isObject","toPrimitive","input","PREFERRED_STRING","val","valueOf","hasOwnProperty","has","key","EXISTS","createElement","documentCreateElement","ie8DomDefine","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","objectGetOwnPropertyDescriptor","O","P","IE8_DOM_DEFINE","propertyIsEnumerableModule","anObject","String","nativeDefineProperty","objectDefineProperty","Attributes","createNonEnumerableProperty","object","definePropertyModule","setGlobal","SHARED","sharedStore","functionToString","store","inspectSource","set","WeakMap","nativeWeakMap","test","shared","push","version","mode","copyright","id","postfix","random","uid","keys","sharedKey","hiddenKeys","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","objectHas","activeXDocument","internalState","enforce","getterFor","TYPE","state","type","redefine","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","path","aFunction","variable","getBuiltIn","namespace","method","arguments","length","ceil","floor","toInteger","argument","isNaN","min","toLength","max","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","require$$0","objectKeysInternal","names","i","result","enumBugKeys","concat","objectGetOwnPropertyNames","getOwnPropertyNames","internalObjectKeys","objectGetOwnPropertySymbols","getOwnPropertySymbols","ownKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","copyConstructorProperties","target","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","_export","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","sham","nativeSymbol","Symbol","useSymbolAsUid","NATIVE_SYMBOL","iterator","isArray","Array","arg","toObject","objectKeys","objectDefineProperties","defineProperties","Properties","html","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","F","objectCreate","create","nativeGetOwnPropertyNames","windowNames","objectGetOwnPropertyNamesExternal","getWindowNames","WellKnownSymbolsStore","createWellKnownSymbol","USE_SYMBOL_AS_UID","withoutSetter","wellKnownSymbol","name","wellKnownSymbolWrapped","defineWellKnownSymbol","NAME","wrappedWellKnownSymbolModule","TO_STRING_TAG","setToStringTag","TAG","aFunction$1","functionBindContext","that","b","c","apply","SPECIES","arraySpeciesCreate","originalArray","C","constructor","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","bind","arrayIteration","forEach","map","filter","some","every","find","findIndex","$forEach","HIDDEN","SYMBOL","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","getOwnPropertyNamesExternal","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","nativeObjectCreate","ObjectPrototypeDescriptor","wrap","tag","description","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","setter","$","for","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","$replacer","args","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","arrayMethodIsStrict","METHOD_NAME","cache","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","STRICT_METHOD","USES_TO_LENGTH","arrayForEach","proto","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","UNSCOPABLES","ArrayPrototype","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","addToUnscopables","iterators","correctPrototypeGetter","getPrototypeOf","objectGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","ITERATOR","BUGGY_SAFARI_ITERATORS","iteratorsCore","returnThis","createIteratorConstructor","IteratorConstructor","next","Iterators","objectSetPrototypeOf","setPrototypeOf","CORRECT_SETTER","aPossiblePrototype","__proto__","IteratorsCore","KEYS","VALUES","ENTRIES","defineIterator","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","ARRAY_ITERATOR","es_array_iterator","iterated","kind","done","Arguments","nativeJoin","ES3_STRINGS","separator","match","createProperty","propertyKey","engineUserAgent","process","versions","v8","userAgent","engineV8Version","arrayMethodHasSpeciesSupport","V8_VERSION","array","foo","Boolean","HAS_SPECIES_SUPPORT","0","nativeSlice","start","end","Constructor","n","k","fin","toStringTagSupport","CORRECT_ARGUMENTS","TO_STRING_TAG_SUPPORT","tryGet","callee","objectToString","regexpFlags","ignoreCase","multiline","dotAll","unicode","sticky","RE","s","RegExp","regexpStickyHelpers","UNSUPPORTED_Y","re","lastIndex","BROKEN_CARET","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","stickyHelpers","NPCG_INCLUDED","str","reCopy","flags","charsAdded","strCopy","regexpExec","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","p","rf","CONVERT_TO_STRING","pos","first","second","S","position","size","charCodeAt","charAt","stringMultibyte","codeAt","STRING_ITERATOR","point","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","advanceStringIndex","regexpExecAbstract","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","fixRegExpWellKnownSymbolLogic","maybeCallNative","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","res","rx","functionalReplace","fullUnicode","results","regExpExec","accumulatedResult","nextSourcePosition","matched","captures","j","namedCaptures","replacerArgs","getSubstitution","tailPos","m","symbols","ch","capture","sameValue","is","x","y","SEARCH","nativeSearch","searcher","previousLastIndex","MATCH","isRegexp","isRegExp","speciesConstructor","defaultConstructor","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","limit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","unicodeMatching","callRegExpExec","q","A","z","domIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","DOMIterables","Collection","CollectionPrototype","ArrayValues","ArrayIteratorMethods","nativeUrl","url","URL","searchParams","pathname","sort","href","URLSearchParams","username","host","hash","anInstance","nativeAssign","assign","objectAssign","B","alphabet","chr","T","argumentsLength","callWithSafeIterationClosing","returnMethod","isArrayIteratorMethod","getIteratorMethod","arrayFrom","arrayLike","step","mapfn","mapping","iteratorMethod","maxInt","regexNonASCII","regexSeparators","OVERFLOW_ERROR","stringFromCharCode","fromCharCode","digitToBasic","digit","adapt","delta","numPoints","firstTime","baseMinusTMin","base","encode","currentValue","inputLength","counter","extra","ucs2decode","bias","basicLength","handledCPCount","handledCPCountPlusOne","RangeError","t","qMinusT","baseMinusT","redefineAll","getIterator","$fetch","Headers","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","getInternalParamsState","getInternalIteratorState","plus","sequences","percentSequence","bytes","percentDecode","sequence","decodeURIComponent","deserialize","!","'","(",")","~","%20","serialize","encodeURIComponent","parseSearchParams","query","attribute","entry","attributes","shift","updateSearchParams","validateArgumentsLength","passed","required","URLSearchParamsIterator","URLSearchParamsConstructor","entryIterator","entryNext","init","updateURL","hasOwn","URLSearchParamsPrototype","append","delete","splice","getAll","found","entriesIndex","sliceIndex","callback","USE_NATIVE_URL","fetch","body","headers","EOF","web_urlSearchParams","getState","require$$1","NativeURL","URLSearchParamsModule","getInternalSearchParamsState","getInternalURLState","pow","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","parseHost","codePoints","parseIPv6","isSpecial","label","encoded","labels","toASCII","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","part","radix","number","ipv4","parts","pop","parseInt","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","char","serializeHost","ignore0","unshift","ipv6","maxIndex","maxLength","currStart","currLength","findLongestZeroSequence","fragmentPercentEncodeSet"," ","\"","<",">","`","pathPercentEncodeSet","#","?","{","}","userinfoPercentEncodeSet","/",":",";","=","@","[","\\","]","^","|","code","specialSchemes","ftp","file","http","https","ws","wss","scheme","includesCredentials","password","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","third","shortenURLsPath","pathSize","isSingleDot","segment","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","bufferCodePoints","failure","buffer","seenAt","seenBracket","seenPasswordToken","port","fragment","codePoint","encodedCodePoints","URLConstructor","baseState","urlString","searchParamsState","serializeURL","origin","getOrigin","protocol","getProtocol","getUsername","getPassword","getHost","hostname","getHostname","getPort","getPathname","search","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","getter","nativeCreateObjectURL","createObjectURL","nativeRevokeObjectURL","revokeObjectURL","blob","_typeof","obj","_classCallCheck","instance","_defineProperties","props","_createClass","protoProps","staticProps","_defineProperty","ownKeys$1","enumerableOnly","_objectSpread2","getOwnPropertyDescriptors","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","err","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","o","minLen","len","arr2","iteratorSupported","checkIfIteratorIsSupported","createIterator","items","serializeParam","deserializeParam","checkIfURLSearchParamsSupported","searchString","typeofSearchString","_fromString","_this","_entries","thisArg","searchArray","polyfillURLSearchParams","u","checkIfURLIsSupported","_URL","baseElement","doc","location","implementation","createHTMLDocument","head","anchorElement","inputElement","checkValidity","enableSearchUpdate","enableSearchParamsUpdate","methodName","attributeName","_anchorElement","linkURLWithAnchorAttribute","_updateSearchParams","expectedPort","http:","https:","ftp:","addPortToOrigin","polyfillURL","setInterval","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","$filter","$find","FIND","SKIPS_HOLES","SAFE_CLOSING","called","iteratorWithReturn","return","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","INCORRECT_ITERATION","iterable","$includes","$map","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","whitespaces","whitespace","ltrim","rtrim","stringTrim","trim","require$$2","require$$3","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","maxCode","digits","NaN","NumberWrapper","FAILS_ON_PRIMITIVES","nativeKeys","notARegexp","correctIsRegexpLogic","correctIsRegExpLogic","notARegExp","freezing","isExtensible","preventExtensions","internalMetadata","METADATA","setMetadata","objectID","weakData","meta","REQUIRED","fastKey","getWeakData","onFreeze","FREEZING","iterate_1","Result","stopped","AS_ENTRIES","IS_ITERATOR","iterFn","stop","internalStateGetterFor","ArrayIterationModule","uncaughtFrozenStore","frozen","UncaughtFrozenStore","findUncaughtFrozen","collectionWeak","getConstructor","wrapper","CONSTRUCTOR_NAME","ADDER","iterate","$has","add","$every","InternalWeakMap","enforceIternalState","IS_IE11","$WeakMap","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","InternalMetadataModule","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","clear","setStrong","collection","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","$trim","forcedStringTrimMethod","$some","stringRepeat","repeat","count","Infinity","nativeToFixed","toFixed","acc","fractionDigits","thisNumberValue","fractDigits","sign","multiply","c2","divide","dataToString","x2","log","TO_ENTRIES","objectToArray","$entries","$values","r","nativeMatch","matcher","matchStr","defaults","addCSS","thumbWidth","watch","matches","querySelectorAll","instanceOf","isNullOrUndefined","isString","isNodeList","Element","round","getDecimalPlaces","parseFloat","defer","channel","RangeTouch","element","querySelector","rangeTouch","config","enabled","userSelect","webKitUserSelect","touchAction","listeners","changedTouches","getAttribute","getBoundingClientRect","width","clientX","left","disabled","dispatchEvent","trigger","MutationObserver","addedNodes","observe","childList","subtree","documentElement","nativePromiseConstructor","Promise","setSpecies","engineIsIos","setImmediate","clearImmediate","MessageChannel","Dispatch","queue","ONREADYSTATECHANGE","run","runner","listener","post","postMessage","nextTick","now","IS_IOS","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","flush","last","notify","toggle","node","promise","then","task","macrotask","WebKitMutationObserver","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","parent","exit","enter","createTextNode","characterData","resolve","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","microtask","PromiseCapability","reject","$$resolve","$$reject","newPromiseCapability","promiseResolve","promiseCapability","perform","PROMISE","getInternalPromiseState","PromiseConstructor","NativePromise","newPromiseCapabilityModule","newGenericPromiseCapability","DISPATCH_EVENT","UNHANDLED_REJECTION","PromiseRejectionEvent","FakePromise","all","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","initEvent","console","hostReportErrors","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","catch","capability","$promiseResolve","remaining","alreadyCalled","race","nativeStartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","events","isFunction","isEmpty","is$1","Number","KeyboardEvent","TextTrack","transitionEndEvent","WebkitTransition","MozTransition","OTransition","transition","repaint","delay","hidden","offsetHeight","browser","isIE","documentMode","isEdge","isWebkit","isIPhone","platform","isIos","IS_RIGHT","memo","$reduce","right","getDeep","reduce","extend","_len","sources","_key","elements","targets","reverse","child","cloneNode","parentNode","sibling","nextSibling","insertBefore","setAttributes","_ref","_ref3","_ref4","setAttribute","text","innerText","insertElement","removeElement","emptyElement","childNodes","lastChild","replaceElement","newChild","oldChild","replaceChild","getAttributesFromSelector","sel","existingAttributes","existing","selector","className","class","toggleHidden","hide","toggleClass","force","classList","contains","hasClass","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","getElements","container","getElement","setFocus","tabFocus","focus","preventScroll","classNames","range","defaultCodecs","audio/ogg","audio/wav","video/webm","video/mp4","video/ogg","support","audio","video","provider","playsinline","canPlayInline","api","ui","rangeInput","pip","webkitSetPresentationMode","pictureInPictureEnabled","disablePictureInPicture","airplay","WebKitPlaybackTargetAvailabilityEvent","mime","mediaType","isHTML5","media","canPlayType","textTracks","touch","transitions","reducedMotion","matchMedia","supportsPassiveListeners","supported","removeEventListener","toggleListener","passive","eventListeners","on","off","once","_this2","onceCallback","triggerEvent","plyr","unbindListeners","item","ready","_this3","silencePromise","validateRatio","reduceAspectRatio","ratio","_ratio","height","divider","getDivider","w","h","getAspectRatio","parse","embed","_this$media","videoWidth","videoHeight","setAspectRatio","isVideo","_ref2","padding","paddingBottom","isVimeo","vimeo","premium","offsetWidth","getComputedStyle","offset","transform","videoFixedRatio","html5","getSources","getQualityOptions","quality","setup","player","speed","onChange","_player$media","currentTime","paused","preload","readyState","playbackRate","play","load","cancelRequests","blankVideo","debug","dedupe","NativeRegExp","CORRECT_NEW","RegExpWrapper","pattern","thisIsRegExp","patternIsRegExp","flagsAreUndefined","getFlags","proxy","replaceAll","toTitleCase","toUpperCase","substr","toPascalCase","getHTML","innerHTML","resources","youtube","i18n","{seektime}","seekTime","{title}","title","v","Storage","storage","localStorage","getItem","json","JSON","setItem","removeItem","responseType","request","XMLHttpRequest","responseText","response","status","send","loadSprite","prefix","hasId","exists","getElementById","update","insertAdjacentElement","useStorage","cached","trunc","getHours","getMinutes","getSeconds","formatTime","time","displayHours","inverted","format","hours","mins","secs","controls","getIconUrl","cors","iconUrl","svg4everybody","findElements","selectors","buttons","pause","restart","rewind","fastForward","mute","settings","captions","fullscreen","progress","inputs","seek","volume","duration","seekTooltip","tooltip","warn","toggleNativeControls","createIcon","iconPath","iconPrefix","icon","createElementNS","aria-hidden","focusable","use","setAttributeNS","createLabel","attr","createBadge","badge","menu","createButton","buttonType","toCamelCase","labelPressed","iconPressed","control","button","createRange","autocomplete","role","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","updateRangeFill","createProgress","suffixKey","played","suffix","createTime","attrs","bindMenuItemShortcuts","menuItem","which","stopPropagation","isRadioButton","showMenuPanel","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","focusFirstMenuItem","createMenuItem","list","_ref$badge","_ref$checked","checked","aria-checked","flex","children","currentTrack","forceHours","updateTimeDisplay","updateVolume","setRange","muted","pressed","updateProgress","_this4","current","getPercentage","getElementsByTagName","nodeValue","setProgress","buffered","percent","setProperty","updateSeekTooltip","_this5","tooltips","visible","show","clientRect","pageX","timeUpdate","invert","invertTime","seeking","durationUpdate","hasDuration","displayDuration","toggleMenuButton","setting","updateSetting","pane","panels","default","getLabel","setQualityMenu","_this6","checkMenu","getBadge","sorting","setCaptionsMenu","_this7","tracks","getTracks","track","toggled","language","setSpeedMenu","_this8","minimumSpeed","maximumSpeed","popup","firstItem","toggleMenu","composedPath","isMenuItem","getMenuSize","tab","clone","opacity","removeAttribute","scrollWidth","scrollHeight","_this9","restore","propertyName","setDownloadUrl","download","_this10","defaultAttributes","progressContainer","aria-haspopup","aria-controls","aria-expanded","inner","home","backButton","urls","isEmbed","inject","_this11","seektime","addProperty","controlPressed","_this$config","parseUrl","safe","parser","isYouTube","insertAfter","languages","userLanguage","active","trackEvents","_this$captions","currentTrackNode","languageExists","updateCues","setLanguage","activeClass","findTrack","enableTextTrack","sortIsDefault","sorted","getCurrentTrack","cues","activeCues","cue","getCueAsHTML","cueText","caption","autoplay","autopause","toggleInvert","clickToPlay","hideControls","resetOnEnd","disableContextMenu","loop","selected","keyboard","focused","fallback","iosNative","seekLabel","unmute","enableCaptions","disableCaptions","enterFullscreen","exitFullscreen","frameTitle","menuBack","normal","reset","advertisement","qualityBadge","2160","1440","1080","720","576","480","editable","embedContainer","poster","posterEnabled","playing","loading","hover","isTouch","uiSupported","noTransition","previewThumbnails","thumbContainer","thumbContainerShown","imageContainer","timeContainer","scrubbingContainer","scrubbingContainerShown","providers","types","noop","Console","Fullscreen","property","scrollPosition","forceFallback","closest","parentElement","nodeType","trapFocus","scrollX","scrollY","scrollTo","overflow","viewport","hasProperty","cleanupViewport","keyCode","activeElement","shiftKey","webkitEnterFullscreen","toggleFallback","requestFullscreen","navigationUI","webkitExitFullscreen","action","cancelFullScreen","fullscreenElement","shadowRoot","getRootNode","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","pre","mathSign","loadImage","minWidth","image","Image","onload","onerror","naturalWidth","addStyleHook","build","checkPlaying","setTitle","setPoster","togglePoster","enable","backgroundImage","backgroundSize","toggleControls","checkLoading","clearTimeout","timers","controlsElement","recentTouchSeek","lastSeekTime","Date","migrateStyles","getPropertyValue","removeProperty","Listeners","lastKey","focusTimer","lastKeyDown","handleKey","setTabFocus","firstTouch","altKey","ctrlKey","metaKey","togglePlay","increaseVolume","decreaseVolume","forward","toggleCaptions","usingNative","timeStamp","wasKeyDown","setPlayerSize","measure","rect","resized","_player$fullscreen","isEnter","_setPlayerSize","firstChild","_getAspectRatio$call2","videoX","videoY","maxWidth","margin","setGutter","isAudio","ended","proxyEvents","_event$detail","defaultHandler","customHandlerKey","customHandler","returned","hasCustomHandler","inputEvent","currentTarget","hasAttribute","seekTo","loaded","startMove","endMove","startScrubbing","endScrubbing","webkitDirectionInvertedFromDevice","_map2","deltaX","deltaY","direction","abs","$findIndex","FIND_INDEX","nativeLastIndexOf","lastIndexOf","arrayLastIndexOf","fitRatio","outer","PreviewThumbnails","thumbnails","lastMouseMoveTime","mouseDown","loadedImages","thumb","scrubbing","getThumbnails","render","determineContainerAutoSizing","sortAndResolve","promises","getThumbnail","vttDataString","processedList","thumbnail","frames","frame","line","startTime","lineSplit","_lineSplit","_lineSplit$1$split2","matchTimes","endTime","urlPrefix","substring","tempImage","naturalHeight","percentage","mousePosX","showImageAtCurrentTime","toggleThumbContainer","toggleScrubbingContainer","lastTime","remove","setScrubbingContainerSize","setThumbContainerSizeAndPos","thumbNum","hasThumb","qualityIndex","showingThumb","thumbFilename","thumbUrl","currentImageElement","dataset","filename","showImage","removeOldImages","loadingImage","usingSprites","previewImage","showingThumbFilename","newImage","setImageSizeAndOffset","currentImageContainer","preloadNearby","getHigherQuality","currentImage","tagName","removeDelay","deleting","oldThumbFilename","thumbnailsClone","foundOne","newThumbFilename","thumbURL","currentQualityIndex","previewImageHeight","thumbContainerHeight","clearShowing","clientHeight","clientWidth","sizeSpecifiedInCSS","thumbAspectRatio","thumbHeight","setThumbContainerPos","seekbarRect","wassPlayerRect","minVal","maxVal","previewPos","_fitRatio","multiplier","top","currentScrubbingImageElement","currentThumbnailImageElement","insertElements","change","destroy","_sources$","_sources$$provider","crossorigin","failed","jQuery","wassPlayer","original","truthy","tabindex","webkitShowPlaybackTargetPicker","isHidden","hiding","eventName","soft","inputIsValid","fauxDuration","realDuration","mozHasAudio","webkitAudioDecodedByteCount","audioTracks","clamp","updateStorage","prev","curr","currentSrc","requestPictureInPicture","exitPictureInPicture","webkitPresentationMode","pictureInPictureElement","inline"],"mappings":"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","file":"wassPlayer.polyfilled.min.js","sourcesContent":["typeof navigator === \"object\" && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define('WassPlayer', factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.WassPlayer = factory());\n}(this, (function () { 'use strict';\n\n  // Polyfill for creating CustomEvents on IE9/10/11\n  // code pulled from:\n  // https://github.com/d4tocchini/customevent-polyfill\n  // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n  (function () {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    try {\n      var ce = new window.CustomEvent('test', {\n        cancelable: true\n      });\n      ce.preventDefault();\n\n      if (ce.defaultPrevented !== true) {\n        // IE has problems with .preventDefault() on custom events\n        // http://stackoverflow.com/questions/23349191\n        throw new Error('Could not prevent default');\n      }\n    } catch (e) {\n      var CustomEvent = function CustomEvent(event, params) {\n        var evt, origPrevent;\n        params = params || {};\n        params.bubbles = !!params.bubbles;\n        params.cancelable = !!params.cancelable;\n        evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        origPrevent = evt.preventDefault;\n\n        evt.preventDefault = function () {\n          origPrevent.call(this);\n\n          try {\n            Object.defineProperty(this, 'defaultPrevented', {\n              get: function get() {\n                return true;\n              }\n            });\n          } catch (e) {\n            this.defaultPrevented = true;\n          }\n        };\n\n        return evt;\n      };\n\n      CustomEvent.prototype = window.Event.prototype;\n      window.CustomEvent = CustomEvent; // expose definition to window\n    }\n  })();\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    // eslint-disable-next-line no-undef\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func\n    Function('return this')();\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\n  var f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.github.io/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  var f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$1\n  };\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  var f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap$1 = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap$1 === 'function' && /native code/.test(inspectSource(WeakMap$1));\n\n  var isPure = false;\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.6.5',\n    mode:  'global',\n    copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$2 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = new WeakMap$2();\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n      enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    // eslint-disable-next-line no-undef\n    && !Symbol.sham\n    // eslint-disable-next-line no-undef\n    && typeof Symbol.iterator == 'symbol';\n\n  // `IsArray` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var nativeGetOwnPropertyNames = objectGetOwnPropertyNames.f;\n\n  var toString$1 = {}.toString;\n\n  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n    ? Object.getOwnPropertyNames(window) : [];\n\n  var getWindowNames = function (it) {\n    try {\n      return nativeGetOwnPropertyNames(it);\n    } catch (error) {\n      return windowNames.slice();\n    }\n  };\n\n  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n  var f$5 = function getOwnPropertyNames(it) {\n    return windowNames && toString$1.call(it) == '[object Window]'\n      ? getWindowNames(it)\n      : nativeGetOwnPropertyNames(toIndexedObject(it));\n  };\n\n  var objectGetOwnPropertyNamesExternal = {\n  \tf: f$5\n  };\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n      else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    } return WellKnownSymbolsStore[name];\n  };\n\n  var f$6 = wellKnownSymbol;\n\n  var wellKnownSymbolWrapped = {\n  \tf: f$6\n  };\n\n  var defineProperty = objectDefineProperty.f;\n\n  var defineWellKnownSymbol = function (NAME) {\n    var Symbol = path.Symbol || (path.Symbol = {});\n    if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n      value: wellKnownSymbolWrapped.f(NAME)\n    });\n  };\n\n  var defineProperty$1 = objectDefineProperty.f;\n\n\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\n  var setToStringTag = function (it, TAG, STATIC) {\n    if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n      defineProperty$1(it, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var SPECIES = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.github.io/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\n  var createMethod$1 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else if (IS_EVERY) return false;  // every\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$1(0),\n    // `Array.prototype.map` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.map\n    map: createMethod$1(1),\n    // `Array.prototype.filter` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n    filter: createMethod$1(2),\n    // `Array.prototype.some` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.some\n    some: createMethod$1(3),\n    // `Array.prototype.every` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.every\n    every: createMethod$1(4),\n    // `Array.prototype.find` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.find\n    find: createMethod$1(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$1(6)\n  };\n\n  var $forEach = arrayIteration.forEach;\n\n  var HIDDEN = sharedKey('hidden');\n  var SYMBOL = 'Symbol';\n  var PROTOTYPE$1 = 'prototype';\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n  var setInternalState = internalState.set;\n  var getInternalState = internalState.getterFor(SYMBOL);\n  var ObjectPrototype = Object[PROTOTYPE$1];\n  var $Symbol = global_1.Symbol;\n  var $stringify = getBuiltIn('JSON', 'stringify');\n  var nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  var nativeDefineProperty$1 = objectDefineProperty.f;\n  var nativeGetOwnPropertyNames$1 = objectGetOwnPropertyNamesExternal.f;\n  var nativePropertyIsEnumerable$1 = objectPropertyIsEnumerable.f;\n  var AllSymbols = shared('symbols');\n  var ObjectPrototypeSymbols = shared('op-symbols');\n  var StringToSymbolRegistry = shared('string-to-symbol-registry');\n  var SymbolToStringRegistry = shared('symbol-to-string-registry');\n  var WellKnownSymbolsStore$1 = shared('wks');\n  var QObject = global_1.QObject;\n  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n  var USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;\n\n  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n  var setSymbolDescriptor = descriptors && fails(function () {\n    return objectCreate(nativeDefineProperty$1({}, 'a', {\n      get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }\n    })).a != 7;\n  }) ? function (O, P, Attributes) {\n    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype, P);\n    if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n    nativeDefineProperty$1(O, P, Attributes);\n    if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n      nativeDefineProperty$1(ObjectPrototype, P, ObjectPrototypeDescriptor);\n    }\n  } : nativeDefineProperty$1;\n\n  var wrap = function (tag, description) {\n    var symbol = AllSymbols[tag] = objectCreate($Symbol[PROTOTYPE$1]);\n    setInternalState(symbol, {\n      type: SYMBOL,\n      tag: tag,\n      description: description\n    });\n    if (!descriptors) symbol.description = description;\n    return symbol;\n  };\n\n  var isSymbol = useSymbolAsUid ? function (it) {\n    return typeof it == 'symbol';\n  } : function (it) {\n    return Object(it) instanceof $Symbol;\n  };\n\n  var $defineProperty = function defineProperty(O, P, Attributes) {\n    if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n    anObject(O);\n    var key = toPrimitive(P, true);\n    anObject(Attributes);\n    if (has(AllSymbols, key)) {\n      if (!Attributes.enumerable) {\n        if (!has(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor(1, {}));\n        O[HIDDEN][key] = true;\n      } else {\n        if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n        Attributes = objectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n      } return setSymbolDescriptor(O, key, Attributes);\n    } return nativeDefineProperty$1(O, key, Attributes);\n  };\n\n  var $defineProperties = function defineProperties(O, Properties) {\n    anObject(O);\n    var properties = toIndexedObject(Properties);\n    var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n    $forEach(keys, function (key) {\n      if (!descriptors || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n    });\n    return O;\n  };\n\n  var $create = function create(O, Properties) {\n    return Properties === undefined ? objectCreate(O) : $defineProperties(objectCreate(O), Properties);\n  };\n\n  var $propertyIsEnumerable = function propertyIsEnumerable(V) {\n    var P = toPrimitive(V, true);\n    var enumerable = nativePropertyIsEnumerable$1.call(this, P);\n    if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n    return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n  };\n\n  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n    var it = toIndexedObject(O);\n    var key = toPrimitive(P, true);\n    if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);\n    if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n      descriptor.enumerable = true;\n    }\n    return descriptor;\n  };\n\n  var $getOwnPropertyNames = function getOwnPropertyNames(O) {\n    var names = nativeGetOwnPropertyNames$1(toIndexedObject(O));\n    var result = [];\n    $forEach(names, function (key) {\n      if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n    });\n    return result;\n  };\n\n  var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n    var names = nativeGetOwnPropertyNames$1(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n    var result = [];\n    $forEach(names, function (key) {\n      if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n        result.push(AllSymbols[key]);\n      }\n    });\n    return result;\n  };\n\n  // `Symbol` constructor\n  // https://tc39.github.io/ecma262/#sec-symbol-constructor\n  if (!nativeSymbol) {\n    $Symbol = function Symbol() {\n      if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n      var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var tag = uid(description);\n      var setter = function (value) {\n        if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n        if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n        setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n      };\n      if (descriptors && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n      return wrap(tag, description);\n    };\n\n    redefine($Symbol[PROTOTYPE$1], 'toString', function toString() {\n      return getInternalState(this).tag;\n    });\n\n    redefine($Symbol, 'withoutSetter', function (description) {\n      return wrap(uid(description), description);\n    });\n\n    objectPropertyIsEnumerable.f = $propertyIsEnumerable;\n    objectDefineProperty.f = $defineProperty;\n    objectGetOwnPropertyDescriptor.f = $getOwnPropertyDescriptor;\n    objectGetOwnPropertyNames.f = objectGetOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n    objectGetOwnPropertySymbols.f = $getOwnPropertySymbols;\n\n    wellKnownSymbolWrapped.f = function (name) {\n      return wrap(wellKnownSymbol(name), name);\n    };\n\n    if (descriptors) {\n      // https://github.com/tc39/proposal-Symbol-description\n      nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {\n        configurable: true,\n        get: function description() {\n          return getInternalState(this).description;\n        }\n      });\n      {\n        redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n      }\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: !nativeSymbol, sham: !nativeSymbol }, {\n    Symbol: $Symbol\n  });\n\n  $forEach(objectKeys(WellKnownSymbolsStore$1), function (name) {\n    defineWellKnownSymbol(name);\n  });\n\n  _export({ target: SYMBOL, stat: true, forced: !nativeSymbol }, {\n    // `Symbol.for` method\n    // https://tc39.github.io/ecma262/#sec-symbol.for\n    'for': function (key) {\n      var string = String(key);\n      if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n      var symbol = $Symbol(string);\n      StringToSymbolRegistry[string] = symbol;\n      SymbolToStringRegistry[symbol] = string;\n      return symbol;\n    },\n    // `Symbol.keyFor` method\n    // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n    keyFor: function keyFor(sym) {\n      if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n      if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n    },\n    useSetter: function () { USE_SETTER = true; },\n    useSimple: function () { USE_SETTER = false; }\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol, sham: !descriptors }, {\n    // `Object.create` method\n    // https://tc39.github.io/ecma262/#sec-object.create\n    create: $create,\n    // `Object.defineProperty` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperty\n    defineProperty: $defineProperty,\n    // `Object.defineProperties` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperties\n    defineProperties: $defineProperties,\n    // `Object.getOwnPropertyDescriptor` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol }, {\n    // `Object.getOwnPropertyNames` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n    getOwnPropertyNames: $getOwnPropertyNames,\n    // `Object.getOwnPropertySymbols` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n    getOwnPropertySymbols: $getOwnPropertySymbols\n  });\n\n  // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3443\n  _export({ target: 'Object', stat: true, forced: fails(function () { objectGetOwnPropertySymbols.f(1); }) }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n      return objectGetOwnPropertySymbols.f(toObject(it));\n    }\n  });\n\n  // `JSON.stringify` method behavior with symbols\n  // https://tc39.github.io/ecma262/#sec-json.stringify\n  if ($stringify) {\n    var FORCED_JSON_STRINGIFY = !nativeSymbol || fails(function () {\n      var symbol = $Symbol();\n      // MS Edge converts symbol values to JSON as {}\n      return $stringify([symbol]) != '[null]'\n        // WebKit converts symbol values to JSON as null\n        || $stringify({ a: symbol }) != '{}'\n        // V8 throws on boxed symbols\n        || $stringify(Object(symbol)) != '{}';\n    });\n\n    _export({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n      // eslint-disable-next-line no-unused-vars\n      stringify: function stringify(it, replacer, space) {\n        var args = [it];\n        var index = 1;\n        var $replacer;\n        while (arguments.length > index) args.push(arguments[index++]);\n        $replacer = replacer;\n        if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        if (!isArray(replacer)) replacer = function (key, value) {\n          if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return $stringify.apply(null, args);\n      }\n    });\n  }\n\n  // `Symbol.prototype[@@toPrimitive]` method\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\n  if (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]) {\n    createNonEnumerableProperty($Symbol[PROTOTYPE$1], TO_PRIMITIVE, $Symbol[PROTOTYPE$1].valueOf);\n  }\n  // `Symbol.prototype[@@toStringTag]` property\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\n  setToStringTag($Symbol, SYMBOL);\n\n  hiddenKeys[HIDDEN] = true;\n\n  var defineProperty$2 = objectDefineProperty.f;\n\n\n  var NativeSymbol = global_1.Symbol;\n\n  if (descriptors && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n    // Safari 12 bug\n    NativeSymbol().description !== undefined\n  )) {\n    var EmptyStringDescriptionStore = {};\n    // wrap Symbol constructor for correct work with undefined description\n    var SymbolWrapper = function Symbol() {\n      var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var result = this instanceof SymbolWrapper\n        ? new NativeSymbol(description)\n        // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n        : description === undefined ? NativeSymbol() : NativeSymbol(description);\n      if (description === '') EmptyStringDescriptionStore[result] = true;\n      return result;\n    };\n    copyConstructorProperties(SymbolWrapper, NativeSymbol);\n    var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n    symbolPrototype.constructor = SymbolWrapper;\n\n    var symbolToString = symbolPrototype.toString;\n    var native = String(NativeSymbol('test')) == 'Symbol(test)';\n    var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n    defineProperty$2(symbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        var symbol = isObject(this) ? this.valueOf() : this;\n        var string = symbolToString.call(symbol);\n        if (has(EmptyStringDescriptionStore, symbol)) return '';\n        var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n        return desc === '' ? undefined : desc;\n      }\n    });\n\n    _export({ global: true, forced: true }, {\n      Symbol: SymbolWrapper\n    });\n  }\n\n  // `Symbol.iterator` well-known symbol\n  // https://tc39.github.io/ecma262/#sec-symbol.iterator\n  defineWellKnownSymbol('iterator');\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var defineProperty$3 = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function (it) { throw it; };\n\n  var arrayMethodUsesToLength = function (METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = { length: -1 };\n\n      if (ACCESSORS) defineProperty$3(O, 1, { enumerable: true, get: thrower });\n      else O[1] = 1;\n\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $forEach$1 = arrayIteration.forEach;\n\n\n\n  var STRICT_METHOD = arrayMethodIsStrict('forEach');\n  var USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n  // `Array.prototype.forEach` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  var arrayForEach = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n    return $forEach$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  } : [].forEach;\n\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  _export({ target: 'Array', proto: true, forced: [].forEach != arrayForEach }, {\n    forEach: arrayForEach\n  });\n\n  var $indexOf = arrayIncludes.indexOf;\n\n\n\n  var nativeIndexOf = [].indexOf;\n\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  _export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD$1 || !USES_TO_LENGTH$1 }, {\n    indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n      return NEGATIVE_ZERO\n        // convert -0 to +0\n        ? nativeIndexOf.apply(this, arguments) || 0\n        : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var iterators = {};\n\n  var correctPrototypeGetter = !fails(function () {\n    function F() { /* empty */ }\n    F.prototype.constructor = null;\n    return Object.getPrototypeOf(new F()) !== F.prototype;\n  });\n\n  var IE_PROTO$1 = sharedKey('IE_PROTO');\n  var ObjectPrototype$1 = Object.prototype;\n\n  // `Object.getPrototypeOf` method\n  // https://tc39.github.io/ecma262/#sec-object.getprototypeof\n  var objectGetPrototypeOf = correctPrototypeGetter ? Object.getPrototypeOf : function (O) {\n    O = toObject(O);\n    if (has(O, IE_PROTO$1)) return O[IE_PROTO$1];\n    if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n      return O.constructor.prototype;\n    } return O instanceof Object ? ObjectPrototype$1 : null;\n  };\n\n  var ITERATOR = wellKnownSymbol('iterator');\n  var BUGGY_SAFARI_ITERATORS = false;\n\n  var returnThis = function () { return this; };\n\n  // `%IteratorPrototype%` object\n  // https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\n  var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n  if ([].keys) {\n    arrayIterator = [].keys();\n    // Safari 8 has buggy iterators w/o `next`\n    if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n    else {\n      PrototypeOfArrayIteratorPrototype = objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator));\n      if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n    }\n  }\n\n  if (IteratorPrototype == undefined) IteratorPrototype = {};\n\n  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n  if ( !has(IteratorPrototype, ITERATOR)) {\n    createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n  }\n\n  var iteratorsCore = {\n    IteratorPrototype: IteratorPrototype,\n    BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n  };\n\n  var IteratorPrototype$1 = iteratorsCore.IteratorPrototype;\n\n\n\n\n\n  var returnThis$1 = function () { return this; };\n\n  var createIteratorConstructor = function (IteratorConstructor, NAME, next) {\n    var TO_STRING_TAG = NAME + ' Iterator';\n    IteratorConstructor.prototype = objectCreate(IteratorPrototype$1, { next: createPropertyDescriptor(1, next) });\n    setToStringTag(IteratorConstructor, TO_STRING_TAG, false);\n    iterators[TO_STRING_TAG] = returnThis$1;\n    return IteratorConstructor;\n  };\n\n  var aPossiblePrototype = function (it) {\n    if (!isObject(it) && it !== null) {\n      throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n    } return it;\n  };\n\n  // `Object.setPrototypeOf` method\n  // https://tc39.github.io/ecma262/#sec-object.setprototypeof\n  // Works with __proto__ only. Old v8 can't work with null proto objects.\n  /* eslint-disable no-proto */\n  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n    var CORRECT_SETTER = false;\n    var test = {};\n    var setter;\n    try {\n      setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n      setter.call(test, []);\n      CORRECT_SETTER = test instanceof Array;\n    } catch (error) { /* empty */ }\n    return function setPrototypeOf(O, proto) {\n      anObject(O);\n      aPossiblePrototype(proto);\n      if (CORRECT_SETTER) setter.call(O, proto);\n      else O.__proto__ = proto;\n      return O;\n    };\n  }() : undefined);\n\n  var IteratorPrototype$2 = iteratorsCore.IteratorPrototype;\n  var BUGGY_SAFARI_ITERATORS$1 = iteratorsCore.BUGGY_SAFARI_ITERATORS;\n  var ITERATOR$1 = wellKnownSymbol('iterator');\n  var KEYS = 'keys';\n  var VALUES = 'values';\n  var ENTRIES = 'entries';\n\n  var returnThis$2 = function () { return this; };\n\n  var defineIterator = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n    createIteratorConstructor(IteratorConstructor, NAME, next);\n\n    var getIterationMethod = function (KIND) {\n      if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n      if (!BUGGY_SAFARI_ITERATORS$1 && KIND in IterablePrototype) return IterablePrototype[KIND];\n      switch (KIND) {\n        case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n        case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n        case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n      } return function () { return new IteratorConstructor(this); };\n    };\n\n    var TO_STRING_TAG = NAME + ' Iterator';\n    var INCORRECT_VALUES_NAME = false;\n    var IterablePrototype = Iterable.prototype;\n    var nativeIterator = IterablePrototype[ITERATOR$1]\n      || IterablePrototype['@@iterator']\n      || DEFAULT && IterablePrototype[DEFAULT];\n    var defaultIterator = !BUGGY_SAFARI_ITERATORS$1 && nativeIterator || getIterationMethod(DEFAULT);\n    var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n    var CurrentIteratorPrototype, methods, KEY;\n\n    // fix native\n    if (anyNativeIterator) {\n      CurrentIteratorPrototype = objectGetPrototypeOf(anyNativeIterator.call(new Iterable()));\n      if (IteratorPrototype$2 !== Object.prototype && CurrentIteratorPrototype.next) {\n        if ( objectGetPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype$2) {\n          if (objectSetPrototypeOf) {\n            objectSetPrototypeOf(CurrentIteratorPrototype, IteratorPrototype$2);\n          } else if (typeof CurrentIteratorPrototype[ITERATOR$1] != 'function') {\n            createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR$1, returnThis$2);\n          }\n        }\n        // Set @@toStringTag to native iterators\n        setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true);\n      }\n    }\n\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return nativeIterator.call(this); };\n    }\n\n    // define iterator\n    if ( IterablePrototype[ITERATOR$1] !== defaultIterator) {\n      createNonEnumerableProperty(IterablePrototype, ITERATOR$1, defaultIterator);\n    }\n    iterators[NAME] = defaultIterator;\n\n    // export additional methods\n    if (DEFAULT) {\n      methods = {\n        values: getIterationMethod(VALUES),\n        keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n        entries: getIterationMethod(ENTRIES)\n      };\n      if (FORCED) for (KEY in methods) {\n        if (BUGGY_SAFARI_ITERATORS$1 || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n          redefine(IterablePrototype, KEY, methods[KEY]);\n        }\n      } else _export({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS$1 || INCORRECT_VALUES_NAME }, methods);\n    }\n\n    return methods;\n  };\n\n  var ARRAY_ITERATOR = 'Array Iterator';\n  var setInternalState$1 = internalState.set;\n  var getInternalState$1 = internalState.getterFor(ARRAY_ITERATOR);\n\n  // `Array.prototype.entries` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.entries\n  // `Array.prototype.keys` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.keys\n  // `Array.prototype.values` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.values\n  // `Array.prototype[@@iterator]` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n  // `CreateArrayIterator` internal method\n  // https://tc39.github.io/ecma262/#sec-createarrayiterator\n  var es_array_iterator = defineIterator(Array, 'Array', function (iterated, kind) {\n    setInternalState$1(this, {\n      type: ARRAY_ITERATOR,\n      target: toIndexedObject(iterated), // target\n      index: 0,                          // next index\n      kind: kind                         // kind\n    });\n  // `%ArrayIteratorPrototype%.next` method\n  // https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n  }, function () {\n    var state = getInternalState$1(this);\n    var target = state.target;\n    var kind = state.kind;\n    var index = state.index++;\n    if (!target || index >= target.length) {\n      state.target = undefined;\n      return { value: undefined, done: true };\n    }\n    if (kind == 'keys') return { value: index, done: false };\n    if (kind == 'values') return { value: target[index], done: false };\n    return { value: [index, target[index]], done: false };\n  }, 'values');\n\n  // argumentsList[@@iterator] is %ArrayProto_values%\n  // https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n  // https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\n  iterators.Arguments = iterators.Array;\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('keys');\n  addToUnscopables('values');\n  addToUnscopables('entries');\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$2 = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$2 }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$1] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var SPECIES$2 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$1 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH$2 }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$2];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$1(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG$1] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$2 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$2)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n\n  var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n  // FF44- RegExp#toString has a wrong name\n  var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n  // `RegExp.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, { unsafe: true });\n  }\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$2 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$2(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$2(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n\n\n  var STRING_ITERATOR = 'String Iterator';\n  var setInternalState$2 = internalState.set;\n  var getInternalState$2 = internalState.getterFor(STRING_ITERATOR);\n\n  // `String.prototype[@@iterator]` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\n  defineIterator(String, 'String', function (iterated) {\n    setInternalState$2(this, {\n      type: STRING_ITERATOR,\n      string: String(iterated),\n      index: 0\n    });\n  // `%StringIteratorPrototype%.next` method\n  // https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n  }, function next() {\n    var state = getInternalState$2(this);\n    var string = state.string;\n    var index = state.index;\n    var point;\n    if (index >= string.length) return { value: undefined, done: true };\n    point = charAt(string, index);\n    state.index += point.length;\n    return { value: point, done: false };\n  });\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES$3] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  var charAt$1 = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.github.io/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt$1(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.github.io/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  var max$2 = Math.max;\n  var min$2 = Math.min;\n  var floor$1 = Math.floor;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$2(min$2(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n    function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n      var tailPos = position + matched.length;\n      var m = captures.length;\n      var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n      if (namedCaptures !== undefined) {\n        namedCaptures = toObject(namedCaptures);\n        symbols = SUBSTITUTION_SYMBOLS;\n      }\n      return nativeReplace.call(replacement, symbols, function (match, ch) {\n        var capture;\n        switch (ch.charAt(0)) {\n          case '$': return '$';\n          case '&': return matched;\n          case '`': return str.slice(0, position);\n          case \"'\": return str.slice(tailPos);\n          case '<':\n            capture = namedCaptures[ch.slice(1, -1)];\n            break;\n          default: // \\d\\d?\n            var n = +ch;\n            if (n === 0) return match;\n            if (n > m) {\n              var f = floor$1(n / 10);\n              if (f === 0) return match;\n              if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n              return match;\n            }\n            capture = captures[n - 1];\n        }\n        return capture === undefined ? '' : capture;\n      });\n    }\n  });\n\n  // `SameValue` abstract operation\n  // https://tc39.github.io/ecma262/#sec-samevalue\n  var sameValue = Object.is || function is(x, y) {\n    // eslint-disable-next-line no-self-compare\n    return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n  };\n\n  // @@search logic\n  fixRegexpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n    return [\n      // `String.prototype.search` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.search\n      function search(regexp) {\n        var O = requireObjectCoercible(this);\n        var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n        return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n      },\n      // `RegExp.prototype[@@search]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n      function (regexp) {\n        var res = maybeCallNative(nativeSearch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var previousLastIndex = rx.lastIndex;\n        if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n        var result = regexpExecAbstract(rx, S);\n        if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n        return result === null ? -1 : result.index;\n      }\n    ];\n  });\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var SPECIES$4 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.github.io/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$4]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$3 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF;\n\n  // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n  var SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n  // @@split logic\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n    if (\n      'abbc'.split(/(b)*/)[1] == 'c' ||\n      'test'.split(/(?:)/, -1).length != 4 ||\n      'ab'.split(/(?:ab)*/).length != 2 ||\n      '.'.split(/(.?)(.?)/).length != 4 ||\n      '.'.split(/()()/).length > 1 ||\n      ''.split(/.?/).length\n    ) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function (separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string];\n        // If `separator` is not a regex, use native split\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output.length > lim ? output.slice(0, lim) : output;\n      };\n    // Chakra, V8\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [\n      // `String.prototype.split` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.split\n      function split(separator, limit) {\n        var O = requireObjectCoercible(this);\n        var splitter = separator == undefined ? undefined : separator[SPLIT];\n        return splitter !== undefined\n          ? splitter.call(separator, O, limit)\n          : internalSplit.call(String(O), separator, limit);\n      },\n      // `RegExp.prototype[@@split]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n      //\n      // NOTE: This cannot be properly polyfilled in engines that don't support\n      // the 'y' flag.\n      function (regexp, limit) {\n        var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n        var C = speciesConstructor(rx, RegExp);\n\n        var unicodeMatching = rx.unicode;\n        var flags = (rx.ignoreCase ? 'i' : '') +\n                    (rx.multiline ? 'm' : '') +\n                    (rx.unicode ? 'u' : '') +\n                    (SUPPORTS_Y ? 'y' : 'g');\n\n        // ^(? + rx + ) is needed, in combination with some S slicing, to\n        // simulate the 'y' flag.\n        var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n        var p = 0;\n        var q = 0;\n        var A = [];\n        while (q < S.length) {\n          splitter.lastIndex = SUPPORTS_Y ? q : 0;\n          var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n          var e;\n          if (\n            z === null ||\n            (e = min$3(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n          ) {\n            q = advanceStringIndex(S, q, unicodeMatching);\n          } else {\n            A.push(S.slice(p, q));\n            if (A.length === lim) return A;\n            for (var i = 1; i <= z.length - 1; i++) {\n              A.push(z[i]);\n              if (A.length === lim) return A;\n            }\n            q = p = e;\n          }\n        }\n        A.push(S.slice(p));\n        return A;\n      }\n    ];\n  }, !SUPPORTS_Y);\n\n  // iterable DOM collections\n  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n  var domIterables = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  };\n\n  for (var COLLECTION_NAME in domIterables) {\n    var Collection = global_1[COLLECTION_NAME];\n    var CollectionPrototype = Collection && Collection.prototype;\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype && CollectionPrototype.forEach !== arrayForEach) try {\n      createNonEnumerableProperty(CollectionPrototype, 'forEach', arrayForEach);\n    } catch (error) {\n      CollectionPrototype.forEach = arrayForEach;\n    }\n  }\n\n  var ITERATOR$2 = wellKnownSymbol('iterator');\n  var TO_STRING_TAG$3 = wellKnownSymbol('toStringTag');\n  var ArrayValues = es_array_iterator.values;\n\n  for (var COLLECTION_NAME$1 in domIterables) {\n    var Collection$1 = global_1[COLLECTION_NAME$1];\n    var CollectionPrototype$1 = Collection$1 && Collection$1.prototype;\n    if (CollectionPrototype$1) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype$1[ITERATOR$2] !== ArrayValues) try {\n        createNonEnumerableProperty(CollectionPrototype$1, ITERATOR$2, ArrayValues);\n      } catch (error) {\n        CollectionPrototype$1[ITERATOR$2] = ArrayValues;\n      }\n      if (!CollectionPrototype$1[TO_STRING_TAG$3]) {\n        createNonEnumerableProperty(CollectionPrototype$1, TO_STRING_TAG$3, COLLECTION_NAME$1);\n      }\n      if (domIterables[COLLECTION_NAME$1]) for (var METHOD_NAME in es_array_iterator) {\n        // some Chrome versions have non-configurable methods on DOMTokenList\n        if (CollectionPrototype$1[METHOD_NAME] !== es_array_iterator[METHOD_NAME]) try {\n          createNonEnumerableProperty(CollectionPrototype$1, METHOD_NAME, es_array_iterator[METHOD_NAME]);\n        } catch (error) {\n          CollectionPrototype$1[METHOD_NAME] = es_array_iterator[METHOD_NAME];\n        }\n      }\n    }\n  }\n\n  var ITERATOR$3 = wellKnownSymbol('iterator');\n\n  var nativeUrl = !fails(function () {\n    var url = new URL('b?a=1&b=2&c=3', 'http://a');\n    var searchParams = url.searchParams;\n    var result = '';\n    url.pathname = 'c%20d';\n    searchParams.forEach(function (value, key) {\n      searchParams['delete']('b');\n      result += key + value;\n    });\n    return (isPure && !url.toJSON)\n      || !searchParams.sort\n      || url.href !== 'http://a/c%20d?a=1&c=3'\n      || searchParams.get('c') !== '3'\n      || String(new URLSearchParams('?a=1')) !== 'a=1'\n      || !searchParams[ITERATOR$3]\n      // throws in Edge\n      || new URL('https://a@b').username !== 'a'\n      || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n      // not punycoded in Edge\n      || new URL('http://').host !== 'xn--e1aybc'\n      // not escaped in Chrome 62-\n      || new URL('http://a#').hash !== '#%D0%B1'\n      // fails in Chrome 66-\n      || result !== 'a1c3'\n      // throws in Safari\n      || new URL('http://x', undefined).host !== 'x';\n  });\n\n  var anInstance = function (it, Constructor, name) {\n    if (!(it instanceof Constructor)) {\n      throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n    } return it;\n  };\n\n  var nativeAssign = Object.assign;\n  var defineProperty$4 = Object.defineProperty;\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  var objectAssign = !nativeAssign || fails(function () {\n    // should have correct order of operations (Edge bug)\n    if (descriptors && nativeAssign({ b: 1 }, nativeAssign(defineProperty$4({}, 'a', {\n      enumerable: true,\n      get: function () {\n        defineProperty$4(this, 'b', {\n          value: 3,\n          enumerable: false\n        });\n      }\n    }), { b: 2 })).b !== 1) return true;\n    // should work with symbols and should have deterministic property order (V8 bug)\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var symbol = Symbol();\n    var alphabet = 'abcdefghijklmnopqrst';\n    A[symbol] = 7;\n    alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n    return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = toObject(target);\n    var argumentsLength = arguments.length;\n    var index = 1;\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n    while (argumentsLength > index) {\n      var S = indexedObject(arguments[index++]);\n      var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) {\n        key = keys[j++];\n        if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n      }\n    } return T;\n  } : nativeAssign;\n\n  // call something on iterator step with safe closing on error\n  var callWithSafeIterationClosing = function (iterator, fn, value, ENTRIES) {\n    try {\n      return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n    // 7.4.6 IteratorClose(iterator, completion)\n    } catch (error) {\n      var returnMethod = iterator['return'];\n      if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n      throw error;\n    }\n  };\n\n  var ITERATOR$4 = wellKnownSymbol('iterator');\n  var ArrayPrototype$1 = Array.prototype;\n\n  // check on default Array iterator\n  var isArrayIteratorMethod = function (it) {\n    return it !== undefined && (iterators.Array === it || ArrayPrototype$1[ITERATOR$4] === it);\n  };\n\n  var ITERATOR$5 = wellKnownSymbol('iterator');\n\n  var getIteratorMethod = function (it) {\n    if (it != undefined) return it[ITERATOR$5]\n      || it['@@iterator']\n      || iterators[classof(it)];\n  };\n\n  // `Array.from` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.from\n  var arrayFrom = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var argumentsLength = arguments.length;\n    var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iteratorMethod = getIteratorMethod(O);\n    var index = 0;\n    var length, result, step, iterator, next, value;\n    if (mapping) mapfn = functionBindContext(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n    // if the target is not iterable or it's an array with the default iterator - use a simple case\n    if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n      iterator = iteratorMethod.call(O);\n      next = iterator.next;\n      result = new C();\n      for (;!(step = next.call(iterator)).done; index++) {\n        value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n        createProperty(result, index, value);\n      }\n    } else {\n      length = toLength(O.length);\n      result = new C(length);\n      for (;length > index; index++) {\n        value = mapping ? mapfn(O[index], index) : O[index];\n        createProperty(result, index, value);\n      }\n    }\n    result.length = index;\n    return result;\n  };\n\n  // based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\n  var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n  var base = 36;\n  var tMin = 1;\n  var tMax = 26;\n  var skew = 38;\n  var damp = 700;\n  var initialBias = 72;\n  var initialN = 128; // 0x80\n  var delimiter = '-'; // '\\x2D'\n  var regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\n  var regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n  var OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\n  var baseMinusTMin = base - tMin;\n  var floor$2 = Math.floor;\n  var stringFromCharCode = String.fromCharCode;\n\n  /**\n   * Creates an array containing the numeric code points of each Unicode\n   * character in the string. While JavaScript uses UCS-2 internally,\n   * this function will convert a pair of surrogate halves (each of which\n   * UCS-2 exposes as separate characters) into a single code point,\n   * matching UTF-16.\n   */\n  var ucs2decode = function (string) {\n    var output = [];\n    var counter = 0;\n    var length = string.length;\n    while (counter < length) {\n      var value = string.charCodeAt(counter++);\n      if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n        // It's a high surrogate, and there is a next character.\n        var extra = string.charCodeAt(counter++);\n        if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n          output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n        } else {\n          // It's an unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair.\n          output.push(value);\n          counter--;\n        }\n      } else {\n        output.push(value);\n      }\n    }\n    return output;\n  };\n\n  /**\n   * Converts a digit/integer into a basic code point.\n   */\n  var digitToBasic = function (digit) {\n    //  0..25 map to ASCII a..z or A..Z\n    // 26..35 map to ASCII 0..9\n    return digit + 22 + 75 * (digit < 26);\n  };\n\n  /**\n   * Bias adaptation function as per section 3.4 of RFC 3492.\n   * https://tools.ietf.org/html/rfc3492#section-3.4\n   */\n  var adapt = function (delta, numPoints, firstTime) {\n    var k = 0;\n    delta = firstTime ? floor$2(delta / damp) : delta >> 1;\n    delta += floor$2(delta / numPoints);\n    for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n      delta = floor$2(delta / baseMinusTMin);\n    }\n    return floor$2(k + (baseMinusTMin + 1) * delta / (delta + skew));\n  };\n\n  /**\n   * Converts a string of Unicode symbols (e.g. a domain name label) to a\n   * Punycode string of ASCII-only symbols.\n   */\n  // eslint-disable-next-line  max-statements\n  var encode = function (input) {\n    var output = [];\n\n    // Convert the input in UCS-2 to an array of Unicode code points.\n    input = ucs2decode(input);\n\n    // Cache the length.\n    var inputLength = input.length;\n\n    // Initialize the state.\n    var n = initialN;\n    var delta = 0;\n    var bias = initialBias;\n    var i, currentValue;\n\n    // Handle the basic code points.\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < 0x80) {\n        output.push(stringFromCharCode(currentValue));\n      }\n    }\n\n    var basicLength = output.length; // number of basic code points.\n    var handledCPCount = basicLength; // number of code points that have been handled;\n\n    // Finish the basic string with a delimiter unless it's empty.\n    if (basicLength) {\n      output.push(delimiter);\n    }\n\n    // Main encoding loop:\n    while (handledCPCount < inputLength) {\n      // All non-basic code points < n have been handled already. Find the next larger one:\n      var m = maxInt;\n      for (i = 0; i < input.length; i++) {\n        currentValue = input[i];\n        if (currentValue >= n && currentValue < m) {\n          m = currentValue;\n        }\n      }\n\n      // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n      var handledCPCountPlusOne = handledCPCount + 1;\n      if (m - n > floor$2((maxInt - delta) / handledCPCountPlusOne)) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n\n      delta += (m - n) * handledCPCountPlusOne;\n      n = m;\n\n      for (i = 0; i < input.length; i++) {\n        currentValue = input[i];\n        if (currentValue < n && ++delta > maxInt) {\n          throw RangeError(OVERFLOW_ERROR);\n        }\n        if (currentValue == n) {\n          // Represent delta as a generalized variable-length integer.\n          var q = delta;\n          for (var k = base; /* no condition */; k += base) {\n            var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n            if (q < t) break;\n            var qMinusT = q - t;\n            var baseMinusT = base - t;\n            output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n            q = floor$2(qMinusT / baseMinusT);\n          }\n\n          output.push(stringFromCharCode(digitToBasic(q)));\n          bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n          delta = 0;\n          ++handledCPCount;\n        }\n      }\n\n      ++delta;\n      ++n;\n    }\n    return output.join('');\n  };\n\n  var stringPunycodeToAscii = function (input) {\n    var encoded = [];\n    var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n    var i, label;\n    for (i = 0; i < labels.length; i++) {\n      label = labels[i];\n      encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n    }\n    return encoded.join('.');\n  };\n\n  var redefineAll = function (target, src, options) {\n    for (var key in src) redefine(target, key, src[key], options);\n    return target;\n  };\n\n  var getIterator = function (it) {\n    var iteratorMethod = getIteratorMethod(it);\n    if (typeof iteratorMethod != 'function') {\n      throw TypeError(String(it) + ' is not iterable');\n    } return anObject(iteratorMethod.call(it));\n  };\n\n  // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var $fetch = getBuiltIn('fetch');\n  var Headers = getBuiltIn('Headers');\n  var ITERATOR$6 = wellKnownSymbol('iterator');\n  var URL_SEARCH_PARAMS = 'URLSearchParams';\n  var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\n  var setInternalState$3 = internalState.set;\n  var getInternalParamsState = internalState.getterFor(URL_SEARCH_PARAMS);\n  var getInternalIteratorState = internalState.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\n  var plus = /\\+/g;\n  var sequences = Array(4);\n\n  var percentSequence = function (bytes) {\n    return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n  };\n\n  var percentDecode = function (sequence) {\n    try {\n      return decodeURIComponent(sequence);\n    } catch (error) {\n      return sequence;\n    }\n  };\n\n  var deserialize = function (it) {\n    var result = it.replace(plus, ' ');\n    var bytes = 4;\n    try {\n      return decodeURIComponent(result);\n    } catch (error) {\n      while (bytes) {\n        result = result.replace(percentSequence(bytes--), percentDecode);\n      }\n      return result;\n    }\n  };\n\n  var find = /[!'()~]|%20/g;\n\n  var replace = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+'\n  };\n\n  var replacer = function (match) {\n    return replace[match];\n  };\n\n  var serialize = function (it) {\n    return encodeURIComponent(it).replace(find, replacer);\n  };\n\n  var parseSearchParams = function (result, query) {\n    if (query) {\n      var attributes = query.split('&');\n      var index = 0;\n      var attribute, entry;\n      while (index < attributes.length) {\n        attribute = attributes[index++];\n        if (attribute.length) {\n          entry = attribute.split('=');\n          result.push({\n            key: deserialize(entry.shift()),\n            value: deserialize(entry.join('='))\n          });\n        }\n      }\n    }\n  };\n\n  var updateSearchParams = function (query) {\n    this.entries.length = 0;\n    parseSearchParams(this.entries, query);\n  };\n\n  var validateArgumentsLength = function (passed, required) {\n    if (passed < required) throw TypeError('Not enough arguments');\n  };\n\n  var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n    setInternalState$3(this, {\n      type: URL_SEARCH_PARAMS_ITERATOR,\n      iterator: getIterator(getInternalParamsState(params).entries),\n      kind: kind\n    });\n  }, 'Iterator', function next() {\n    var state = getInternalIteratorState(this);\n    var kind = state.kind;\n    var step = state.iterator.next();\n    var entry = step.value;\n    if (!step.done) {\n      step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n    } return step;\n  });\n\n  // `URLSearchParams` constructor\n  // https://url.spec.whatwg.org/#interface-urlsearchparams\n  var URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n    anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n    var init = arguments.length > 0 ? arguments[0] : undefined;\n    var that = this;\n    var entries = [];\n    var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n    setInternalState$3(that, {\n      type: URL_SEARCH_PARAMS,\n      entries: entries,\n      updateURL: function () { /* empty */ },\n      updateSearchParams: updateSearchParams\n    });\n\n    if (init !== undefined) {\n      if (isObject(init)) {\n        iteratorMethod = getIteratorMethod(init);\n        if (typeof iteratorMethod === 'function') {\n          iterator = iteratorMethod.call(init);\n          next = iterator.next;\n          while (!(step = next.call(iterator)).done) {\n            entryIterator = getIterator(anObject(step.value));\n            entryNext = entryIterator.next;\n            if (\n              (first = entryNext.call(entryIterator)).done ||\n              (second = entryNext.call(entryIterator)).done ||\n              !entryNext.call(entryIterator).done\n            ) throw TypeError('Expected sequence with length 2');\n            entries.push({ key: first.value + '', value: second.value + '' });\n          }\n        } else for (key in init) if (has(init, key)) entries.push({ key: key, value: init[key] + '' });\n      } else {\n        parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n      }\n    }\n  };\n\n  var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\n  redefineAll(URLSearchParamsPrototype, {\n    // `URLSearchParams.prototype.appent` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n    append: function append(name, value) {\n      validateArgumentsLength(arguments.length, 2);\n      var state = getInternalParamsState(this);\n      state.entries.push({ key: name + '', value: value + '' });\n      state.updateURL();\n    },\n    // `URLSearchParams.prototype.delete` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n    'delete': function (name) {\n      validateArgumentsLength(arguments.length, 1);\n      var state = getInternalParamsState(this);\n      var entries = state.entries;\n      var key = name + '';\n      var index = 0;\n      while (index < entries.length) {\n        if (entries[index].key === key) entries.splice(index, 1);\n        else index++;\n      }\n      state.updateURL();\n    },\n    // `URLSearchParams.prototype.get` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n    get: function get(name) {\n      validateArgumentsLength(arguments.length, 1);\n      var entries = getInternalParamsState(this).entries;\n      var key = name + '';\n      var index = 0;\n      for (; index < entries.length; index++) {\n        if (entries[index].key === key) return entries[index].value;\n      }\n      return null;\n    },\n    // `URLSearchParams.prototype.getAll` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n    getAll: function getAll(name) {\n      validateArgumentsLength(arguments.length, 1);\n      var entries = getInternalParamsState(this).entries;\n      var key = name + '';\n      var result = [];\n      var index = 0;\n      for (; index < entries.length; index++) {\n        if (entries[index].key === key) result.push(entries[index].value);\n      }\n      return result;\n    },\n    // `URLSearchParams.prototype.has` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n    has: function has(name) {\n      validateArgumentsLength(arguments.length, 1);\n      var entries = getInternalParamsState(this).entries;\n      var key = name + '';\n      var index = 0;\n      while (index < entries.length) {\n        if (entries[index++].key === key) return true;\n      }\n      return false;\n    },\n    // `URLSearchParams.prototype.set` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n    set: function set(name, value) {\n      validateArgumentsLength(arguments.length, 1);\n      var state = getInternalParamsState(this);\n      var entries = state.entries;\n      var found = false;\n      var key = name + '';\n      var val = value + '';\n      var index = 0;\n      var entry;\n      for (; index < entries.length; index++) {\n        entry = entries[index];\n        if (entry.key === key) {\n          if (found) entries.splice(index--, 1);\n          else {\n            found = true;\n            entry.value = val;\n          }\n        }\n      }\n      if (!found) entries.push({ key: key, value: val });\n      state.updateURL();\n    },\n    // `URLSearchParams.prototype.sort` method\n    // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n    sort: function sort() {\n      var state = getInternalParamsState(this);\n      var entries = state.entries;\n      // Array#sort is not stable in some engines\n      var slice = entries.slice();\n      var entry, entriesIndex, sliceIndex;\n      entries.length = 0;\n      for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n        entry = slice[sliceIndex];\n        for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n          if (entries[entriesIndex].key > entry.key) {\n            entries.splice(entriesIndex, 0, entry);\n            break;\n          }\n        }\n        if (entriesIndex === sliceIndex) entries.push(entry);\n      }\n      state.updateURL();\n    },\n    // `URLSearchParams.prototype.forEach` method\n    forEach: function forEach(callback /* , thisArg */) {\n      var entries = getInternalParamsState(this).entries;\n      var boundFunction = functionBindContext(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n      var index = 0;\n      var entry;\n      while (index < entries.length) {\n        entry = entries[index++];\n        boundFunction(entry.value, entry.key, this);\n      }\n    },\n    // `URLSearchParams.prototype.keys` method\n    keys: function keys() {\n      return new URLSearchParamsIterator(this, 'keys');\n    },\n    // `URLSearchParams.prototype.values` method\n    values: function values() {\n      return new URLSearchParamsIterator(this, 'values');\n    },\n    // `URLSearchParams.prototype.entries` method\n    entries: function entries() {\n      return new URLSearchParamsIterator(this, 'entries');\n    }\n  }, { enumerable: true });\n\n  // `URLSearchParams.prototype[@@iterator]` method\n  redefine(URLSearchParamsPrototype, ITERATOR$6, URLSearchParamsPrototype.entries);\n\n  // `URLSearchParams.prototype.toString` method\n  // https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\n  redefine(URLSearchParamsPrototype, 'toString', function toString() {\n    var entries = getInternalParamsState(this).entries;\n    var result = [];\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      result.push(serialize(entry.key) + '=' + serialize(entry.value));\n    } return result.join('&');\n  }, { enumerable: true });\n\n  setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n  _export({ global: true, forced: !nativeUrl }, {\n    URLSearchParams: URLSearchParamsConstructor\n  });\n\n  // Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n  // https://github.com/zloirock/core-js/issues/674\n  if (!nativeUrl && typeof $fetch == 'function' && typeof Headers == 'function') {\n    _export({ global: true, enumerable: true, forced: true }, {\n      fetch: function fetch(input /* , init */) {\n        var args = [input];\n        var init, body, headers;\n        if (arguments.length > 1) {\n          init = arguments[1];\n          if (isObject(init)) {\n            body = init.body;\n            if (classof(body) === URL_SEARCH_PARAMS) {\n              headers = init.headers ? new Headers(init.headers) : new Headers();\n              if (!headers.has('content-type')) {\n                headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n              }\n              init = objectCreate(init, {\n                body: createPropertyDescriptor(0, String(body)),\n                headers: createPropertyDescriptor(0, headers)\n              });\n            }\n          }\n          args.push(init);\n        } return $fetch.apply(this, args);\n      }\n    });\n  }\n\n  var web_urlSearchParams = {\n    URLSearchParams: URLSearchParamsConstructor,\n    getState: getInternalParamsState\n  };\n\n  // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n\n\n\n\n\n\n\n\n\n\n\n  var codeAt = stringMultibyte.codeAt;\n\n\n\n\n\n  var NativeURL = global_1.URL;\n  var URLSearchParams$1 = web_urlSearchParams.URLSearchParams;\n  var getInternalSearchParamsState = web_urlSearchParams.getState;\n  var setInternalState$4 = internalState.set;\n  var getInternalURLState = internalState.getterFor('URL');\n  var floor$3 = Math.floor;\n  var pow = Math.pow;\n\n  var INVALID_AUTHORITY = 'Invalid authority';\n  var INVALID_SCHEME = 'Invalid scheme';\n  var INVALID_HOST = 'Invalid host';\n  var INVALID_PORT = 'Invalid port';\n\n  var ALPHA = /[A-Za-z]/;\n  var ALPHANUMERIC = /[\\d+-.A-Za-z]/;\n  var DIGIT = /\\d/;\n  var HEX_START = /^(0x|0X)/;\n  var OCT = /^[0-7]+$/;\n  var DEC = /^\\d+$/;\n  var HEX = /^[\\dA-Fa-f]+$/;\n  // eslint-disable-next-line no-control-regex\n  var FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n  // eslint-disable-next-line no-control-regex\n  var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n  // eslint-disable-next-line no-control-regex\n  var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n  // eslint-disable-next-line no-control-regex\n  var TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\n  var EOF;\n\n  var parseHost = function (url, input) {\n    var result, codePoints, index;\n    if (input.charAt(0) == '[') {\n      if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n      result = parseIPv6(input.slice(1, -1));\n      if (!result) return INVALID_HOST;\n      url.host = result;\n    // opaque host\n    } else if (!isSpecial(url)) {\n      if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n      result = '';\n      codePoints = arrayFrom(input);\n      for (index = 0; index < codePoints.length; index++) {\n        result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n      }\n      url.host = result;\n    } else {\n      input = stringPunycodeToAscii(input);\n      if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n      result = parseIPv4(input);\n      if (result === null) return INVALID_HOST;\n      url.host = result;\n    }\n  };\n\n  var parseIPv4 = function (input) {\n    var parts = input.split('.');\n    var partsLength, numbers, index, part, radix, number, ipv4;\n    if (parts.length && parts[parts.length - 1] == '') {\n      parts.pop();\n    }\n    partsLength = parts.length;\n    if (partsLength > 4) return input;\n    numbers = [];\n    for (index = 0; index < partsLength; index++) {\n      part = parts[index];\n      if (part == '') return input;\n      radix = 10;\n      if (part.length > 1 && part.charAt(0) == '0') {\n        radix = HEX_START.test(part) ? 16 : 8;\n        part = part.slice(radix == 8 ? 1 : 2);\n      }\n      if (part === '') {\n        number = 0;\n      } else {\n        if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n        number = parseInt(part, radix);\n      }\n      numbers.push(number);\n    }\n    for (index = 0; index < partsLength; index++) {\n      number = numbers[index];\n      if (index == partsLength - 1) {\n        if (number >= pow(256, 5 - partsLength)) return null;\n      } else if (number > 255) return null;\n    }\n    ipv4 = numbers.pop();\n    for (index = 0; index < numbers.length; index++) {\n      ipv4 += numbers[index] * pow(256, 3 - index);\n    }\n    return ipv4;\n  };\n\n  // eslint-disable-next-line max-statements\n  var parseIPv6 = function (input) {\n    var address = [0, 0, 0, 0, 0, 0, 0, 0];\n    var pieceIndex = 0;\n    var compress = null;\n    var pointer = 0;\n    var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n    var char = function () {\n      return input.charAt(pointer);\n    };\n\n    if (char() == ':') {\n      if (input.charAt(1) != ':') return;\n      pointer += 2;\n      pieceIndex++;\n      compress = pieceIndex;\n    }\n    while (char()) {\n      if (pieceIndex == 8) return;\n      if (char() == ':') {\n        if (compress !== null) return;\n        pointer++;\n        pieceIndex++;\n        compress = pieceIndex;\n        continue;\n      }\n      value = length = 0;\n      while (length < 4 && HEX.test(char())) {\n        value = value * 16 + parseInt(char(), 16);\n        pointer++;\n        length++;\n      }\n      if (char() == '.') {\n        if (length == 0) return;\n        pointer -= length;\n        if (pieceIndex > 6) return;\n        numbersSeen = 0;\n        while (char()) {\n          ipv4Piece = null;\n          if (numbersSeen > 0) {\n            if (char() == '.' && numbersSeen < 4) pointer++;\n            else return;\n          }\n          if (!DIGIT.test(char())) return;\n          while (DIGIT.test(char())) {\n            number = parseInt(char(), 10);\n            if (ipv4Piece === null) ipv4Piece = number;\n            else if (ipv4Piece == 0) return;\n            else ipv4Piece = ipv4Piece * 10 + number;\n            if (ipv4Piece > 255) return;\n            pointer++;\n          }\n          address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n          numbersSeen++;\n          if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n        }\n        if (numbersSeen != 4) return;\n        break;\n      } else if (char() == ':') {\n        pointer++;\n        if (!char()) return;\n      } else if (char()) return;\n      address[pieceIndex++] = value;\n    }\n    if (compress !== null) {\n      swaps = pieceIndex - compress;\n      pieceIndex = 7;\n      while (pieceIndex != 0 && swaps > 0) {\n        swap = address[pieceIndex];\n        address[pieceIndex--] = address[compress + swaps - 1];\n        address[compress + --swaps] = swap;\n      }\n    } else if (pieceIndex != 8) return;\n    return address;\n  };\n\n  var findLongestZeroSequence = function (ipv6) {\n    var maxIndex = null;\n    var maxLength = 1;\n    var currStart = null;\n    var currLength = 0;\n    var index = 0;\n    for (; index < 8; index++) {\n      if (ipv6[index] !== 0) {\n        if (currLength > maxLength) {\n          maxIndex = currStart;\n          maxLength = currLength;\n        }\n        currStart = null;\n        currLength = 0;\n      } else {\n        if (currStart === null) currStart = index;\n        ++currLength;\n      }\n    }\n    if (currLength > maxLength) {\n      maxIndex = currStart;\n      maxLength = currLength;\n    }\n    return maxIndex;\n  };\n\n  var serializeHost = function (host) {\n    var result, index, compress, ignore0;\n    // ipv4\n    if (typeof host == 'number') {\n      result = [];\n      for (index = 0; index < 4; index++) {\n        result.unshift(host % 256);\n        host = floor$3(host / 256);\n      } return result.join('.');\n    // ipv6\n    } else if (typeof host == 'object') {\n      result = '';\n      compress = findLongestZeroSequence(host);\n      for (index = 0; index < 8; index++) {\n        if (ignore0 && host[index] === 0) continue;\n        if (ignore0) ignore0 = false;\n        if (compress === index) {\n          result += index ? ':' : '::';\n          ignore0 = true;\n        } else {\n          result += host[index].toString(16);\n          if (index < 7) result += ':';\n        }\n      }\n      return '[' + result + ']';\n    } return host;\n  };\n\n  var C0ControlPercentEncodeSet = {};\n  var fragmentPercentEncodeSet = objectAssign({}, C0ControlPercentEncodeSet, {\n    ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n  });\n  var pathPercentEncodeSet = objectAssign({}, fragmentPercentEncodeSet, {\n    '#': 1, '?': 1, '{': 1, '}': 1\n  });\n  var userinfoPercentEncodeSet = objectAssign({}, pathPercentEncodeSet, {\n    '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n  });\n\n  var percentEncode = function (char, set) {\n    var code = codeAt(char, 0);\n    return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n  };\n\n  var specialSchemes = {\n    ftp: 21,\n    file: null,\n    http: 80,\n    https: 443,\n    ws: 80,\n    wss: 443\n  };\n\n  var isSpecial = function (url) {\n    return has(specialSchemes, url.scheme);\n  };\n\n  var includesCredentials = function (url) {\n    return url.username != '' || url.password != '';\n  };\n\n  var cannotHaveUsernamePasswordPort = function (url) {\n    return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n  };\n\n  var isWindowsDriveLetter = function (string, normalized) {\n    var second;\n    return string.length == 2 && ALPHA.test(string.charAt(0))\n      && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n  };\n\n  var startsWithWindowsDriveLetter = function (string) {\n    var third;\n    return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n      string.length == 2 ||\n      ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n    );\n  };\n\n  var shortenURLsPath = function (url) {\n    var path = url.path;\n    var pathSize = path.length;\n    if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n      path.pop();\n    }\n  };\n\n  var isSingleDot = function (segment) {\n    return segment === '.' || segment.toLowerCase() === '%2e';\n  };\n\n  var isDoubleDot = function (segment) {\n    segment = segment.toLowerCase();\n    return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n  };\n\n  // States:\n  var SCHEME_START = {};\n  var SCHEME = {};\n  var NO_SCHEME = {};\n  var SPECIAL_RELATIVE_OR_AUTHORITY = {};\n  var PATH_OR_AUTHORITY = {};\n  var RELATIVE = {};\n  var RELATIVE_SLASH = {};\n  var SPECIAL_AUTHORITY_SLASHES = {};\n  var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\n  var AUTHORITY = {};\n  var HOST = {};\n  var HOSTNAME = {};\n  var PORT = {};\n  var FILE = {};\n  var FILE_SLASH = {};\n  var FILE_HOST = {};\n  var PATH_START = {};\n  var PATH = {};\n  var CANNOT_BE_A_BASE_URL_PATH = {};\n  var QUERY = {};\n  var FRAGMENT = {};\n\n  // eslint-disable-next-line max-statements\n  var parseURL = function (url, input, stateOverride, base) {\n    var state = stateOverride || SCHEME_START;\n    var pointer = 0;\n    var buffer = '';\n    var seenAt = false;\n    var seenBracket = false;\n    var seenPasswordToken = false;\n    var codePoints, char, bufferCodePoints, failure;\n\n    if (!stateOverride) {\n      url.scheme = '';\n      url.username = '';\n      url.password = '';\n      url.host = null;\n      url.port = null;\n      url.path = [];\n      url.query = null;\n      url.fragment = null;\n      url.cannotBeABaseURL = false;\n      input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n    }\n\n    input = input.replace(TAB_AND_NEW_LINE, '');\n\n    codePoints = arrayFrom(input);\n\n    while (pointer <= codePoints.length) {\n      char = codePoints[pointer];\n      switch (state) {\n        case SCHEME_START:\n          if (char && ALPHA.test(char)) {\n            buffer += char.toLowerCase();\n            state = SCHEME;\n          } else if (!stateOverride) {\n            state = NO_SCHEME;\n            continue;\n          } else return INVALID_SCHEME;\n          break;\n\n        case SCHEME:\n          if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n            buffer += char.toLowerCase();\n          } else if (char == ':') {\n            if (stateOverride && (\n              (isSpecial(url) != has(specialSchemes, buffer)) ||\n              (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n              (url.scheme == 'file' && !url.host)\n            )) return;\n            url.scheme = buffer;\n            if (stateOverride) {\n              if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n              return;\n            }\n            buffer = '';\n            if (url.scheme == 'file') {\n              state = FILE;\n            } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n              state = SPECIAL_RELATIVE_OR_AUTHORITY;\n            } else if (isSpecial(url)) {\n              state = SPECIAL_AUTHORITY_SLASHES;\n            } else if (codePoints[pointer + 1] == '/') {\n              state = PATH_OR_AUTHORITY;\n              pointer++;\n            } else {\n              url.cannotBeABaseURL = true;\n              url.path.push('');\n              state = CANNOT_BE_A_BASE_URL_PATH;\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            state = NO_SCHEME;\n            pointer = 0;\n            continue;\n          } else return INVALID_SCHEME;\n          break;\n\n        case NO_SCHEME:\n          if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n          if (base.cannotBeABaseURL && char == '#') {\n            url.scheme = base.scheme;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            url.cannotBeABaseURL = true;\n            state = FRAGMENT;\n            break;\n          }\n          state = base.scheme == 'file' ? FILE : RELATIVE;\n          continue;\n\n        case SPECIAL_RELATIVE_OR_AUTHORITY:\n          if (char == '/' && codePoints[pointer + 1] == '/') {\n            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n            pointer++;\n          } else {\n            state = RELATIVE;\n            continue;\n          } break;\n\n        case PATH_OR_AUTHORITY:\n          if (char == '/') {\n            state = AUTHORITY;\n            break;\n          } else {\n            state = PATH;\n            continue;\n          }\n\n        case RELATIVE:\n          url.scheme = base.scheme;\n          if (char == EOF) {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n            state = RELATIVE_SLASH;\n          } else if (char == '?') {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            url.path = base.path.slice();\n            url.path.pop();\n            state = PATH;\n            continue;\n          } break;\n\n        case RELATIVE_SLASH:\n          if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          } else if (char == '/') {\n            state = AUTHORITY;\n          } else {\n            url.username = base.username;\n            url.password = base.password;\n            url.host = base.host;\n            url.port = base.port;\n            state = PATH;\n            continue;\n          } break;\n\n        case SPECIAL_AUTHORITY_SLASHES:\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n          pointer++;\n          break;\n\n        case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n          if (char != '/' && char != '\\\\') {\n            state = AUTHORITY;\n            continue;\n          } break;\n\n        case AUTHORITY:\n          if (char == '@') {\n            if (seenAt) buffer = '%40' + buffer;\n            seenAt = true;\n            bufferCodePoints = arrayFrom(buffer);\n            for (var i = 0; i < bufferCodePoints.length; i++) {\n              var codePoint = bufferCodePoints[i];\n              if (codePoint == ':' && !seenPasswordToken) {\n                seenPasswordToken = true;\n                continue;\n              }\n              var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n              if (seenPasswordToken) url.password += encodedCodePoints;\n              else url.username += encodedCodePoints;\n            }\n            buffer = '';\n          } else if (\n            char == EOF || char == '/' || char == '?' || char == '#' ||\n            (char == '\\\\' && isSpecial(url))\n          ) {\n            if (seenAt && buffer == '') return INVALID_AUTHORITY;\n            pointer -= arrayFrom(buffer).length + 1;\n            buffer = '';\n            state = HOST;\n          } else buffer += char;\n          break;\n\n        case HOST:\n        case HOSTNAME:\n          if (stateOverride && url.scheme == 'file') {\n            state = FILE_HOST;\n            continue;\n          } else if (char == ':' && !seenBracket) {\n            if (buffer == '') return INVALID_HOST;\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            buffer = '';\n            state = PORT;\n            if (stateOverride == HOSTNAME) return;\n          } else if (\n            char == EOF || char == '/' || char == '?' || char == '#' ||\n            (char == '\\\\' && isSpecial(url))\n          ) {\n            if (isSpecial(url) && buffer == '') return INVALID_HOST;\n            if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            buffer = '';\n            state = PATH_START;\n            if (stateOverride) return;\n            continue;\n          } else {\n            if (char == '[') seenBracket = true;\n            else if (char == ']') seenBracket = false;\n            buffer += char;\n          } break;\n\n        case PORT:\n          if (DIGIT.test(char)) {\n            buffer += char;\n          } else if (\n            char == EOF || char == '/' || char == '?' || char == '#' ||\n            (char == '\\\\' && isSpecial(url)) ||\n            stateOverride\n          ) {\n            if (buffer != '') {\n              var port = parseInt(buffer, 10);\n              if (port > 0xFFFF) return INVALID_PORT;\n              url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n              buffer = '';\n            }\n            if (stateOverride) return;\n            state = PATH_START;\n            continue;\n          } else return INVALID_PORT;\n          break;\n\n        case FILE:\n          url.scheme = 'file';\n          if (char == '/' || char == '\\\\') state = FILE_SLASH;\n          else if (base && base.scheme == 'file') {\n            if (char == EOF) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              url.query = base.query;\n            } else if (char == '?') {\n              url.host = base.host;\n              url.path = base.path.slice();\n              url.query = '';\n              state = QUERY;\n            } else if (char == '#') {\n              url.host = base.host;\n              url.path = base.path.slice();\n              url.query = base.query;\n              url.fragment = '';\n              state = FRAGMENT;\n            } else {\n              if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n                url.host = base.host;\n                url.path = base.path.slice();\n                shortenURLsPath(url);\n              }\n              state = PATH;\n              continue;\n            }\n          } else {\n            state = PATH;\n            continue;\n          } break;\n\n        case FILE_SLASH:\n          if (char == '/' || char == '\\\\') {\n            state = FILE_HOST;\n            break;\n          }\n          if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n            if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n            else url.host = base.host;\n          }\n          state = PATH;\n          continue;\n\n        case FILE_HOST:\n          if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n            if (!stateOverride && isWindowsDriveLetter(buffer)) {\n              state = PATH;\n            } else if (buffer == '') {\n              url.host = '';\n              if (stateOverride) return;\n              state = PATH_START;\n            } else {\n              failure = parseHost(url, buffer);\n              if (failure) return failure;\n              if (url.host == 'localhost') url.host = '';\n              if (stateOverride) return;\n              buffer = '';\n              state = PATH_START;\n            } continue;\n          } else buffer += char;\n          break;\n\n        case PATH_START:\n          if (isSpecial(url)) {\n            state = PATH;\n            if (char != '/' && char != '\\\\') continue;\n          } else if (!stateOverride && char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (!stateOverride && char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (char != EOF) {\n            state = PATH;\n            if (char != '/') continue;\n          } break;\n\n        case PATH:\n          if (\n            char == EOF || char == '/' ||\n            (char == '\\\\' && isSpecial(url)) ||\n            (!stateOverride && (char == '?' || char == '#'))\n          ) {\n            if (isDoubleDot(buffer)) {\n              shortenURLsPath(url);\n              if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n                url.path.push('');\n              }\n            } else if (isSingleDot(buffer)) {\n              if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n                url.path.push('');\n              }\n            } else {\n              if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n                if (url.host) url.host = '';\n                buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n              }\n              url.path.push(buffer);\n            }\n            buffer = '';\n            if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n              while (url.path.length > 1 && url.path[0] === '') {\n                url.path.shift();\n              }\n            }\n            if (char == '?') {\n              url.query = '';\n              state = QUERY;\n            } else if (char == '#') {\n              url.fragment = '';\n              state = FRAGMENT;\n            }\n          } else {\n            buffer += percentEncode(char, pathPercentEncodeSet);\n          } break;\n\n        case CANNOT_BE_A_BASE_URL_PATH:\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (char != EOF) {\n            url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n          } break;\n\n        case QUERY:\n          if (!stateOverride && char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          } else if (char != EOF) {\n            if (char == \"'\" && isSpecial(url)) url.query += '%27';\n            else if (char == '#') url.query += '%23';\n            else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n          } break;\n\n        case FRAGMENT:\n          if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n          break;\n      }\n\n      pointer++;\n    }\n  };\n\n  // `URL` constructor\n  // https://url.spec.whatwg.org/#url-class\n  var URLConstructor = function URL(url /* , base */) {\n    var that = anInstance(this, URLConstructor, 'URL');\n    var base = arguments.length > 1 ? arguments[1] : undefined;\n    var urlString = String(url);\n    var state = setInternalState$4(that, { type: 'URL' });\n    var baseState, failure;\n    if (base !== undefined) {\n      if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n      else {\n        failure = parseURL(baseState = {}, String(base));\n        if (failure) throw TypeError(failure);\n      }\n    }\n    failure = parseURL(state, urlString, null, baseState);\n    if (failure) throw TypeError(failure);\n    var searchParams = state.searchParams = new URLSearchParams$1();\n    var searchParamsState = getInternalSearchParamsState(searchParams);\n    searchParamsState.updateSearchParams(state.query);\n    searchParamsState.updateURL = function () {\n      state.query = String(searchParams) || null;\n    };\n    if (!descriptors) {\n      that.href = serializeURL.call(that);\n      that.origin = getOrigin.call(that);\n      that.protocol = getProtocol.call(that);\n      that.username = getUsername.call(that);\n      that.password = getPassword.call(that);\n      that.host = getHost.call(that);\n      that.hostname = getHostname.call(that);\n      that.port = getPort.call(that);\n      that.pathname = getPathname.call(that);\n      that.search = getSearch.call(that);\n      that.searchParams = getSearchParams.call(that);\n      that.hash = getHash.call(that);\n    }\n  };\n\n  var URLPrototype = URLConstructor.prototype;\n\n  var serializeURL = function () {\n    var url = getInternalURLState(this);\n    var scheme = url.scheme;\n    var username = url.username;\n    var password = url.password;\n    var host = url.host;\n    var port = url.port;\n    var path = url.path;\n    var query = url.query;\n    var fragment = url.fragment;\n    var output = scheme + ':';\n    if (host !== null) {\n      output += '//';\n      if (includesCredentials(url)) {\n        output += username + (password ? ':' + password : '') + '@';\n      }\n      output += serializeHost(host);\n      if (port !== null) output += ':' + port;\n    } else if (scheme == 'file') output += '//';\n    output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n    if (query !== null) output += '?' + query;\n    if (fragment !== null) output += '#' + fragment;\n    return output;\n  };\n\n  var getOrigin = function () {\n    var url = getInternalURLState(this);\n    var scheme = url.scheme;\n    var port = url.port;\n    if (scheme == 'blob') try {\n      return new URL(scheme.path[0]).origin;\n    } catch (error) {\n      return 'null';\n    }\n    if (scheme == 'file' || !isSpecial(url)) return 'null';\n    return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n  };\n\n  var getProtocol = function () {\n    return getInternalURLState(this).scheme + ':';\n  };\n\n  var getUsername = function () {\n    return getInternalURLState(this).username;\n  };\n\n  var getPassword = function () {\n    return getInternalURLState(this).password;\n  };\n\n  var getHost = function () {\n    var url = getInternalURLState(this);\n    var host = url.host;\n    var port = url.port;\n    return host === null ? ''\n      : port === null ? serializeHost(host)\n      : serializeHost(host) + ':' + port;\n  };\n\n  var getHostname = function () {\n    var host = getInternalURLState(this).host;\n    return host === null ? '' : serializeHost(host);\n  };\n\n  var getPort = function () {\n    var port = getInternalURLState(this).port;\n    return port === null ? '' : String(port);\n  };\n\n  var getPathname = function () {\n    var url = getInternalURLState(this);\n    var path = url.path;\n    return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  };\n\n  var getSearch = function () {\n    var query = getInternalURLState(this).query;\n    return query ? '?' + query : '';\n  };\n\n  var getSearchParams = function () {\n    return getInternalURLState(this).searchParams;\n  };\n\n  var getHash = function () {\n    var fragment = getInternalURLState(this).fragment;\n    return fragment ? '#' + fragment : '';\n  };\n\n  var accessorDescriptor = function (getter, setter) {\n    return { get: getter, set: setter, configurable: true, enumerable: true };\n  };\n\n  if (descriptors) {\n    objectDefineProperties(URLPrototype, {\n      // `URL.prototype.href` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-href\n      href: accessorDescriptor(serializeURL, function (href) {\n        var url = getInternalURLState(this);\n        var urlString = String(href);\n        var failure = parseURL(url, urlString);\n        if (failure) throw TypeError(failure);\n        getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n      }),\n      // `URL.prototype.origin` getter\n      // https://url.spec.whatwg.org/#dom-url-origin\n      origin: accessorDescriptor(getOrigin),\n      // `URL.prototype.protocol` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-protocol\n      protocol: accessorDescriptor(getProtocol, function (protocol) {\n        var url = getInternalURLState(this);\n        parseURL(url, String(protocol) + ':', SCHEME_START);\n      }),\n      // `URL.prototype.username` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-username\n      username: accessorDescriptor(getUsername, function (username) {\n        var url = getInternalURLState(this);\n        var codePoints = arrayFrom(String(username));\n        if (cannotHaveUsernamePasswordPort(url)) return;\n        url.username = '';\n        for (var i = 0; i < codePoints.length; i++) {\n          url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n        }\n      }),\n      // `URL.prototype.password` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-password\n      password: accessorDescriptor(getPassword, function (password) {\n        var url = getInternalURLState(this);\n        var codePoints = arrayFrom(String(password));\n        if (cannotHaveUsernamePasswordPort(url)) return;\n        url.password = '';\n        for (var i = 0; i < codePoints.length; i++) {\n          url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n        }\n      }),\n      // `URL.prototype.host` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-host\n      host: accessorDescriptor(getHost, function (host) {\n        var url = getInternalURLState(this);\n        if (url.cannotBeABaseURL) return;\n        parseURL(url, String(host), HOST);\n      }),\n      // `URL.prototype.hostname` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-hostname\n      hostname: accessorDescriptor(getHostname, function (hostname) {\n        var url = getInternalURLState(this);\n        if (url.cannotBeABaseURL) return;\n        parseURL(url, String(hostname), HOSTNAME);\n      }),\n      // `URL.prototype.port` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-port\n      port: accessorDescriptor(getPort, function (port) {\n        var url = getInternalURLState(this);\n        if (cannotHaveUsernamePasswordPort(url)) return;\n        port = String(port);\n        if (port == '') url.port = null;\n        else parseURL(url, port, PORT);\n      }),\n      // `URL.prototype.pathname` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-pathname\n      pathname: accessorDescriptor(getPathname, function (pathname) {\n        var url = getInternalURLState(this);\n        if (url.cannotBeABaseURL) return;\n        url.path = [];\n        parseURL(url, pathname + '', PATH_START);\n      }),\n      // `URL.prototype.search` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-search\n      search: accessorDescriptor(getSearch, function (search) {\n        var url = getInternalURLState(this);\n        search = String(search);\n        if (search == '') {\n          url.query = null;\n        } else {\n          if ('?' == search.charAt(0)) search = search.slice(1);\n          url.query = '';\n          parseURL(url, search, QUERY);\n        }\n        getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n      }),\n      // `URL.prototype.searchParams` getter\n      // https://url.spec.whatwg.org/#dom-url-searchparams\n      searchParams: accessorDescriptor(getSearchParams),\n      // `URL.prototype.hash` accessors pair\n      // https://url.spec.whatwg.org/#dom-url-hash\n      hash: accessorDescriptor(getHash, function (hash) {\n        var url = getInternalURLState(this);\n        hash = String(hash);\n        if (hash == '') {\n          url.fragment = null;\n          return;\n        }\n        if ('#' == hash.charAt(0)) hash = hash.slice(1);\n        url.fragment = '';\n        parseURL(url, hash, FRAGMENT);\n      })\n    });\n  }\n\n  // `URL.prototype.toJSON` method\n  // https://url.spec.whatwg.org/#dom-url-tojson\n  redefine(URLPrototype, 'toJSON', function toJSON() {\n    return serializeURL.call(this);\n  }, { enumerable: true });\n\n  // `URL.prototype.toString` method\n  // https://url.spec.whatwg.org/#URL-stringification-behavior\n  redefine(URLPrototype, 'toString', function toString() {\n    return serializeURL.call(this);\n  }, { enumerable: true });\n\n  if (NativeURL) {\n    var nativeCreateObjectURL = NativeURL.createObjectURL;\n    var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n    // `URL.createObjectURL` method\n    // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n    // eslint-disable-next-line no-unused-vars\n    if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n      return nativeCreateObjectURL.apply(NativeURL, arguments);\n    });\n    // `URL.revokeObjectURL` method\n    // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n    // eslint-disable-next-line no-unused-vars\n    if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n      return nativeRevokeObjectURL.apply(NativeURL, arguments);\n    });\n  }\n\n  setToStringTag(URLConstructor, 'URL');\n\n  _export({ global: true, forced: !nativeUrl, sham: !descriptors }, {\n    URL: URLConstructor\n  });\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys$1(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys$1(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  (function (global) {\n    /**\r\n     * Polyfill URLSearchParams\r\n     *\r\n     * Inspired from : https://github.com/WebReflection/url-search-params/blob/master/src/url-search-params.js\r\n     */\n    var checkIfIteratorIsSupported = function checkIfIteratorIsSupported() {\n      try {\n        return !!Symbol.iterator;\n      } catch (error) {\n        return false;\n      }\n    };\n\n    var iteratorSupported = checkIfIteratorIsSupported();\n\n    var createIterator = function createIterator(items) {\n      var iterator = {\n        next: function next() {\n          var value = items.shift();\n          return {\n            done: value === void 0,\n            value: value\n          };\n        }\n      };\n\n      if (iteratorSupported) {\n        iterator[Symbol.iterator] = function () {\n          return iterator;\n        };\n      }\n\n      return iterator;\n    };\n    /**\r\n     * Search param name and values should be encoded according to https://url.spec.whatwg.org/#urlencoded-serializing\r\n     * encodeURIComponent() produces the same result except encoding spaces as `%20` instead of `+`.\r\n     */\n\n\n    var serializeParam = function serializeParam(value) {\n      return encodeURIComponent(value).replace(/%20/g, '+');\n    };\n\n    var deserializeParam = function deserializeParam(value) {\n      return decodeURIComponent(String(value).replace(/\\+/g, ' '));\n    };\n\n    var polyfillURLSearchParams = function polyfillURLSearchParams() {\n      var URLSearchParams = function URLSearchParams(searchString) {\n        Object.defineProperty(this, '_entries', {\n          writable: true,\n          value: {}\n        });\n\n        var typeofSearchString = _typeof(searchString);\n\n        if (typeofSearchString === 'undefined') ; else if (typeofSearchString === 'string') {\n          if (searchString !== '') {\n            this._fromString(searchString);\n          }\n        } else if (searchString instanceof URLSearchParams) {\n          var _this = this;\n\n          searchString.forEach(function (value, name) {\n            _this.append(name, value);\n          });\n        } else if (searchString !== null && typeofSearchString === 'object') {\n          if (Object.prototype.toString.call(searchString) === '[object Array]') {\n            for (var i = 0; i < searchString.length; i++) {\n              var entry = searchString[i];\n\n              if (Object.prototype.toString.call(entry) === '[object Array]' || entry.length !== 2) {\n                this.append(entry[0], entry[1]);\n              } else {\n                throw new TypeError('Expected [string, any] as entry at index ' + i + ' of URLSearchParams\\'s input');\n              }\n            }\n          } else {\n            for (var key in searchString) {\n              if (searchString.hasOwnProperty(key)) {\n                this.append(key, searchString[key]);\n              }\n            }\n          }\n        } else {\n          throw new TypeError('Unsupported input\\'s type for URLSearchParams');\n        }\n      };\n\n      var proto = URLSearchParams.prototype;\n\n      proto.append = function (name, value) {\n        if (name in this._entries) {\n          this._entries[name].push(String(value));\n        } else {\n          this._entries[name] = [String(value)];\n        }\n      };\n\n      proto.delete = function (name) {\n        delete this._entries[name];\n      };\n\n      proto.get = function (name) {\n        return name in this._entries ? this._entries[name][0] : null;\n      };\n\n      proto.getAll = function (name) {\n        return name in this._entries ? this._entries[name].slice(0) : [];\n      };\n\n      proto.has = function (name) {\n        return name in this._entries;\n      };\n\n      proto.set = function (name, value) {\n        this._entries[name] = [String(value)];\n      };\n\n      proto.forEach = function (callback, thisArg) {\n        var entries;\n\n        for (var name in this._entries) {\n          if (this._entries.hasOwnProperty(name)) {\n            entries = this._entries[name];\n\n            for (var i = 0; i < entries.length; i++) {\n              callback.call(thisArg, entries[i], name, this);\n            }\n          }\n        }\n      };\n\n      proto.keys = function () {\n        var items = [];\n        this.forEach(function (value, name) {\n          items.push(name);\n        });\n        return createIterator(items);\n      };\n\n      proto.values = function () {\n        var items = [];\n        this.forEach(function (value) {\n          items.push(value);\n        });\n        return createIterator(items);\n      };\n\n      proto.entries = function () {\n        var items = [];\n        this.forEach(function (value, name) {\n          items.push([name, value]);\n        });\n        return createIterator(items);\n      };\n\n      if (iteratorSupported) {\n        proto[Symbol.iterator] = proto.entries;\n      }\n\n      proto.toString = function () {\n        var searchArray = [];\n        this.forEach(function (value, name) {\n          searchArray.push(serializeParam(name) + '=' + serializeParam(value));\n        });\n        return searchArray.join('&');\n      };\n\n      global.URLSearchParams = URLSearchParams;\n    };\n\n    var checkIfURLSearchParamsSupported = function checkIfURLSearchParamsSupported() {\n      try {\n        var URLSearchParams = global.URLSearchParams;\n        return new URLSearchParams('?a=1').toString() === 'a=1' && typeof URLSearchParams.prototype.set === 'function' && typeof URLSearchParams.prototype.entries === 'function';\n      } catch (e) {\n        return false;\n      }\n    };\n\n    if (!checkIfURLSearchParamsSupported()) {\n      polyfillURLSearchParams();\n    }\n\n    var proto = global.URLSearchParams.prototype;\n\n    if (typeof proto.sort !== 'function') {\n      proto.sort = function () {\n        var _this = this;\n\n        var items = [];\n        this.forEach(function (value, name) {\n          items.push([name, value]);\n\n          if (!_this._entries) {\n            _this.delete(name);\n          }\n        });\n        items.sort(function (a, b) {\n          if (a[0] < b[0]) {\n            return -1;\n          } else if (a[0] > b[0]) {\n            return +1;\n          } else {\n            return 0;\n          }\n        });\n\n        if (_this._entries) {\n          // force reset because IE keeps keys index\n          _this._entries = {};\n        }\n\n        for (var i = 0; i < items.length; i++) {\n          this.append(items[i][0], items[i][1]);\n        }\n      };\n    }\n\n    if (typeof proto._fromString !== 'function') {\n      Object.defineProperty(proto, '_fromString', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: function value(searchString) {\n          if (this._entries) {\n            this._entries = {};\n          } else {\n            var keys = [];\n            this.forEach(function (value, name) {\n              keys.push(name);\n            });\n\n            for (var i = 0; i < keys.length; i++) {\n              this.delete(keys[i]);\n            }\n          }\n\n          searchString = searchString.replace(/^\\?/, '');\n          var attributes = searchString.split('&');\n          var attribute;\n\n          for (var i = 0; i < attributes.length; i++) {\n            attribute = attributes[i].split('=');\n            this.append(deserializeParam(attribute[0]), attribute.length > 1 ? deserializeParam(attribute[1]) : '');\n          }\n        }\n      });\n    } // HTMLAnchorElement\n\n  })(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : commonjsGlobal);\n\n  (function (global) {\n    /**\r\n     * Polyfill URL\r\n     *\r\n     * Inspired from : https://github.com/arv/DOM-URL-Polyfill/blob/master/src/url.js\r\n     */\n    var checkIfURLIsSupported = function checkIfURLIsSupported() {\n      try {\n        var u = new global.URL('b', 'http://a');\n        u.pathname = 'c d';\n        return u.href === 'http://a/c%20d' && u.searchParams;\n      } catch (e) {\n        return false;\n      }\n    };\n\n    var polyfillURL = function polyfillURL() {\n      var _URL = global.URL;\n\n      var URL = function URL(url, base) {\n        if (typeof url !== 'string') url = String(url);\n        if (base && typeof base !== 'string') base = String(base); // Only create another document if the base is different from current location.\n\n        var doc = document,\n            baseElement;\n\n        if (base && (global.location === void 0 || base !== global.location.href)) {\n          base = base.toLowerCase();\n          doc = document.implementation.createHTMLDocument('');\n          baseElement = doc.createElement('base');\n          baseElement.href = base;\n          doc.head.appendChild(baseElement);\n\n          try {\n            if (baseElement.href.indexOf(base) !== 0) throw new Error(baseElement.href);\n          } catch (err) {\n            throw new Error('URL unable to set base ' + base + ' due to ' + err);\n          }\n        }\n\n        var anchorElement = doc.createElement('a');\n        anchorElement.href = url;\n\n        if (baseElement) {\n          doc.body.appendChild(anchorElement);\n          anchorElement.href = anchorElement.href; // force href to refresh\n        }\n\n        var inputElement = doc.createElement('input');\n        inputElement.type = 'url';\n        inputElement.value = url;\n\n        if (anchorElement.protocol === ':' || !/:/.test(anchorElement.href) || !inputElement.checkValidity() && !base) {\n          throw new TypeError('Invalid URL');\n        }\n\n        Object.defineProperty(this, '_anchorElement', {\n          value: anchorElement\n        }); // create a linked searchParams which reflect its changes on URL\n\n        var searchParams = new global.URLSearchParams(this.search);\n        var enableSearchUpdate = true;\n        var enableSearchParamsUpdate = true;\n\n        var _this = this;\n\n        ['append', 'delete', 'set'].forEach(function (methodName) {\n          var method = searchParams[methodName];\n\n          searchParams[methodName] = function () {\n            method.apply(searchParams, arguments);\n\n            if (enableSearchUpdate) {\n              enableSearchParamsUpdate = false;\n              _this.search = searchParams.toString();\n              enableSearchParamsUpdate = true;\n            }\n          };\n        });\n        Object.defineProperty(this, 'searchParams', {\n          value: searchParams,\n          enumerable: true\n        });\n        var search = void 0;\n        Object.defineProperty(this, '_updateSearchParams', {\n          enumerable: false,\n          configurable: false,\n          writable: false,\n          value: function value() {\n            if (this.search !== search) {\n              search = this.search;\n\n              if (enableSearchParamsUpdate) {\n                enableSearchUpdate = false;\n\n                this.searchParams._fromString(this.search);\n\n                enableSearchUpdate = true;\n              }\n            }\n          }\n        });\n      };\n\n      var proto = URL.prototype;\n\n      var linkURLWithAnchorAttribute = function linkURLWithAnchorAttribute(attributeName) {\n        Object.defineProperty(proto, attributeName, {\n          get: function get() {\n            return this._anchorElement[attributeName];\n          },\n          set: function set(value) {\n            this._anchorElement[attributeName] = value;\n          },\n          enumerable: true\n        });\n      };\n\n      ['hash', 'host', 'hostname', 'port', 'protocol'].forEach(function (attributeName) {\n        linkURLWithAnchorAttribute(attributeName);\n      });\n      Object.defineProperty(proto, 'search', {\n        get: function get() {\n          return this._anchorElement['search'];\n        },\n        set: function set(value) {\n          this._anchorElement['search'] = value;\n\n          this._updateSearchParams();\n        },\n        enumerable: true\n      });\n      Object.defineProperties(proto, {\n        'toString': {\n          get: function get() {\n            var _this = this;\n\n            return function () {\n              return _this.href;\n            };\n          }\n        },\n        'href': {\n          get: function get() {\n            return this._anchorElement.href.replace(/\\?$/, '');\n          },\n          set: function set(value) {\n            this._anchorElement.href = value;\n\n            this._updateSearchParams();\n          },\n          enumerable: true\n        },\n        'pathname': {\n          get: function get() {\n            return this._anchorElement.pathname.replace(/(^\\/?)/, '/');\n          },\n          set: function set(value) {\n            this._anchorElement.pathname = value;\n          },\n          enumerable: true\n        },\n        'origin': {\n          get: function get() {\n            // get expected port from protocol\n            var expectedPort = {\n              'http:': 80,\n              'https:': 443,\n              'ftp:': 21\n            }[this._anchorElement.protocol]; // add port to origin if, expected port is different than actual port\n            // and it is not empty f.e http://foo:8080\n            // 8080 != 80 && 8080 != ''\n\n            var addPortToOrigin = this._anchorElement.port != expectedPort && this._anchorElement.port !== '';\n            return this._anchorElement.protocol + '//' + this._anchorElement.hostname + (addPortToOrigin ? ':' + this._anchorElement.port : '');\n          },\n          enumerable: true\n        },\n        'password': {\n          // TODO\n          get: function get() {\n            return '';\n          },\n          set: function set(value) {},\n          enumerable: true\n        },\n        'username': {\n          // TODO\n          get: function get() {\n            return '';\n          },\n          set: function set(value) {},\n          enumerable: true\n        }\n      });\n\n      URL.createObjectURL = function (blob) {\n        return _URL.createObjectURL.apply(_URL, arguments);\n      };\n\n      URL.revokeObjectURL = function (url) {\n        return _URL.revokeObjectURL.apply(_URL, arguments);\n      };\n\n      global.URL = URL;\n    };\n\n    if (!checkIfURLIsSupported()) {\n      polyfillURL();\n    }\n\n    if (global.location !== void 0 && !('origin' in global.location)) {\n      var getOrigin = function getOrigin() {\n        return global.location.protocol + '//' + global.location.hostname + (global.location.port ? ':' + global.location.port : '');\n      };\n\n      try {\n        Object.defineProperty(global.location, 'origin', {\n          get: getOrigin,\n          enumerable: true\n        });\n      } catch (e) {\n        setInterval(function () {\n          global.location.origin = getOrigin();\n        }, 100);\n      }\n    }\n  })(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : commonjsGlobal);\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    concat: function concat(arg) { // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var $filter = arrayIteration.filter;\n\n\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('filter');\n  // Edge 14- issue\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3 }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var $find = arrayIteration.find;\n\n\n\n  var FIND = 'find';\n  var SKIPS_HOLES = true;\n\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength(FIND);\n\n  // Shouldn't skip holes\n  if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH$4 }, {\n    find: function find(callbackfn /* , that = undefined */) {\n      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND);\n\n  var ITERATOR$7 = wellKnownSymbol('iterator');\n  var SAFE_CLOSING = false;\n\n  try {\n    var called = 0;\n    var iteratorWithReturn = {\n      next: function () {\n        return { done: !!called++ };\n      },\n      'return': function () {\n        SAFE_CLOSING = true;\n      }\n    };\n    iteratorWithReturn[ITERATOR$7] = function () {\n      return this;\n    };\n    // eslint-disable-next-line no-throw-literal\n    Array.from(iteratorWithReturn, function () { throw 2; });\n  } catch (error) { /* empty */ }\n\n  var checkCorrectnessOfIteration = function (exec, SKIP_CLOSING) {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n    var ITERATION_SUPPORT = false;\n    try {\n      var object = {};\n      object[ITERATOR$7] = function () {\n        return {\n          next: function () {\n            return { done: ITERATION_SUPPORT = true };\n          }\n        };\n      };\n      exec(object);\n    } catch (error) { /* empty */ }\n    return ITERATION_SUPPORT;\n  };\n\n  var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n    Array.from(iterable);\n  });\n\n  // `Array.from` method\n  // https://tc39.github.io/ecma262/#sec-array.from\n  _export({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n    from: arrayFrom\n  });\n\n  var $includes = arrayIncludes.includes;\n\n\n\n  var USES_TO_LENGTH$5 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$5 }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var $map = arrayIteration.map;\n\n\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('map');\n  // FF49- issue\n  var USES_TO_LENGTH$6 = arrayMethodUsesToLength('map');\n\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$6 }, {\n    map: function map(callbackfn /* , thisArg */) {\n      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // makes subclassing work correct for wrapped built-ins\n  var inheritIfRequired = function ($this, dummy, Wrapper) {\n    var NewTarget, NewTargetPrototype;\n    if (\n      // it can work only with native `setPrototypeOf`\n      objectSetPrototypeOf &&\n      // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n      typeof (NewTarget = dummy.constructor) == 'function' &&\n      NewTarget !== Wrapper &&\n      isObject(NewTargetPrototype = NewTarget.prototype) &&\n      NewTargetPrototype !== Wrapper.prototype\n    ) objectSetPrototypeOf($this, NewTargetPrototype);\n    return $this;\n  };\n\n  // a string of all valid unicode whitespaces\n  // eslint-disable-next-line max-len\n  var whitespaces = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n  var whitespace = '[' + whitespaces + ']';\n  var ltrim = RegExp('^' + whitespace + whitespace + '*');\n  var rtrim = RegExp(whitespace + whitespace + '*$');\n\n  // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n  var createMethod$3 = function (TYPE) {\n    return function ($this) {\n      var string = String(requireObjectCoercible($this));\n      if (TYPE & 1) string = string.replace(ltrim, '');\n      if (TYPE & 2) string = string.replace(rtrim, '');\n      return string;\n    };\n  };\n\n  var stringTrim = {\n    // `String.prototype.{ trimLeft, trimStart }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n    start: createMethod$3(1),\n    // `String.prototype.{ trimRight, trimEnd }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n    end: createMethod$3(2),\n    // `String.prototype.trim` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n    trim: createMethod$3(3)\n  };\n\n  var getOwnPropertyNames = objectGetOwnPropertyNames.f;\n  var getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n  var defineProperty$5 = objectDefineProperty.f;\n  var trim = stringTrim.trim;\n\n  var NUMBER = 'Number';\n  var NativeNumber = global_1[NUMBER];\n  var NumberPrototype = NativeNumber.prototype;\n\n  // Opera ~12 has broken Object#toString\n  var BROKEN_CLASSOF = classofRaw(objectCreate(NumberPrototype)) == NUMBER;\n\n  // `ToNumber` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tonumber\n  var toNumber = function (argument) {\n    var it = toPrimitive(argument, false);\n    var first, third, radix, maxCode, digits, length, index, code;\n    if (typeof it == 'string' && it.length > 2) {\n      it = trim(it);\n      first = it.charCodeAt(0);\n      if (first === 43 || first === 45) {\n        third = it.charCodeAt(2);\n        if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n      } else if (first === 48) {\n        switch (it.charCodeAt(1)) {\n          case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n          case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n          default: return +it;\n        }\n        digits = it.slice(2);\n        length = digits.length;\n        for (index = 0; index < length; index++) {\n          code = digits.charCodeAt(index);\n          // parseInt parses a string to a first unavailable symbol\n          // but ToNumber should return NaN if a string contains unavailable symbols\n          if (code < 48 || code > maxCode) return NaN;\n        } return parseInt(digits, radix);\n      }\n    } return +it;\n  };\n\n  // `Number` constructor\n  // https://tc39.github.io/ecma262/#sec-number-constructor\n  if (isForced_1(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n    var NumberWrapper = function Number(value) {\n      var it = arguments.length < 1 ? 0 : value;\n      var dummy = this;\n      return dummy instanceof NumberWrapper\n        // check on 1..constructor(foo) case\n        && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classofRaw(dummy) != NUMBER)\n          ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n    };\n    for (var keys$1 = descriptors ? getOwnPropertyNames(NativeNumber) : (\n      // ES3:\n      'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n      // ES2015 (in case, if modules with ES2015 Number statics required before):\n      'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n      'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n    ).split(','), j = 0, key; keys$1.length > j; j++) {\n      if (has(NativeNumber, key = keys$1[j]) && !has(NumberWrapper, key)) {\n        defineProperty$5(NumberWrapper, key, getOwnPropertyDescriptor$2(NativeNumber, key));\n      }\n    }\n    NumberWrapper.prototype = NumberPrototype;\n    NumberPrototype.constructor = NumberWrapper;\n    redefine(global_1, NUMBER, NumberWrapper);\n  }\n\n  var FAILS_ON_PRIMITIVES = fails(function () { objectKeys(1); });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n    keys: function keys(it) {\n      return objectKeys(toObject(it));\n    }\n  });\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (e) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (f) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var freezing = !fails(function () {\n    return Object.isExtensible(Object.preventExtensions({}));\n  });\n\n  var internalMetadata = createCommonjsModule(function (module) {\n  var defineProperty = objectDefineProperty.f;\n\n\n\n  var METADATA = uid('meta');\n  var id = 0;\n\n  var isExtensible = Object.isExtensible || function () {\n    return true;\n  };\n\n  var setMetadata = function (it) {\n    defineProperty(it, METADATA, { value: {\n      objectID: 'O' + ++id, // object ID\n      weakData: {}          // weak collections IDs\n    } });\n  };\n\n  var fastKey = function (it, create) {\n    // return a primitive with prefix\n    if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return 'F';\n      // not necessary to add metadata\n      if (!create) return 'E';\n      // add missing metadata\n      setMetadata(it);\n    // return object ID\n    } return it[METADATA].objectID;\n  };\n\n  var getWeakData = function (it, create) {\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return true;\n      // not necessary to add metadata\n      if (!create) return false;\n      // add missing metadata\n      setMetadata(it);\n    // return the store of weak collections IDs\n    } return it[METADATA].weakData;\n  };\n\n  // add metadata on freeze-family methods calling\n  var onFreeze = function (it) {\n    if (freezing && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n    return it;\n  };\n\n  var meta = module.exports = {\n    REQUIRED: false,\n    fastKey: fastKey,\n    getWeakData: getWeakData,\n    onFreeze: onFreeze\n  };\n\n  hiddenKeys[METADATA] = true;\n  });\n  var internalMetadata_1 = internalMetadata.REQUIRED;\n  var internalMetadata_2 = internalMetadata.fastKey;\n  var internalMetadata_3 = internalMetadata.getWeakData;\n  var internalMetadata_4 = internalMetadata.onFreeze;\n\n  var iterate_1 = createCommonjsModule(function (module) {\n  var Result = function (stopped, result) {\n    this.stopped = stopped;\n    this.result = result;\n  };\n\n  var iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n    var boundFunction = functionBindContext(fn, that, AS_ENTRIES ? 2 : 1);\n    var iterator, iterFn, index, length, result, next, step;\n\n    if (IS_ITERATOR) {\n      iterator = iterable;\n    } else {\n      iterFn = getIteratorMethod(iterable);\n      if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n      // optimisation for array iterators\n      if (isArrayIteratorMethod(iterFn)) {\n        for (index = 0, length = toLength(iterable.length); length > index; index++) {\n          result = AS_ENTRIES\n            ? boundFunction(anObject(step = iterable[index])[0], step[1])\n            : boundFunction(iterable[index]);\n          if (result && result instanceof Result) return result;\n        } return new Result(false);\n      }\n      iterator = iterFn.call(iterable);\n    }\n\n    next = iterator.next;\n    while (!(step = next.call(iterator)).done) {\n      result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n      if (typeof result == 'object' && result && result instanceof Result) return result;\n    } return new Result(false);\n  };\n\n  iterate.stop = function (result) {\n    return new Result(true, result);\n  };\n  });\n\n  var collection = function (CONSTRUCTOR_NAME, wrapper, common) {\n    var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n    var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n    var ADDER = IS_MAP ? 'set' : 'add';\n    var NativeConstructor = global_1[CONSTRUCTOR_NAME];\n    var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n    var Constructor = NativeConstructor;\n    var exported = {};\n\n    var fixMethod = function (KEY) {\n      var nativeMethod = NativePrototype[KEY];\n      redefine(NativePrototype, KEY,\n        KEY == 'add' ? function add(value) {\n          nativeMethod.call(this, value === 0 ? 0 : value);\n          return this;\n        } : KEY == 'delete' ? function (key) {\n          return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n        } : KEY == 'get' ? function get(key) {\n          return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n        } : KEY == 'has' ? function has(key) {\n          return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n        } : function set(key, value) {\n          nativeMethod.call(this, key === 0 ? 0 : key, value);\n          return this;\n        }\n      );\n    };\n\n    // eslint-disable-next-line max-len\n    if (isForced_1(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    })))) {\n      // create collection constructor\n      Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n      internalMetadata.REQUIRED = true;\n    } else if (isForced_1(CONSTRUCTOR_NAME, true)) {\n      var instance = new Constructor();\n      // early implementations not supports chaining\n      var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n      // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n      var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      // eslint-disable-next-line no-new\n      var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n      // for early implementations -0 and +0 not the same\n      var BUGGY_ZERO = !IS_WEAK && fails(function () {\n        // V8 ~ Chromium 42- fails only with 5+ elements\n        var $instance = new NativeConstructor();\n        var index = 5;\n        while (index--) $instance[ADDER](index, index);\n        return !$instance.has(-0);\n      });\n\n      if (!ACCEPT_ITERABLES) {\n        Constructor = wrapper(function (dummy, iterable) {\n          anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n          var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n          if (iterable != undefined) iterate_1(iterable, that[ADDER], that, IS_MAP);\n          return that;\n        });\n        Constructor.prototype = NativePrototype;\n        NativePrototype.constructor = Constructor;\n      }\n\n      if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n        fixMethod('delete');\n        fixMethod('has');\n        IS_MAP && fixMethod('get');\n      }\n\n      if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n      // weak collections should not contains .clear method\n      if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n    }\n\n    exported[CONSTRUCTOR_NAME] = Constructor;\n    _export({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n    setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n    if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n    return Constructor;\n  };\n\n  var getWeakData = internalMetadata.getWeakData;\n\n\n\n\n\n\n\n\n  var setInternalState$5 = internalState.set;\n  var internalStateGetterFor = internalState.getterFor;\n  var find$1 = arrayIteration.find;\n  var findIndex = arrayIteration.findIndex;\n  var id$1 = 0;\n\n  // fallback for uncaught frozen keys\n  var uncaughtFrozenStore = function (store) {\n    return store.frozen || (store.frozen = new UncaughtFrozenStore());\n  };\n\n  var UncaughtFrozenStore = function () {\n    this.entries = [];\n  };\n\n  var findUncaughtFrozen = function (store, key) {\n    return find$1(store.entries, function (it) {\n      return it[0] === key;\n    });\n  };\n\n  UncaughtFrozenStore.prototype = {\n    get: function (key) {\n      var entry = findUncaughtFrozen(this, key);\n      if (entry) return entry[1];\n    },\n    has: function (key) {\n      return !!findUncaughtFrozen(this, key);\n    },\n    set: function (key, value) {\n      var entry = findUncaughtFrozen(this, key);\n      if (entry) entry[1] = value;\n      else this.entries.push([key, value]);\n    },\n    'delete': function (key) {\n      var index = findIndex(this.entries, function (it) {\n        return it[0] === key;\n      });\n      if (~index) this.entries.splice(index, 1);\n      return !!~index;\n    }\n  };\n\n  var collectionWeak = {\n    getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n      var C = wrapper(function (that, iterable) {\n        anInstance(that, C, CONSTRUCTOR_NAME);\n        setInternalState$5(that, {\n          type: CONSTRUCTOR_NAME,\n          id: id$1++,\n          frozen: undefined\n        });\n        if (iterable != undefined) iterate_1(iterable, that[ADDER], that, IS_MAP);\n      });\n\n      var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n      var define = function (that, key, value) {\n        var state = getInternalState(that);\n        var data = getWeakData(anObject(key), true);\n        if (data === true) uncaughtFrozenStore(state).set(key, value);\n        else data[state.id] = value;\n        return that;\n      };\n\n      redefineAll(C.prototype, {\n        // 23.3.3.2 WeakMap.prototype.delete(key)\n        // 23.4.3.3 WeakSet.prototype.delete(value)\n        'delete': function (key) {\n          var state = getInternalState(this);\n          if (!isObject(key)) return false;\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n          return data && has(data, state.id) && delete data[state.id];\n        },\n        // 23.3.3.4 WeakMap.prototype.has(key)\n        // 23.4.3.4 WeakSet.prototype.has(value)\n        has: function has$1(key) {\n          var state = getInternalState(this);\n          if (!isObject(key)) return false;\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).has(key);\n          return data && has(data, state.id);\n        }\n      });\n\n      redefineAll(C.prototype, IS_MAP ? {\n        // 23.3.3.3 WeakMap.prototype.get(key)\n        get: function get(key) {\n          var state = getInternalState(this);\n          if (isObject(key)) {\n            var data = getWeakData(key);\n            if (data === true) return uncaughtFrozenStore(state).get(key);\n            return data ? data[state.id] : undefined;\n          }\n        },\n        // 23.3.3.5 WeakMap.prototype.set(key, value)\n        set: function set(key, value) {\n          return define(this, key, value);\n        }\n      } : {\n        // 23.4.3.1 WeakSet.prototype.add(value)\n        add: function add(value) {\n          return define(this, value, true);\n        }\n      });\n\n      return C;\n    }\n  };\n\n  var es_weakMap = createCommonjsModule(function (module) {\n\n\n\n\n\n\n  var enforceIternalState = internalState.enforce;\n\n\n  var IS_IE11 = !global_1.ActiveXObject && 'ActiveXObject' in global_1;\n  var isExtensible = Object.isExtensible;\n  var InternalWeakMap;\n\n  var wrapper = function (init) {\n    return function WeakMap() {\n      return init(this, arguments.length ? arguments[0] : undefined);\n    };\n  };\n\n  // `WeakMap` constructor\n  // https://tc39.github.io/ecma262/#sec-weakmap-constructor\n  var $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n  // IE11 WeakMap frozen keys fix\n  // We can't use feature detection because it crash some old IE builds\n  // https://github.com/zloirock/core-js/issues/485\n  if (nativeWeakMap && IS_IE11) {\n    InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n    internalMetadata.REQUIRED = true;\n    var WeakMapPrototype = $WeakMap.prototype;\n    var nativeDelete = WeakMapPrototype['delete'];\n    var nativeHas = WeakMapPrototype.has;\n    var nativeGet = WeakMapPrototype.get;\n    var nativeSet = WeakMapPrototype.set;\n    redefineAll(WeakMapPrototype, {\n      'delete': function (key) {\n        if (isObject(key) && !isExtensible(key)) {\n          var state = enforceIternalState(this);\n          if (!state.frozen) state.frozen = new InternalWeakMap();\n          return nativeDelete.call(this, key) || state.frozen['delete'](key);\n        } return nativeDelete.call(this, key);\n      },\n      has: function has(key) {\n        if (isObject(key) && !isExtensible(key)) {\n          var state = enforceIternalState(this);\n          if (!state.frozen) state.frozen = new InternalWeakMap();\n          return nativeHas.call(this, key) || state.frozen.has(key);\n        } return nativeHas.call(this, key);\n      },\n      get: function get(key) {\n        if (isObject(key) && !isExtensible(key)) {\n          var state = enforceIternalState(this);\n          if (!state.frozen) state.frozen = new InternalWeakMap();\n          return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n        } return nativeGet.call(this, key);\n      },\n      set: function set(key, value) {\n        if (isObject(key) && !isExtensible(key)) {\n          var state = enforceIternalState(this);\n          if (!state.frozen) state.frozen = new InternalWeakMap();\n          nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n        } else nativeSet.call(this, key, value);\n        return this;\n      }\n    });\n  }\n  });\n\n  var $every = arrayIteration.every;\n\n\n\n  var STRICT_METHOD$3 = arrayMethodIsStrict('every');\n  var USES_TO_LENGTH$7 = arrayMethodUsesToLength('every');\n\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || !USES_TO_LENGTH$7 }, {\n    every: function every(callbackfn /* , thisArg */) {\n      return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  _export({ target: 'Object', stat: true, forced: Object.assign !== objectAssign }, {\n    assign: objectAssign\n  });\n\n  var non = '\\u200B\\u0085\\u180E';\n\n  // check that a method works with the correct list\n  // of whitespaces and has a correct name\n  var stringTrimForced = function (METHOD_NAME) {\n    return fails(function () {\n      return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n    });\n  };\n\n  var $trim = stringTrim.trim;\n\n\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  _export({ target: 'String', proto: true, forced: stringTrimForced('trim') }, {\n    trim: function trim() {\n      return $trim(this);\n    }\n  });\n\n  var $some = arrayIteration.some;\n\n\n\n  var STRICT_METHOD$4 = arrayMethodIsStrict('some');\n  var USES_TO_LENGTH$8 = arrayMethodUsesToLength('some');\n\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$4 || !USES_TO_LENGTH$8 }, {\n    some: function some(callbackfn /* , thisArg */) {\n      return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // `thisNumberValue` abstract operation\n  // https://tc39.github.io/ecma262/#sec-thisnumbervalue\n  var thisNumberValue = function (value) {\n    if (typeof value != 'number' && classofRaw(value) != 'Number') {\n      throw TypeError('Incorrect invocation');\n    }\n    return +value;\n  };\n\n  // `String.prototype.repeat` method implementation\n  // https://tc39.github.io/ecma262/#sec-string.prototype.repeat\n  var stringRepeat = ''.repeat || function repeat(count) {\n    var str = String(requireObjectCoercible(this));\n    var result = '';\n    var n = toInteger(count);\n    if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n    for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n    return result;\n  };\n\n  var nativeToFixed = 1.0.toFixed;\n  var floor$4 = Math.floor;\n\n  var pow$1 = function (x, n, acc) {\n    return n === 0 ? acc : n % 2 === 1 ? pow$1(x, n - 1, acc * x) : pow$1(x * x, n / 2, acc);\n  };\n\n  var log = function (x) {\n    var n = 0;\n    var x2 = x;\n    while (x2 >= 4096) {\n      n += 12;\n      x2 /= 4096;\n    }\n    while (x2 >= 2) {\n      n += 1;\n      x2 /= 2;\n    } return n;\n  };\n\n  var FORCED$1 = nativeToFixed && (\n    0.00008.toFixed(3) !== '0.000' ||\n    0.9.toFixed(0) !== '1' ||\n    1.255.toFixed(2) !== '1.25' ||\n    1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n  ) || !fails(function () {\n    // V8 ~ Android 4.3-\n    nativeToFixed.call({});\n  });\n\n  // `Number.prototype.toFixed` method\n  // https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n  _export({ target: 'Number', proto: true, forced: FORCED$1 }, {\n    // eslint-disable-next-line max-statements\n    toFixed: function toFixed(fractionDigits) {\n      var number = thisNumberValue(this);\n      var fractDigits = toInteger(fractionDigits);\n      var data = [0, 0, 0, 0, 0, 0];\n      var sign = '';\n      var result = '0';\n      var e, z, j, k;\n\n      var multiply = function (n, c) {\n        var index = -1;\n        var c2 = c;\n        while (++index < 6) {\n          c2 += n * data[index];\n          data[index] = c2 % 1e7;\n          c2 = floor$4(c2 / 1e7);\n        }\n      };\n\n      var divide = function (n) {\n        var index = 6;\n        var c = 0;\n        while (--index >= 0) {\n          c += data[index];\n          data[index] = floor$4(c / n);\n          c = (c % n) * 1e7;\n        }\n      };\n\n      var dataToString = function () {\n        var index = 6;\n        var s = '';\n        while (--index >= 0) {\n          if (s !== '' || index === 0 || data[index] !== 0) {\n            var t = String(data[index]);\n            s = s === '' ? t : s + stringRepeat.call('0', 7 - t.length) + t;\n          }\n        } return s;\n      };\n\n      if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n      // eslint-disable-next-line no-self-compare\n      if (number != number) return 'NaN';\n      if (number <= -1e21 || number >= 1e21) return String(number);\n      if (number < 0) {\n        sign = '-';\n        number = -number;\n      }\n      if (number > 1e-21) {\n        e = log(number * pow$1(2, 69, 1)) - 69;\n        z = e < 0 ? number * pow$1(2, -e, 1) : number / pow$1(2, e, 1);\n        z *= 0x10000000000000;\n        e = 52 - e;\n        if (e > 0) {\n          multiply(0, z);\n          j = fractDigits;\n          while (j >= 7) {\n            multiply(1e7, 0);\n            j -= 7;\n          }\n          multiply(pow$1(10, j, 1), 0);\n          j = e - 1;\n          while (j >= 23) {\n            divide(1 << 23);\n            j -= 23;\n          }\n          divide(1 << j);\n          multiply(1, 1);\n          divide(2);\n          result = dataToString();\n        } else {\n          multiply(0, z);\n          multiply(1 << -e, 0);\n          result = dataToString() + stringRepeat.call('0', fractDigits);\n        }\n      }\n      if (fractDigits > 0) {\n        k = result.length;\n        result = sign + (k <= fractDigits\n          ? '0.' + stringRepeat.call('0', fractDigits - k) + result\n          : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n      } else {\n        result = sign + result;\n      } return result;\n    }\n  });\n\n  var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n  // `Object.{ entries, values }` methods implementation\n  var createMethod$4 = function (TO_ENTRIES) {\n    return function (it) {\n      var O = toIndexedObject(it);\n      var keys = objectKeys(O);\n      var length = keys.length;\n      var i = 0;\n      var result = [];\n      var key;\n      while (length > i) {\n        key = keys[i++];\n        if (!descriptors || propertyIsEnumerable.call(O, key)) {\n          result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n        }\n      }\n      return result;\n    };\n  };\n\n  var objectToArray = {\n    // `Object.entries` method\n    // https://tc39.github.io/ecma262/#sec-object.entries\n    entries: createMethod$4(true),\n    // `Object.values` method\n    // https://tc39.github.io/ecma262/#sec-object.values\n    values: createMethod$4(false)\n  };\n\n  var $entries = objectToArray.entries;\n\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  _export({ target: 'Object', stat: true }, {\n    entries: function entries(O) {\n      return $entries(O);\n    }\n  });\n\n  var $values = objectToArray.values;\n\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  _export({ target: 'Object', stat: true }, {\n    values: function values(O) {\n      return $values(O);\n    }\n  });\n\n  // `Number.isNaN` method\n  // https://tc39.github.io/ecma262/#sec-number.isnan\n  _export({ target: 'Number', stat: true }, {\n    isNaN: function isNaN(number) {\n      // eslint-disable-next-line no-self-compare\n      return number != number;\n    }\n  });\n\n  var nativeGetOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n\n\n  var FAILS_ON_PRIMITIVES$1 = fails(function () { nativeGetOwnPropertyDescriptor$2(1); });\n  var FORCED$2 = !descriptors || FAILS_ON_PRIMITIVES$1;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  _export({ target: 'Object', stat: true, forced: FORCED$2, sham: !descriptors }, {\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n      return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it), key);\n    }\n  });\n\n  // `Object.getOwnPropertyDescriptors` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  _export({ target: 'Object', stat: true, sham: !descriptors }, {\n    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n      var O = toIndexedObject(object);\n      var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n      var keys = ownKeys(O);\n      var result = {};\n      var index = 0;\n      var key, descriptor;\n      while (keys.length > index) {\n        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n        if (descriptor !== undefined) createProperty(result, key, descriptor);\n      }\n      return result;\n    }\n  });\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  function _classCallCheck$1(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n\n  function _defineProperties$1(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var r = t[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n    }\n  }\n\n  function _createClass$1(e, t, n) {\n    return t && _defineProperties$1(e.prototype, t), n && _defineProperties$1(e, n), e;\n  }\n\n  function _defineProperty$1(e, t, n) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: n,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = n, e;\n  }\n\n  function ownKeys$2(e, t) {\n    var n = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var r = Object.getOwnPropertySymbols(e);\n      t && (r = r.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), n.push.apply(n, r);\n    }\n\n    return n;\n  }\n\n  function _objectSpread2$1(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? ownKeys$2(Object(n), !0).forEach(function (t) {\n        _defineProperty$1(e, t, n[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys$2(Object(n)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n      });\n    }\n\n    return e;\n  }\n\n  var defaults = {\n    addCSS: !0,\n    thumbWidth: 15,\n    watch: !0\n  };\n\n  function matches(e, t) {\n    return function () {\n      return Array.from(document.querySelectorAll(t)).includes(this);\n    }.call(e, t);\n  }\n\n  function trigger(e, t) {\n    if (e && t) {\n      var n = new Event(t, {\n        bubbles: !0\n      });\n      e.dispatchEvent(n);\n    }\n  }\n\n  var getConstructor = function getConstructor(e) {\n    return null != e ? e.constructor : null;\n  },\n      instanceOf = function instanceOf(e, t) {\n    return !!(e && t && e instanceof t);\n  },\n      isNullOrUndefined = function isNullOrUndefined(e) {\n    return null == e;\n  },\n      isObject$1 = function isObject(e) {\n    return getConstructor(e) === Object;\n  },\n      isNumber = function isNumber(e) {\n    return getConstructor(e) === Number && !Number.isNaN(e);\n  },\n      isString = function isString(e) {\n    return getConstructor(e) === String;\n  },\n      isBoolean = function isBoolean(e) {\n    return getConstructor(e) === Boolean;\n  },\n      isFunction = function isFunction(e) {\n    return getConstructor(e) === Function;\n  },\n      isArray$1 = function isArray(e) {\n    return Array.isArray(e);\n  },\n      isNodeList = function isNodeList(e) {\n    return instanceOf(e, NodeList);\n  },\n      isElement = function isElement(e) {\n    return instanceOf(e, Element);\n  },\n      isEvent = function isEvent(e) {\n    return instanceOf(e, Event);\n  },\n      isEmpty = function isEmpty(e) {\n    return isNullOrUndefined(e) || (isString(e) || isArray$1(e) || isNodeList(e)) && !e.length || isObject$1(e) && !Object.keys(e).length;\n  },\n      is = {\n    nullOrUndefined: isNullOrUndefined,\n    object: isObject$1,\n    number: isNumber,\n    string: isString,\n    boolean: isBoolean,\n    function: isFunction,\n    array: isArray$1,\n    nodeList: isNodeList,\n    element: isElement,\n    event: isEvent,\n    empty: isEmpty\n  };\n\n  function getDecimalPlaces(e) {\n    var t = \"\".concat(e).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n    return t ? Math.max(0, (t[1] ? t[1].length : 0) - (t[2] ? +t[2] : 0)) : 0;\n  }\n\n  function round(e, t) {\n    if (1 > t) {\n      var n = getDecimalPlaces(t);\n      return parseFloat(e.toFixed(n));\n    }\n\n    return Math.round(e / t) * t;\n  }\n\n  var RangeTouch = function () {\n    function e(t, n) {\n      _classCallCheck$1(this, e), is.element(t) ? this.element = t : is.string(t) && (this.element = document.querySelector(t)), is.element(this.element) && is.empty(this.element.rangeTouch) && (this.config = _objectSpread2$1({}, defaults, {}, n), this.init());\n    }\n\n    return _createClass$1(e, [{\n      key: \"init\",\n      value: function value() {\n        e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"none\", this.element.style.webKitUserSelect = \"none\", this.element.style.touchAction = \"manipulation\"), this.listeners(!0), this.element.rangeTouch = this);\n      }\n    }, {\n      key: \"destroy\",\n      value: function value() {\n        e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"\", this.element.style.webKitUserSelect = \"\", this.element.style.touchAction = \"\"), this.listeners(!1), this.element.rangeTouch = null);\n      }\n    }, {\n      key: \"listeners\",\n      value: function value(e) {\n        var t = this,\n            n = e ? \"addEventListener\" : \"removeEventListener\";\n        [\"touchstart\", \"touchmove\", \"touchend\"].forEach(function (e) {\n          t.element[n](e, function (e) {\n            return t.set(e);\n          }, !1);\n        });\n      }\n    }, {\n      key: \"get\",\n      value: function value(t) {\n        if (!e.enabled || !is.event(t)) return null;\n        var n,\n            r = t.target,\n            i = t.changedTouches[0],\n            o = parseFloat(r.getAttribute(\"min\")) || 0,\n            s = parseFloat(r.getAttribute(\"max\")) || 100,\n            u = parseFloat(r.getAttribute(\"step\")) || 1,\n            c = r.getBoundingClientRect(),\n            a = 100 / c.width * (this.config.thumbWidth / 2) / 100;\n        return 0 > (n = 100 / c.width * (i.clientX - c.left)) ? n = 0 : 100 < n && (n = 100), 50 > n ? n -= (100 - 2 * n) * a : 50 < n && (n += 2 * (n - 50) * a), o + round(n / 100 * (s - o), u);\n      }\n    }, {\n      key: \"set\",\n      value: function value(t) {\n        e.enabled && is.event(t) && !t.target.disabled && (t.preventDefault(), t.target.value = this.get(t), trigger(t.target, \"touchend\" === t.type ? \"change\" : \"input\"));\n      }\n    }], [{\n      key: \"setup\",\n      value: function value(t) {\n        var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {},\n            r = null;\n        if (is.empty(t) || is.string(t) ? r = Array.from(document.querySelectorAll(is.string(t) ? t : 'input[type=\"range\"]')) : is.element(t) ? r = [t] : is.nodeList(t) ? r = Array.from(t) : is.array(t) && (r = t.filter(is.element)), is.empty(r)) return null;\n\n        var i = _objectSpread2$1({}, defaults, {}, n);\n\n        if (is.string(t) && i.watch) {\n          var o = new MutationObserver(function (n) {\n            Array.from(n).forEach(function (n) {\n              Array.from(n.addedNodes).forEach(function (n) {\n                is.element(n) && matches(n, t) && new e(n, i);\n              });\n            });\n          });\n          o.observe(document.body, {\n            childList: !0,\n            subtree: !0\n          });\n        }\n\n        return r.map(function (t) {\n          return new e(t, n);\n        });\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return \"ontouchstart\" in document.documentElement;\n      }\n    }]), e;\n  }();\n\n  var nativePromiseConstructor = global_1.Promise;\n\n  var SPECIES$5 = wellKnownSymbol('species');\n\n  var setSpecies = function (CONSTRUCTOR_NAME) {\n    var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n    var defineProperty = objectDefineProperty.f;\n\n    if (descriptors && Constructor && !Constructor[SPECIES$5]) {\n      defineProperty(Constructor, SPECIES$5, {\n        configurable: true,\n        get: function () { return this; }\n      });\n    }\n  };\n\n  var engineIsIos = /(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent);\n\n  var location = global_1.location;\n  var set$1 = global_1.setImmediate;\n  var clear = global_1.clearImmediate;\n  var process$1 = global_1.process;\n  var MessageChannel = global_1.MessageChannel;\n  var Dispatch = global_1.Dispatch;\n  var counter = 0;\n  var queue = {};\n  var ONREADYSTATECHANGE = 'onreadystatechange';\n  var defer, channel, port;\n\n  var run = function (id) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n\n  var runner = function (id) {\n    return function () {\n      run(id);\n    };\n  };\n\n  var listener = function (event) {\n    run(event.data);\n  };\n\n  var post = function (id) {\n    // old engines have not location.origin\n    global_1.postMessage(id + '', location.protocol + '//' + location.host);\n  };\n\n  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n  if (!set$1 || !clear) {\n    set$1 = function setImmediate(fn) {\n      var args = [];\n      var i = 1;\n      while (arguments.length > i) args.push(arguments[i++]);\n      queue[++counter] = function () {\n        // eslint-disable-next-line no-new-func\n        (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clear = function clearImmediate(id) {\n      delete queue[id];\n    };\n    // Node.js 0.8-\n    if (classofRaw(process$1) == 'process') {\n      defer = function (id) {\n        process$1.nextTick(runner(id));\n      };\n    // Sphere (JS game engine) Dispatch API\n    } else if (Dispatch && Dispatch.now) {\n      defer = function (id) {\n        Dispatch.now(runner(id));\n      };\n    // Browsers with MessageChannel, includes WebWorkers\n    // except iOS - https://github.com/zloirock/core-js/issues/624\n    } else if (MessageChannel && !engineIsIos) {\n      channel = new MessageChannel();\n      port = channel.port2;\n      channel.port1.onmessage = listener;\n      defer = functionBindContext(port.postMessage, port, 1);\n    // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n    } else if (\n      global_1.addEventListener &&\n      typeof postMessage == 'function' &&\n      !global_1.importScripts &&\n      !fails(post) &&\n      location.protocol !== 'file:'\n    ) {\n      defer = post;\n      global_1.addEventListener('message', listener, false);\n    // IE8-\n    } else if (ONREADYSTATECHANGE in documentCreateElement('script')) {\n      defer = function (id) {\n        html.appendChild(documentCreateElement('script'))[ONREADYSTATECHANGE] = function () {\n          html.removeChild(this);\n          run(id);\n        };\n      };\n    // Rest old browsers\n    } else {\n      defer = function (id) {\n        setTimeout(runner(id), 0);\n      };\n    }\n  }\n\n  var task = {\n    set: set$1,\n    clear: clear\n  };\n\n  var getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;\n\n  var macrotask = task.set;\n\n\n  var MutationObserver$1 = global_1.MutationObserver || global_1.WebKitMutationObserver;\n  var process$2 = global_1.process;\n  var Promise$1 = global_1.Promise;\n  var IS_NODE = classofRaw(process$2) == 'process';\n  // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\n  var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global_1, 'queueMicrotask');\n  var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\n  var flush, head, last, notify, toggle, node, promise, then;\n\n  // modern engines have queueMicrotask method\n  if (!queueMicrotask) {\n    flush = function () {\n      var parent, fn;\n      if (IS_NODE && (parent = process$2.domain)) parent.exit();\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n        try {\n          fn();\n        } catch (error) {\n          if (head) notify();\n          else last = undefined;\n          throw error;\n        }\n      } last = undefined;\n      if (parent) parent.enter();\n    };\n\n    // Node.js\n    if (IS_NODE) {\n      notify = function () {\n        process$2.nextTick(flush);\n      };\n    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n    } else if (MutationObserver$1 && !engineIsIos) {\n      toggle = true;\n      node = document.createTextNode('');\n      new MutationObserver$1(flush).observe(node, { characterData: true });\n      notify = function () {\n        node.data = toggle = !toggle;\n      };\n    // environments with maybe non-completely correct, but existent Promise\n    } else if (Promise$1 && Promise$1.resolve) {\n      // Promise.resolve without an argument throws an error in LG WebOS 2\n      promise = Promise$1.resolve(undefined);\n      then = promise.then;\n      notify = function () {\n        then.call(promise, flush);\n      };\n    // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n    } else {\n      notify = function () {\n        // strange IE + webpack dev server bug - use .call(global)\n        macrotask.call(global_1, flush);\n      };\n    }\n  }\n\n  var microtask = queueMicrotask || function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n\n  var PromiseCapability = function (C) {\n    var resolve, reject;\n    this.promise = new C(function ($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = aFunction$1(resolve);\n    this.reject = aFunction$1(reject);\n  };\n\n  // 25.4.1.5 NewPromiseCapability(C)\n  var f$7 = function (C) {\n    return new PromiseCapability(C);\n  };\n\n  var newPromiseCapability = {\n  \tf: f$7\n  };\n\n  var promiseResolve = function (C, x) {\n    anObject(C);\n    if (isObject(x) && x.constructor === C) return x;\n    var promiseCapability = newPromiseCapability.f(C);\n    var resolve = promiseCapability.resolve;\n    resolve(x);\n    return promiseCapability.promise;\n  };\n\n  var hostReportErrors = function (a, b) {\n    var console = global_1.console;\n    if (console && console.error) {\n      arguments.length === 1 ? console.error(a) : console.error(a, b);\n    }\n  };\n\n  var perform = function (exec) {\n    try {\n      return { error: false, value: exec() };\n    } catch (error) {\n      return { error: true, value: error };\n    }\n  };\n\n  var task$1 = task.set;\n\n\n\n\n\n\n\n\n\n\n  var SPECIES$6 = wellKnownSymbol('species');\n  var PROMISE = 'Promise';\n  var getInternalState$3 = internalState.get;\n  var setInternalState$6 = internalState.set;\n  var getInternalPromiseState = internalState.getterFor(PROMISE);\n  var PromiseConstructor = nativePromiseConstructor;\n  var TypeError$1 = global_1.TypeError;\n  var document$2 = global_1.document;\n  var process$3 = global_1.process;\n  var $fetch$1 = getBuiltIn('fetch');\n  var newPromiseCapability$1 = newPromiseCapability.f;\n  var newGenericPromiseCapability = newPromiseCapability$1;\n  var IS_NODE$1 = classofRaw(process$3) == 'process';\n  var DISPATCH_EVENT = !!(document$2 && document$2.createEvent && global_1.dispatchEvent);\n  var UNHANDLED_REJECTION = 'unhandledrejection';\n  var REJECTION_HANDLED = 'rejectionhandled';\n  var PENDING = 0;\n  var FULFILLED = 1;\n  var REJECTED = 2;\n  var HANDLED = 1;\n  var UNHANDLED = 2;\n  var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n  var FORCED$3 = isForced_1(PROMISE, function () {\n    var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n    if (!GLOBAL_CORE_JS_PROMISE) {\n      // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // We can't detect it synchronously, so just check versions\n      if (engineV8Version === 66) return true;\n      // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n      if (!IS_NODE$1 && typeof PromiseRejectionEvent != 'function') return true;\n    }\n    // We can't use @@species feature detection in V8 since it causes\n    // deoptimization and performance degradation\n    // https://github.com/zloirock/core-js/issues/679\n    if (engineV8Version >= 51 && /native code/.test(PromiseConstructor)) return false;\n    // Detect correctness of subclassing with @@species support\n    var promise = PromiseConstructor.resolve(1);\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES$6] = FakePromise;\n    return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n  });\n\n  var INCORRECT_ITERATION$1 = FORCED$3 || !checkCorrectnessOfIteration(function (iterable) {\n    PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n  });\n\n  // helpers\n  var isThenable = function (it) {\n    var then;\n    return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n  };\n\n  var notify$1 = function (promise, state, isReject) {\n    if (state.notified) return;\n    state.notified = true;\n    var chain = state.reactions;\n    microtask(function () {\n      var value = state.value;\n      var ok = state.state == FULFILLED;\n      var index = 0;\n      // variable length - can't use forEach\n      while (chain.length > index) {\n        var reaction = chain[index++];\n        var handler = ok ? reaction.ok : reaction.fail;\n        var resolve = reaction.resolve;\n        var reject = reaction.reject;\n        var domain = reaction.domain;\n        var result, then, exited;\n        try {\n          if (handler) {\n            if (!ok) {\n              if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n              state.rejection = HANDLED;\n            }\n            if (handler === true) result = value;\n            else {\n              if (domain) domain.enter();\n              result = handler(value); // can throw\n              if (domain) {\n                domain.exit();\n                exited = true;\n              }\n            }\n            if (result === reaction.promise) {\n              reject(TypeError$1('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else resolve(result);\n          } else reject(value);\n        } catch (error) {\n          if (domain && !exited) domain.exit();\n          reject(error);\n        }\n      }\n      state.reactions = [];\n      state.notified = false;\n      if (isReject && !state.rejection) onUnhandled(promise, state);\n    });\n  };\n\n  var dispatchEvent = function (name, promise, reason) {\n    var event, handler;\n    if (DISPATCH_EVENT) {\n      event = document$2.createEvent('Event');\n      event.promise = promise;\n      event.reason = reason;\n      event.initEvent(name, false, true);\n      global_1.dispatchEvent(event);\n    } else event = { promise: promise, reason: reason };\n    if (handler = global_1['on' + name]) handler(event);\n    else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n  };\n\n  var onUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      var value = state.value;\n      var IS_UNHANDLED = isUnhandled(state);\n      var result;\n      if (IS_UNHANDLED) {\n        result = perform(function () {\n          if (IS_NODE$1) {\n            process$3.emit('unhandledRejection', value, promise);\n          } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n        });\n        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n        state.rejection = IS_NODE$1 || isUnhandled(state) ? UNHANDLED : HANDLED;\n        if (result.error) throw result.value;\n      }\n    });\n  };\n\n  var isUnhandled = function (state) {\n    return state.rejection !== HANDLED && !state.parent;\n  };\n\n  var onHandleUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      if (IS_NODE$1) {\n        process$3.emit('rejectionHandled', promise);\n      } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n    });\n  };\n\n  var bind = function (fn, promise, state, unwrap) {\n    return function (value) {\n      fn(promise, state, value, unwrap);\n    };\n  };\n\n  var internalReject = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    state.value = value;\n    state.state = REJECTED;\n    notify$1(promise, state, true);\n  };\n\n  var internalResolve = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    try {\n      if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n      var then = isThenable(value);\n      if (then) {\n        microtask(function () {\n          var wrapper = { done: false };\n          try {\n            then.call(value,\n              bind(internalResolve, promise, wrapper, state),\n              bind(internalReject, promise, wrapper, state)\n            );\n          } catch (error) {\n            internalReject(promise, wrapper, error, state);\n          }\n        });\n      } else {\n        state.value = value;\n        state.state = FULFILLED;\n        notify$1(promise, state, false);\n      }\n    } catch (error) {\n      internalReject(promise, { done: false }, error, state);\n    }\n  };\n\n  // constructor polyfill\n  if (FORCED$3) {\n    // 25.4.3.1 Promise(executor)\n    PromiseConstructor = function Promise(executor) {\n      anInstance(this, PromiseConstructor, PROMISE);\n      aFunction$1(executor);\n      Internal.call(this);\n      var state = getInternalState$3(this);\n      try {\n        executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n      } catch (error) {\n        internalReject(this, state, error);\n      }\n    };\n    // eslint-disable-next-line no-unused-vars\n    Internal = function Promise(executor) {\n      setInternalState$6(this, {\n        type: PROMISE,\n        done: false,\n        notified: false,\n        parent: false,\n        reactions: [],\n        rejection: false,\n        state: PENDING,\n        value: undefined\n      });\n    };\n    Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n      // `Promise.prototype.then` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n      then: function then(onFulfilled, onRejected) {\n        var state = getInternalPromiseState(this);\n        var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        reaction.domain = IS_NODE$1 ? process$3.domain : undefined;\n        state.parent = true;\n        state.reactions.push(reaction);\n        if (state.state != PENDING) notify$1(this, state, false);\n        return reaction.promise;\n      },\n      // `Promise.prototype.catch` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n      'catch': function (onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n    OwnPromiseCapability = function () {\n      var promise = new Internal();\n      var state = getInternalState$3(promise);\n      this.promise = promise;\n      this.resolve = bind(internalResolve, promise, state);\n      this.reject = bind(internalReject, promise, state);\n    };\n    newPromiseCapability.f = newPromiseCapability$1 = function (C) {\n      return C === PromiseConstructor || C === PromiseWrapper\n        ? new OwnPromiseCapability(C)\n        : newGenericPromiseCapability(C);\n    };\n\n    if ( typeof nativePromiseConstructor == 'function') {\n      nativeThen = nativePromiseConstructor.prototype.then;\n\n      // wrap native Promise#then for native async functions\n      redefine(nativePromiseConstructor.prototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // wrap fetch result\n      if (typeof $fetch$1 == 'function') _export({ global: true, enumerable: true, forced: true }, {\n        // eslint-disable-next-line no-unused-vars\n        fetch: function fetch(input /* , init */) {\n          return promiseResolve(PromiseConstructor, $fetch$1.apply(global_1, arguments));\n        }\n      });\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: FORCED$3 }, {\n    Promise: PromiseConstructor\n  });\n\n  setToStringTag(PromiseConstructor, PROMISE, false);\n  setSpecies(PROMISE);\n\n  PromiseWrapper = getBuiltIn(PROMISE);\n\n  // statics\n  _export({ target: PROMISE, stat: true, forced: FORCED$3 }, {\n    // `Promise.reject` method\n    // https://tc39.github.io/ecma262/#sec-promise.reject\n    reject: function reject(r) {\n      var capability = newPromiseCapability$1(this);\n      capability.reject.call(undefined, r);\n      return capability.promise;\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced:  FORCED$3 }, {\n    // `Promise.resolve` method\n    // https://tc39.github.io/ecma262/#sec-promise.resolve\n    resolve: function resolve(x) {\n      return promiseResolve( this, x);\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION$1 }, {\n    // `Promise.all` method\n    // https://tc39.github.io/ecma262/#sec-promise.all\n    all: function all(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        var values = [];\n        var counter = 0;\n        var remaining = 1;\n        iterate_1(iterable, function (promise) {\n          var index = counter++;\n          var alreadyCalled = false;\n          values.push(undefined);\n          remaining++;\n          $promiseResolve.call(C, promise).then(function (value) {\n            if (alreadyCalled) return;\n            alreadyCalled = true;\n            values[index] = value;\n            --remaining || resolve(values);\n          }, reject);\n        });\n        --remaining || resolve(values);\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    },\n    // `Promise.race` method\n    // https://tc39.github.io/ecma262/#sec-promise.race\n    race: function race(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        iterate_1(iterable, function (promise) {\n          $promiseResolve.call(C, promise).then(capability.resolve, reject);\n        });\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    }\n  });\n\n  var getOwnPropertyDescriptor$4 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  var nativeStartsWith = ''.startsWith;\n  var min$4 = Math.min;\n\n  var CORRECT_IS_REGEXP_LOGIC = correctIsRegexpLogic('startsWith');\n  // https://github.com/zloirock/core-js/pull/702\n  var MDN_POLYFILL_BUG =  !CORRECT_IS_REGEXP_LOGIC && !!function () {\n    var descriptor = getOwnPropertyDescriptor$4(String.prototype, 'startsWith');\n    return descriptor && !descriptor.writable;\n  }();\n\n  // `String.prototype.startsWith` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n  _export({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n    startsWith: function startsWith(searchString /* , position = 0 */) {\n      var that = String(requireObjectCoercible(this));\n      notARegexp(searchString);\n      var index = toLength(min$4(arguments.length > 1 ? arguments[1] : undefined, that.length));\n      var search = String(searchString);\n      return nativeStartsWith\n        ? nativeStartsWith.call(that, search, index)\n        : that.slice(index, index + search.length) === search;\n    }\n  });\n\n  // ==========================================================================\n  // Type checking utils\n  // ==========================================================================\n  var getConstructor$1 = function getConstructor(input) {\n    return input !== null && typeof input !== 'undefined' ? input.constructor : null;\n  };\n\n  var instanceOf$1 = function instanceOf(input, constructor) {\n    return Boolean(input && constructor && input instanceof constructor);\n  };\n\n  var isNullOrUndefined$1 = function isNullOrUndefined(input) {\n    return input === null || typeof input === 'undefined';\n  };\n\n  var isObject$2 = function isObject(input) {\n    return getConstructor$1(input) === Object;\n  };\n\n  var isNumber$1 = function isNumber(input) {\n    return getConstructor$1(input) === Number && !Number.isNaN(input);\n  };\n\n  var isString$1 = function isString(input) {\n    return getConstructor$1(input) === String;\n  };\n\n  var isBoolean$1 = function isBoolean(input) {\n    return getConstructor$1(input) === Boolean;\n  };\n\n  var isFunction$1 = function isFunction(input) {\n    return getConstructor$1(input) === Function;\n  };\n\n  var isArray$2 = function isArray(input) {\n    return Array.isArray(input);\n  };\n\n  var isWeakMap = function isWeakMap(input) {\n    return instanceOf$1(input, WeakMap);\n  };\n\n  var isNodeList$1 = function isNodeList(input) {\n    return instanceOf$1(input, NodeList);\n  };\n\n  var isElement$1 = function isElement(input) {\n    return instanceOf$1(input, Element);\n  };\n\n  var isTextNode = function isTextNode(input) {\n    return getConstructor$1(input) === Text;\n  };\n\n  var isEvent$1 = function isEvent(input) {\n    return instanceOf$1(input, Event);\n  };\n\n  var isKeyboardEvent = function isKeyboardEvent(input) {\n    return instanceOf$1(input, KeyboardEvent);\n  };\n\n  var isCue = function isCue(input) {\n    return instanceOf$1(input, window.TextTrackCue) || instanceOf$1(input, window.VTTCue);\n  };\n\n  var isTrack = function isTrack(input) {\n    return instanceOf$1(input, TextTrack) || !isNullOrUndefined$1(input) && isString$1(input.kind);\n  };\n\n  var isPromise = function isPromise(input) {\n    return instanceOf$1(input, Promise) && isFunction$1(input.then);\n  };\n\n  var isEmpty$1 = function isEmpty(input) {\n    return isNullOrUndefined$1(input) || (isString$1(input) || isArray$2(input) || isNodeList$1(input)) && !input.length || isObject$2(input) && !Object.keys(input).length;\n  };\n\n  var isUrl = function isUrl(input) {\n    // Accept a URL object\n    if (instanceOf$1(input, window.URL)) {\n      return true;\n    } // Must be string from here\n\n\n    if (!isString$1(input)) {\n      return false;\n    } // Add the protocol if required\n\n\n    var string = input;\n\n    if (!input.startsWith('http://') || !input.startsWith('https://')) {\n      string = \"http://\".concat(input);\n    }\n\n    try {\n      return !isEmpty$1(new URL(string).hostname);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var is$1 = {\n    nullOrUndefined: isNullOrUndefined$1,\n    object: isObject$2,\n    number: isNumber$1,\n    string: isString$1,\n    boolean: isBoolean$1,\n    function: isFunction$1,\n    array: isArray$2,\n    weakMap: isWeakMap,\n    nodeList: isNodeList$1,\n    element: isElement$1,\n    textNode: isTextNode,\n    event: isEvent$1,\n    keyboardEvent: isKeyboardEvent,\n    cue: isCue,\n    track: isTrack,\n    promise: isPromise,\n    url: isUrl,\n    empty: isEmpty$1\n  };\n\n  var transitionEndEvent = function () {\n    var element = document.createElement('span');\n    var events = {\n      WebkitTransition: 'webkitTransitionEnd',\n      MozTransition: 'transitionend',\n      OTransition: 'oTransitionEnd otransitionend',\n      transition: 'transitionend'\n    };\n    var type = Object.keys(events).find(function (event) {\n      return element.style[event] !== undefined;\n    });\n    return is$1.string(type) ? events[type] : false;\n  }(); // Force repaint of element\n\n  function repaint(element, delay) {\n    setTimeout(function () {\n      try {\n        // eslint-disable-next-line no-param-reassign\n        element.hidden = true; // eslint-disable-next-line no-unused-expressions\n\n        element.offsetHeight; // eslint-disable-next-line no-param-reassign\n\n        element.hidden = false;\n      } catch (e) {// Do nothing\n      }\n    }, delay);\n  }\n\n  // ==========================================================================\n  // Browser sniffing\n  // Unfortunately, due to mixed support, UA sniffing is required\n  // ==========================================================================\n  var browser = {\n    isIE:\n    /* @cc_on!@ */\n     !!document.documentMode,\n    isEdge: window.navigator.userAgent.includes('Edge'),\n    isWebkit: 'WebkitAppearance' in document.documentElement.style && !/Edge/.test(navigator.userAgent),\n    isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),\n    isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform)\n  };\n\n  // `Array.prototype.{ reduce, reduceRight }` methods implementation\n  var createMethod$5 = function (IS_RIGHT) {\n    return function (that, callbackfn, argumentsLength, memo) {\n      aFunction$1(callbackfn);\n      var O = toObject(that);\n      var self = indexedObject(O);\n      var length = toLength(O.length);\n      var index = IS_RIGHT ? length - 1 : 0;\n      var i = IS_RIGHT ? -1 : 1;\n      if (argumentsLength < 2) while (true) {\n        if (index in self) {\n          memo = self[index];\n          index += i;\n          break;\n        }\n        index += i;\n        if (IS_RIGHT ? index < 0 : length <= index) {\n          throw TypeError('Reduce of empty array with no initial value');\n        }\n      }\n      for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n        memo = callbackfn(memo, self[index], index, O);\n      }\n      return memo;\n    };\n  };\n\n  var arrayReduce = {\n    // `Array.prototype.reduce` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n    left: createMethod$5(false),\n    // `Array.prototype.reduceRight` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n    right: createMethod$5(true)\n  };\n\n  var $reduce = arrayReduce.left;\n\n\n\n  var STRICT_METHOD$5 = arrayMethodIsStrict('reduce');\n  var USES_TO_LENGTH$9 = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$5 || !USES_TO_LENGTH$9 }, {\n    reduce: function reduce(callbackfn /* , initialValue */) {\n      return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function cloneDeep(object) {\n    return JSON.parse(JSON.stringify(object));\n  } // Get a nested value in an object\n\n  function getDeep(object, path) {\n    return path.split('.').reduce(function (obj, key) {\n      return obj && obj[key];\n    }, object);\n  } // Deep extend destination object with N more objects\n\n  function extend() {\n    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    if (!sources.length) {\n      return target;\n    }\n\n    var source = sources.shift();\n\n    if (!is$1.object(source)) {\n      return target;\n    }\n\n    Object.keys(source).forEach(function (key) {\n      if (is$1.object(source[key])) {\n        if (!Object.keys(target).includes(key)) {\n          Object.assign(target, _defineProperty({}, key, {}));\n        }\n\n        extend(target[key], source[key]);\n      } else {\n        Object.assign(target, _defineProperty({}, key, source[key]));\n      }\n    });\n    return extend.apply(void 0, [target].concat(sources));\n  }\n\n  function wrap$1(elements, wrapper) {\n    // Convert `elements` to an array, if necessary.\n    var targets = elements.length ? elements : [elements]; // Loops backwards to prevent having to clone the wrapper on the\n    // first element (see `child` below).\n\n    Array.from(targets).reverse().forEach(function (element, index) {\n      var child = index > 0 ? wrapper.cloneNode(true) : wrapper; // Cache the current parent and sibling.\n\n      var parent = element.parentNode;\n      var sibling = element.nextSibling; // Wrap the element (is automatically removed from its current\n      // parent).\n\n      child.appendChild(element); // If the element had a sibling, insert the wrapper before\n      // the sibling to maintain the HTML structure; otherwise, just\n      // append it to the parent.\n\n      if (sibling) {\n        parent.insertBefore(child, sibling);\n      } else {\n        parent.appendChild(child);\n      }\n    });\n  } // Set attributes\n\n  function setAttributes(element, attributes) {\n    if (!is$1.element(element) || is$1.empty(attributes)) {\n      return;\n    } // Assume null and undefined attributes should be left out,\n    // Setting them would otherwise convert them to \"null\" and \"undefined\"\n\n\n    Object.entries(attributes).filter(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          value = _ref2[1];\n\n      return !is$1.nullOrUndefined(value);\n    }).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      return element.setAttribute(key, value);\n    });\n  } // Create a DocumentFragment\n\n  function createElement(type, attributes, text) {\n    // Create a new <element>\n    var element = document.createElement(type); // Set all passed attributes\n\n    if (is$1.object(attributes)) {\n      setAttributes(element, attributes);\n    } // Add text node\n\n\n    if (is$1.string(text)) {\n      element.innerText = text;\n    } // Return built element\n\n\n    return element;\n  } // Inaert an element after another\n\n  function insertAfter(element, target) {\n    if (!is$1.element(element) || !is$1.element(target)) {\n      return;\n    }\n\n    target.parentNode.insertBefore(element, target.nextSibling);\n  } // Insert a DocumentFragment\n\n  function insertElement(type, parent, attributes, text) {\n    if (!is$1.element(parent)) {\n      return;\n    }\n\n    parent.appendChild(createElement(type, attributes, text));\n  } // Remove element(s)\n\n  function removeElement(element) {\n    if (is$1.nodeList(element) || is$1.array(element)) {\n      Array.from(element).forEach(removeElement);\n      return;\n    }\n\n    if (!is$1.element(element) || !is$1.element(element.parentNode)) {\n      return;\n    }\n\n    element.parentNode.removeChild(element);\n  } // Remove all child elements\n\n  function emptyElement(element) {\n    if (!is$1.element(element)) {\n      return;\n    }\n\n    var length = element.childNodes.length;\n\n    while (length > 0) {\n      element.removeChild(element.lastChild);\n      length -= 1;\n    }\n  } // Replace element\n\n  function replaceElement(newChild, oldChild) {\n    if (!is$1.element(oldChild) || !is$1.element(oldChild.parentNode) || !is$1.element(newChild)) {\n      return null;\n    }\n\n    oldChild.parentNode.replaceChild(newChild, oldChild);\n    return newChild;\n  } // Get an attribute object from a string selector\n\n  function getAttributesFromSelector(sel, existingAttributes) {\n    // For example:\n    // '.test' to { class: 'test' }\n    // '#test' to { id: 'test' }\n    // '[data-test=\"test\"]' to { 'data-test': 'test' }\n    if (!is$1.string(sel) || is$1.empty(sel)) {\n      return {};\n    }\n\n    var attributes = {};\n    var existing = extend({}, existingAttributes);\n    sel.split(',').forEach(function (s) {\n      // Remove whitespace\n      var selector = s.trim();\n      var className = selector.replace('.', '');\n      var stripped = selector.replace(/[[\\]]/g, ''); // Get the parts and value\n\n      var parts = stripped.split('=');\n\n      var _parts = _slicedToArray(parts, 1),\n          key = _parts[0];\n\n      var value = parts.length > 1 ? parts[1].replace(/[\"']/g, '') : ''; // Get the first character\n\n      var start = selector.charAt(0);\n\n      switch (start) {\n        case '.':\n          // Add to existing classname\n          if (is$1.string(existing.class)) {\n            attributes.class = \"\".concat(existing.class, \" \").concat(className);\n          } else {\n            attributes.class = className;\n          }\n\n          break;\n\n        case '#':\n          // ID selector\n          attributes.id = selector.replace('#', '');\n          break;\n\n        case '[':\n          // Attribute selector\n          attributes[key] = value;\n          break;\n      }\n    });\n    return extend(existing, attributes);\n  } // Toggle hidden\n\n  function toggleHidden(element, hidden) {\n    if (!is$1.element(element)) {\n      return;\n    }\n\n    var hide = hidden;\n\n    if (!is$1.boolean(hide)) {\n      hide = !element.hidden;\n    } // eslint-disable-next-line no-param-reassign\n\n\n    element.hidden = hide;\n  } // Mirror Element.classList.toggle, with IE compatibility for \"force\" argument\n\n  function toggleClass(element, className, force) {\n    if (is$1.nodeList(element)) {\n      return Array.from(element).map(function (e) {\n        return toggleClass(e, className, force);\n      });\n    }\n\n    if (is$1.element(element)) {\n      var method = 'toggle';\n\n      if (typeof force !== 'undefined') {\n        method = force ? 'add' : 'remove';\n      }\n\n      element.classList[method](className);\n      return element.classList.contains(className);\n    }\n\n    return false;\n  } // Has class name\n\n  function hasClass(element, className) {\n    return is$1.element(element) && element.classList.contains(className);\n  } // Element matches selector\n\n  function matches$1(element, selector) {\n    var _Element = Element,\n        prototype = _Element.prototype;\n\n    function match() {\n      return Array.from(document.querySelectorAll(selector)).includes(this);\n    }\n\n    var method = prototype.matches || prototype.webkitMatchesSelector || prototype.mozMatchesSelector || prototype.msMatchesSelector || match;\n    return method.call(element, selector);\n  } // Closest ancestor element matching selector (also tests element itself)\n\n  function closest(element, selector) {\n    var _Element2 = Element,\n        prototype = _Element2.prototype; // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n\n    function closestElement() {\n      var el = this;\n\n      do {\n        if (matches$1.matches(el, selector)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n\n      return null;\n    }\n\n    var method = prototype.closest || closestElement;\n    return method.call(element, selector);\n  } // Find all elements\n\n  function getElements(selector) {\n    return this.elements.container.querySelectorAll(selector);\n  } // Find a single element\n\n  function getElement(selector) {\n    return this.elements.container.querySelector(selector);\n  } // Set focus and tab focus class\n\n  function setFocus() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!is$1.element(element)) {\n      return;\n    } // Set regular focus\n\n\n    element.focus({\n      preventScroll: true\n    }); // If we want to mimic keyboard focus via tab\n\n    if (tabFocus) {\n      toggleClass(element, this.config.classNames.tabFocus);\n    }\n  }\n\n  var defaultCodecs = {\n    'audio/ogg': 'vorbis',\n    'audio/wav': '1',\n    'video/webm': 'vp8, vorbis',\n    'video/mp4': 'avc1.42E01E, mp4a.40.2',\n    'video/ogg': 'theora'\n  }; // Check for feature support\n\n  var support = {\n    // Basic support\n    audio: 'canPlayType' in document.createElement('audio'),\n    video: 'canPlayType' in document.createElement('video'),\n    // Check for support\n    // Basic functionality vs full UI\n    check: function check(type, provider, playsinline) {\n      var canPlayInline = browser.isIPhone && playsinline && support.playsinline;\n      var api = support[type] || provider !== 'html5';\n      var ui = api && support.rangeInput && (type !== 'video' || !browser.isIPhone || canPlayInline);\n      return {\n        api: api,\n        ui: ui\n      };\n    },\n    // Picture-in-picture support\n    // Safari & Chrome only currently\n    pip: function () {\n      if (browser.isIPhone) {\n        return false;\n      } // Safari\n      // https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n\n\n      if (is$1.function(createElement('video').webkitSetPresentationMode)) {\n        return true;\n      } // Chrome\n      // https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n\n\n      if (document.pictureInPictureEnabled && !createElement('video').disablePictureInPicture) {\n        return true;\n      }\n\n      return false;\n    }(),\n    // Airplay support\n    // Safari only currently\n    airplay: is$1.function(window.WebKitPlaybackTargetAvailabilityEvent),\n    // Inline playback support\n    // https://webkit.org/blog/6784/new-video-policies-for-ios/\n    playsinline: 'playsInline' in document.createElement('video'),\n    // Check for mime type support against a player instance\n    // Credits: http://diveintohtml5.info/everything.html\n    // Related: http://www.leanbackplayer.com/test/h5mt.html\n    mime: function mime(input) {\n      if (is$1.empty(input)) {\n        return false;\n      }\n\n      var _input$split = input.split('/'),\n          _input$split2 = _slicedToArray(_input$split, 1),\n          mediaType = _input$split2[0];\n\n      var type = input; // Verify we're using HTML5 and there's no media type mismatch\n\n      if (!this.isHTML5 || mediaType !== this.type) {\n        return false;\n      } // Add codec if required\n\n\n      if (Object.keys(defaultCodecs).includes(type)) {\n        type += \"; codecs=\\\"\".concat(defaultCodecs[input], \"\\\"\");\n      }\n\n      try {\n        return Boolean(type && this.media.canPlayType(type).replace(/no/, ''));\n      } catch (e) {\n        return false;\n      }\n    },\n    // Check for textTracks support\n    textTracks: 'textTracks' in document.createElement('video'),\n    // <input type=\"range\"> Sliders\n    rangeInput: function () {\n      var range = document.createElement('input');\n      range.type = 'range';\n      return range.type === 'range';\n    }(),\n    // Touch\n    // NOTE: Remember a device can be mouse + touch enabled so we check on first touch event\n    touch: 'ontouchstart' in document.documentElement,\n    // Detect transitions support\n    transitions: transitionEndEvent !== false,\n    // Reduced motion iOS & MacOS setting\n    // https://webkit.org/blog/7551/responsive-design-for-motion/\n    reducedMotion: 'matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches\n  };\n\n  // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n  // https://www.youtube.com/watch?v=NPM6172J22g\n\n  var supportsPassiveListeners = function () {\n    // Test via a getter in the options object to see if the passive property is accessed\n    var supported = false;\n\n    try {\n      var options = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supported = true;\n          return null;\n        }\n      });\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    } catch (e) {// Do nothing\n    }\n\n    return supported;\n  }(); // Toggle event listener\n\n\n  function toggleListener(element, event, callback) {\n    var _this = this;\n\n    var toggle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var capture = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n    // Bail if no element, event, or callback\n    if (!element || !('addEventListener' in element) || is$1.empty(event) || !is$1.function(callback)) {\n      return;\n    } // Allow multiple events\n\n\n    var events = event.split(' '); // Build options\n    // Default to just the capture boolean for browsers with no passive listener support\n\n    var options = capture; // If passive events listeners are supported\n\n    if (supportsPassiveListeners) {\n      options = {\n        // Whether the listener can be passive (i.e. default never prevented)\n        passive: passive,\n        // Whether the listener is a capturing listener or not\n        capture: capture\n      };\n    } // If a single node is passed, bind the event listener\n\n\n    events.forEach(function (type) {\n      if (_this && _this.eventListeners && toggle) {\n        // Cache event listener\n        _this.eventListeners.push({\n          element: element,\n          type: type,\n          callback: callback,\n          options: options\n        });\n      }\n\n      element[toggle ? 'addEventListener' : 'removeEventListener'](type, callback, options);\n    });\n  } // Bind event handler\n\n  function on(element) {\n    var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 ? arguments[2] : undefined;\n    var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    toggleListener.call(this, element, events, callback, true, passive, capture);\n  } // Unbind event handler\n\n  function off(element) {\n    var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 ? arguments[2] : undefined;\n    var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    toggleListener.call(this, element, events, callback, false, passive, capture);\n  } // Bind once-only event handler\n\n  function once(element) {\n    var _this2 = this;\n\n    var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 ? arguments[2] : undefined;\n    var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    var onceCallback = function onceCallback() {\n      off(element, events, onceCallback, passive, capture);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      callback.apply(_this2, args);\n    };\n\n    toggleListener.call(this, element, events, onceCallback, true, passive, capture);\n  } // Trigger event\n\n  function triggerEvent(element) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var detail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    // Bail if no element\n    if (!is$1.element(element) || is$1.empty(type)) {\n      return;\n    } // Create and dispatch the event\n\n\n    var event = new CustomEvent(type, {\n      bubbles: bubbles,\n      detail: _objectSpread2(_objectSpread2({}, detail), {}, {\n        plyr: this\n      })\n    }); // Dispatch the event\n\n    element.dispatchEvent(event);\n  } // Unbind all cached event listeners\n\n  function unbindListeners() {\n    if (this && this.eventListeners) {\n      this.eventListeners.forEach(function (item) {\n        var element = item.element,\n            type = item.type,\n            callback = item.callback,\n            options = item.options;\n        element.removeEventListener(type, callback, options);\n      });\n      this.eventListeners = [];\n    }\n  } // Run method when / if player is ready\n\n  function ready() {\n    var _this3 = this;\n\n    return new Promise(function (resolve) {\n      return _this3.ready ? setTimeout(resolve, 0) : on.call(_this3, _this3.elements.container, 'ready', resolve);\n    }).then(function () {});\n  }\n\n  /**\n   * Silence a Promise-like object.\n   * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n   * play promise\" rejection error messages.\n   * @param  {Object} value An object that may or may not be `Promise`-like.\n   */\n\n  function silencePromise(value) {\n    if (is$1.promise(value)) {\n      value.then(null, function () {});\n    }\n  }\n\n  function validateRatio(input) {\n    if (!is$1.array(input) && (!is$1.string(input) || !input.includes(':'))) {\n      return false;\n    }\n\n    var ratio = is$1.array(input) ? input : input.split(':');\n    return ratio.map(Number).every(is$1.number);\n  }\n  function reduceAspectRatio(ratio) {\n    if (!is$1.array(ratio) || !ratio.every(is$1.number)) {\n      return null;\n    }\n\n    var _ratio = _slicedToArray(ratio, 2),\n        width = _ratio[0],\n        height = _ratio[1];\n\n    var getDivider = function getDivider(w, h) {\n      return h === 0 ? w : getDivider(h, w % h);\n    };\n\n    var divider = getDivider(width, height);\n    return [width / divider, height / divider];\n  }\n  function getAspectRatio(input) {\n    var parse = function parse(ratio) {\n      return validateRatio(ratio) ? ratio.split(':').map(Number) : null;\n    }; // Try provided ratio\n\n\n    var ratio = parse(input); // Get from config\n\n    if (ratio === null) {\n      ratio = parse(this.config.ratio);\n    } // Get from embed\n\n\n    if (ratio === null && !is$1.empty(this.embed) && is$1.array(this.embed.ratio)) {\n      ratio = this.embed.ratio;\n    } // Get from HTML5 video\n\n\n    if (ratio === null && this.isHTML5) {\n      var _this$media = this.media,\n          videoWidth = _this$media.videoWidth,\n          videoHeight = _this$media.videoHeight;\n      ratio = reduceAspectRatio([videoWidth, videoHeight]);\n    }\n\n    return ratio;\n  } // Set aspect ratio for responsive container\n\n  function setAspectRatio(input) {\n    if (!this.isVideo) {\n      return {};\n    }\n\n    var wrapper = this.elements.wrapper;\n    var ratio = getAspectRatio.call(this, input);\n\n    var _ref = is$1.array(ratio) ? ratio : [0, 0],\n        _ref2 = _slicedToArray(_ref, 2),\n        w = _ref2[0],\n        h = _ref2[1];\n\n    var padding = 100 / w * h;\n    wrapper.style.paddingBottom = \"\".concat(padding, \"%\"); // For Vimeo we have an extra <div> to hide the standard controls and UI\n\n    if (this.isVimeo && !this.config.vimeo.premium && this.supported.ui) {\n      var height = 100 / this.media.offsetWidth * parseInt(window.getComputedStyle(this.media).paddingBottom, 10);\n      var offset = (height - padding) / (height / 50);\n      this.media.style.transform = \"translateY(-\".concat(offset, \"%)\");\n    } else if (this.isHTML5) {\n      wrapper.classList.toggle(this.config.classNames.videoFixedRatio, ratio !== null);\n    }\n\n    return {\n      padding: padding,\n      ratio: ratio\n    };\n  }\n\n  var html5 = {\n    getSources: function getSources() {\n      var _this = this;\n\n      if (!this.isHTML5) {\n        return [];\n      }\n\n      var sources = Array.from(this.media.querySelectorAll('source')); // Filter out unsupported sources (if type is specified)\n\n      return sources.filter(function (source) {\n        var type = source.getAttribute('type');\n\n        if (is$1.empty(type)) {\n          return true;\n        }\n\n        return support.mime.call(_this, type);\n      });\n    },\n    // Get quality levels\n    getQualityOptions: function getQualityOptions() {\n      // Whether we're forcing all options (e.g. for streaming)\n      if (this.config.quality.forced) {\n        return this.config.quality.options;\n      } // Get sizes from <source> elements\n\n\n      return html5.getSources.call(this).map(function (source) {\n        return Number(source.getAttribute('size'));\n      }).filter(Boolean);\n    },\n    setup: function setup() {\n      if (!this.isHTML5) {\n        return;\n      }\n\n      var player = this; // Set speed options from config\n\n      player.options.speed = player.config.speed.options; // Set aspect ratio if fixed\n\n      if (!is$1.empty(this.config.ratio)) {\n        setAspectRatio.call(player);\n      } // Quality\n\n\n      Object.defineProperty(player.media, 'quality', {\n        get: function get() {\n          // Get sources\n          var sources = html5.getSources.call(player);\n          var source = sources.find(function (s) {\n            return s.getAttribute('src') === player.source;\n          }); // Return size, if match is found\n\n          return source && Number(source.getAttribute('size'));\n        },\n        set: function set(input) {\n          if (player.quality === input) {\n            return;\n          } // If we're using an an external handler...\n\n\n          if (player.config.quality.forced && is$1.function(player.config.quality.onChange)) {\n            player.config.quality.onChange(input);\n          } else {\n            // Get sources\n            var sources = html5.getSources.call(player); // Get first match for requested size\n\n            var source = sources.find(function (s) {\n              return Number(s.getAttribute('size')) === input;\n            }); // No matching source found\n\n            if (!source) {\n              return;\n            } // Get current state\n\n\n            var _player$media = player.media,\n                currentTime = _player$media.currentTime,\n                paused = _player$media.paused,\n                preload = _player$media.preload,\n                readyState = _player$media.readyState,\n                playbackRate = _player$media.playbackRate; // Set new source\n\n            player.media.src = source.getAttribute('src'); // Prevent loading if preload=\"none\" and the current source isn't loaded (#1044)\n\n            if (preload !== 'none' || readyState) {\n              // Restore time\n              player.once('loadedmetadata', function () {\n                player.speed = playbackRate;\n                player.currentTime = currentTime; // Resume playing\n\n                if (!paused) {\n                  silencePromise(player.play());\n                }\n              }); // Load new source\n\n              player.media.load();\n            }\n          } // Trigger change event\n\n\n          triggerEvent.call(player, player.media, 'qualitychange', false, {\n            quality: input\n          });\n        }\n      });\n    },\n    // Cancel current network requests\n    // See https://github.com/sampotts/WassPlayer/issues/174\n    cancelRequests: function cancelRequests() {\n      if (!this.isHTML5) {\n        return;\n      } // Remove child sources\n\n\n      removeElement(html5.getSources.call(this)); // Set blank video src attribute\n      // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error\n      // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection\n\n      this.media.setAttribute('src', this.config.blankVideo); // Load the new empty source\n      // This will cancel existing requests\n      // See https://github.com/sampotts/WassPlayer/issues/174\n\n      this.media.load(); // Debugging\n\n      this.debug.log('Cancelled network requests');\n    }\n  };\n\n  function dedupe(array) {\n    if (!is$1.array(array)) {\n      return array;\n    }\n\n    return array.filter(function (item, index) {\n      return array.indexOf(item) === index;\n    });\n  } // Get the closest value in an array\n\n  function closest$1(array, value) {\n    if (!is$1.array(array) || !array.length) {\n      return null;\n    }\n\n    return array.reduce(function (prev, curr) {\n      return Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev;\n    });\n  }\n\n  var defineProperty$6 = objectDefineProperty.f;\n  var getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;\n\n\n\n\n\n  var setInternalState$7 = internalState.set;\n\n\n\n  var MATCH$2 = wellKnownSymbol('match');\n  var NativeRegExp = global_1.RegExp;\n  var RegExpPrototype$1 = NativeRegExp.prototype;\n  var re1 = /a/g;\n  var re2 = /a/g;\n\n  // \"new\" should create a new object, old webkit bug\n  var CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\n  var UNSUPPORTED_Y$2 = regexpStickyHelpers.UNSUPPORTED_Y;\n\n  var FORCED$4 = descriptors && isForced_1('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y$2 || fails(function () {\n    re2[MATCH$2] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  })));\n\n  // `RegExp` constructor\n  // https://tc39.github.io/ecma262/#sec-regexp-constructor\n  if (FORCED$4) {\n    var RegExpWrapper = function RegExp(pattern, flags) {\n      var thisIsRegExp = this instanceof RegExpWrapper;\n      var patternIsRegExp = isRegexp(pattern);\n      var flagsAreUndefined = flags === undefined;\n      var sticky;\n\n      if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n        return pattern;\n      }\n\n      if (CORRECT_NEW) {\n        if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n      } else if (pattern instanceof RegExpWrapper) {\n        if (flagsAreUndefined) flags = regexpFlags.call(pattern);\n        pattern = pattern.source;\n      }\n\n      if (UNSUPPORTED_Y$2) {\n        sticky = !!flags && flags.indexOf('y') > -1;\n        if (sticky) flags = flags.replace(/y/g, '');\n      }\n\n      var result = inheritIfRequired(\n        CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n        thisIsRegExp ? this : RegExpPrototype$1,\n        RegExpWrapper\n      );\n\n      if (UNSUPPORTED_Y$2 && sticky) setInternalState$7(result, { sticky: sticky });\n\n      return result;\n    };\n    var proxy = function (key) {\n      key in RegExpWrapper || defineProperty$6(RegExpWrapper, key, {\n        configurable: true,\n        get: function () { return NativeRegExp[key]; },\n        set: function (it) { NativeRegExp[key] = it; }\n      });\n    };\n    var keys$2 = getOwnPropertyNames$1(NativeRegExp);\n    var index = 0;\n    while (keys$2.length > index) proxy(keys$2[index++]);\n    RegExpPrototype$1.constructor = RegExpWrapper;\n    RegExpWrapper.prototype = RegExpPrototype$1;\n    redefine(global_1, 'RegExp', RegExpWrapper);\n  }\n\n  // https://tc39.github.io/ecma262/#sec-get-regexp-@@species\n  setSpecies('RegExp');\n\n  function getPercentage(current, max) {\n    if (current === 0 || max === 0 || Number.isNaN(current) || Number.isNaN(max)) {\n      return 0;\n    }\n\n    return (current / max * 100).toFixed(2);\n  } // Replace all occurances of a string in a string\n\n  var replaceAll = function replaceAll() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var find = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    return input.replace(new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1'), 'g'), replace.toString());\n  }; // Convert to title case\n\n  var toTitleCase = function toTitleCase() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return input.toString().replace(/\\w\\S*/g, function (text) {\n      return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();\n    });\n  }; // Convert string to pascalCase\n\n  function toPascalCase() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var string = input.toString(); // Convert kebab case\n\n    string = replaceAll(string, '-', ' '); // Convert snake case\n\n    string = replaceAll(string, '_', ' '); // Convert to title case\n\n    string = toTitleCase(string); // Convert to pascal case\n\n    return replaceAll(string, ' ', '');\n  } // Convert string to pascalCase\n\n  function toCamelCase() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var string = input.toString(); // Convert to pascal case\n\n    string = toPascalCase(string); // Convert first character to lowercase\n\n    return string.charAt(0).toLowerCase() + string.slice(1);\n  } // Remove HTML from a string\n\n  function getHTML(element) {\n    var wrapper = document.createElement('div');\n    wrapper.appendChild(element);\n    return wrapper.innerHTML;\n  }\n\n  var resources = {\n    pip: 'PIP',\n    airplay: 'AirPlay',\n    html5: 'HTML5',\n    vimeo: 'Vimeo',\n    youtube: 'YouTube'\n  };\n  var i18n = {\n    get: function get() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (is$1.empty(key) || is$1.empty(config)) {\n        return '';\n      }\n\n      var string = getDeep(config.i18n, key);\n\n      if (is$1.empty(string)) {\n        if (Object.keys(resources).includes(key)) {\n          return resources[key];\n        }\n\n        return '';\n      }\n\n      var replace = {\n        '{seektime}': config.seekTime,\n        '{title}': config.title\n      };\n      Object.entries(replace).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            k = _ref2[0],\n            v = _ref2[1];\n\n        string = replaceAll(string, k, v);\n      });\n      return string;\n    }\n  };\n\n  var Storage = /*#__PURE__*/function () {\n    function Storage(player) {\n      _classCallCheck(this, Storage);\n\n      this.enabled = player.config.storage.enabled;\n      this.key = player.config.storage.key;\n    } // Check for actual support (see if we can use it)\n\n\n    _createClass(Storage, [{\n      key: \"get\",\n      value: function get(key) {\n        if (!Storage.supported || !this.enabled) {\n          return null;\n        }\n\n        var store = window.localStorage.getItem(this.key);\n\n        if (is$1.empty(store)) {\n          return null;\n        }\n\n        var json = JSON.parse(store);\n        return is$1.string(key) && key.length ? json[key] : json;\n      }\n    }, {\n      key: \"set\",\n      value: function set(object) {\n        // Bail if we don't have localStorage support or it's disabled\n        if (!Storage.supported || !this.enabled) {\n          return;\n        } // Can only store objectst\n\n\n        if (!is$1.object(object)) {\n          return;\n        } // Get current storage\n\n\n        var storage = this.get(); // Default to empty object\n\n        if (is$1.empty(storage)) {\n          storage = {};\n        } // Update the working copy of the values\n\n\n        extend(storage, object); // Update storage\n\n        window.localStorage.setItem(this.key, JSON.stringify(storage));\n      }\n    }], [{\n      key: \"supported\",\n      get: function get() {\n        try {\n          if (!('localStorage' in window)) {\n            return false;\n          }\n\n          var test = '___test'; // Try to use it (it might be disabled, e.g. user is in private mode)\n          // see: https://github.com/sampotts/WassPlayer/issues/131\n\n          window.localStorage.setItem(test, test);\n          window.localStorage.removeItem(test);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n    }]);\n\n    return Storage;\n  }();\n\n  // ==========================================================================\n  // Fetch wrapper\n  // Using XHR to avoid issues with older browsers\n  // ==========================================================================\n  function fetch(url) {\n    var responseType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text';\n    return new Promise(function (resolve, reject) {\n      try {\n        var request = new XMLHttpRequest(); // Check for CORS support\n\n        if (!('withCredentials' in request)) {\n          return;\n        }\n\n        request.addEventListener('load', function () {\n          if (responseType === 'text') {\n            try {\n              resolve(JSON.parse(request.responseText));\n            } catch (e) {\n              resolve(request.responseText);\n            }\n          } else {\n            resolve(request.response);\n          }\n        });\n        request.addEventListener('error', function () {\n          throw new Error(request.status);\n        });\n        request.open('GET', url, true); // Set the required response type\n\n        request.responseType = responseType;\n        request.send();\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  // ==========================================================================\n\n  function loadSprite(url, id) {\n    if (!is$1.string(url)) {\n      return;\n    }\n\n    var prefix = 'cache';\n    var hasId = is$1.string(id);\n    var isCached = false;\n\n    var exists = function exists() {\n      return document.getElementById(id) !== null;\n    };\n\n    var update = function update(container, data) {\n      // eslint-disable-next-line no-param-reassign\n      container.innerHTML = data; // Check again incase of race condition\n\n      if (hasId && exists()) {\n        return;\n      } // Inject the SVG to the body\n\n\n      document.body.insertAdjacentElement('afterbegin', container);\n    }; // Only load once if ID set\n\n\n    if (!hasId || !exists()) {\n      var useStorage = Storage.supported; // Create container\n\n      var container = document.createElement('div');\n      container.setAttribute('hidden', '');\n\n      if (hasId) {\n        container.setAttribute('id', id);\n      } // Check in cache\n\n\n      if (useStorage) {\n        var cached = window.localStorage.getItem(\"\".concat(prefix, \"-\").concat(id));\n        isCached = cached !== null;\n\n        if (isCached) {\n          var data = JSON.parse(cached);\n          update(container, data.content);\n        }\n      } // Get the sprite\n\n\n      fetch(url).then(function (result) {\n        if (is$1.empty(result)) {\n          return;\n        }\n\n        if (useStorage) {\n          window.localStorage.setItem(\"\".concat(prefix, \"-\").concat(id), JSON.stringify({\n            content: result\n          }));\n        }\n\n        update(container, result);\n      }).catch(function () {});\n    }\n  }\n\n  var ceil$1 = Math.ceil;\n  var floor$5 = Math.floor;\n\n  // `Math.trunc` method\n  // https://tc39.github.io/ecma262/#sec-math.trunc\n  _export({ target: 'Math', stat: true }, {\n    trunc: function trunc(it) {\n      return (it > 0 ? floor$5 : ceil$1)(it);\n    }\n  });\n\n  var getHours = function getHours(value) {\n    return Math.trunc(value / 60 / 60 % 60, 10);\n  };\n  var getMinutes = function getMinutes(value) {\n    return Math.trunc(value / 60 % 60, 10);\n  };\n  var getSeconds = function getSeconds(value) {\n    return Math.trunc(value % 60, 10);\n  }; // Format time to UI friendly string\n\n  function formatTime() {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var displayHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    // Bail if the value isn't a number\n    if (!is$1.number(time)) {\n      return formatTime(undefined, displayHours, inverted);\n    } // Format time component to add leading zero\n\n\n    var format = function format(value) {\n      return \"0\".concat(value).slice(-2);\n    }; // Breakdown to hours, mins, secs\n\n\n    var hours = getHours(time);\n    var mins = getMinutes(time);\n    var secs = getSeconds(time); // Do we need to display hours?\n\n    if (displayHours || hours > 0) {\n      hours = \"\".concat(hours, \":\");\n    } else {\n      hours = '';\n    } // Render\n\n\n    return \"\".concat(inverted && time > 0 ? '-' : '').concat(hours).concat(format(mins), \":\").concat(format(secs));\n  }\n\n  var controls = {\n    // Get icon URL\n    getIconUrl: function getIconUrl() {\n      var url = new URL(this.config.iconUrl, window.location);\n      var cors = url.host !== window.location.host || browser.isIE && !window.svg4everybody;\n      return {\n        url: this.config.iconUrl,\n        cors: cors\n      };\n    },\n    // Find the UI controls\n    findElements: function findElements() {\n      try {\n        this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper); // Buttons\n\n        this.elements.buttons = {\n          play: getElements.call(this, this.config.selectors.buttons.play),\n          pause: getElement.call(this, this.config.selectors.buttons.pause),\n          restart: getElement.call(this, this.config.selectors.buttons.restart),\n          rewind: getElement.call(this, this.config.selectors.buttons.rewind),\n          fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),\n          mute: getElement.call(this, this.config.selectors.buttons.mute),\n          pip: getElement.call(this, this.config.selectors.buttons.pip),\n          airplay: getElement.call(this, this.config.selectors.buttons.airplay),\n          settings: getElement.call(this, this.config.selectors.buttons.settings),\n          captions: getElement.call(this, this.config.selectors.buttons.captions),\n          fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen)\n        }; // Progress\n\n        this.elements.progress = getElement.call(this, this.config.selectors.progress); // Inputs\n\n        this.elements.inputs = {\n          seek: getElement.call(this, this.config.selectors.inputs.seek),\n          volume: getElement.call(this, this.config.selectors.inputs.volume)\n        }; // Display\n\n        this.elements.display = {\n          buffer: getElement.call(this, this.config.selectors.display.buffer),\n          currentTime: getElement.call(this, this.config.selectors.display.currentTime),\n          duration: getElement.call(this, this.config.selectors.display.duration)\n        }; // Seek tooltip\n\n        if (is$1.element(this.elements.progress)) {\n          this.elements.display.seekTooltip = this.elements.progress.querySelector(\".\".concat(this.config.classNames.tooltip));\n        }\n\n        return true;\n      } catch (error) {\n        // Log it\n        this.debug.warn('It looks like there is a problem with your custom controls HTML', error); // Restore native video controls\n\n        this.toggleNativeControls(true);\n        return false;\n      }\n    },\n    // Create <svg> icon\n    createIcon: function createIcon(type, attributes) {\n      var namespace = 'http://www.w3.org/2000/svg';\n      var iconUrl = controls.getIconUrl.call(this);\n      var iconPath = \"\".concat(!iconUrl.cors ? iconUrl.url : '', \"#\").concat(this.config.iconPrefix); // Create <svg>\n\n      var icon = document.createElementNS(namespace, 'svg');\n      setAttributes(icon, extend(attributes, {\n        'aria-hidden': 'true',\n        focusable: 'false'\n      })); // Create the <use> to reference sprite\n\n      var use = document.createElementNS(namespace, 'use');\n      var path = \"\".concat(iconPath, \"-\").concat(type); // Set `href` attributes\n      // https://github.com/sampotts/WassPlayer/issues/460\n      // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xlink:href\n\n      if ('href' in use) {\n        use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n      } // Always set the older attribute even though it's \"deprecated\" (it'll be around for ages)\n\n\n      use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path); // Add <use> to <svg>\n\n      icon.appendChild(use);\n      return icon;\n    },\n    // Create hidden text label\n    createLabel: function createLabel(key) {\n      var attr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var text = i18n.get(key, this.config);\n\n      var attributes = _objectSpread2(_objectSpread2({}, attr), {}, {\n        class: [attr.class, this.config.classNames.hidden].filter(Boolean).join(' ')\n      });\n\n      return createElement('span', attributes, text);\n    },\n    // Create a badge\n    createBadge: function createBadge(text) {\n      if (is$1.empty(text)) {\n        return null;\n      }\n\n      var badge = createElement('span', {\n        class: this.config.classNames.menu.value\n      });\n      badge.appendChild(createElement('span', {\n        class: this.config.classNames.menu.badge\n      }, text));\n      return badge;\n    },\n    // Create a <button>\n    createButton: function createButton(buttonType, attr) {\n      var _this = this;\n\n      var attributes = extend({}, attr);\n      var type = toCamelCase(buttonType);\n      var props = {\n        element: 'button',\n        toggle: false,\n        label: null,\n        icon: null,\n        labelPressed: null,\n        iconPressed: null\n      };\n      ['element', 'icon', 'label'].forEach(function (key) {\n        if (Object.keys(attributes).includes(key)) {\n          props[key] = attributes[key];\n          delete attributes[key];\n        }\n      }); // Default to 'button' type to prevent form submission\n\n      if (props.element === 'button' && !Object.keys(attributes).includes('type')) {\n        attributes.type = 'button';\n      } // Set class name\n\n\n      if (Object.keys(attributes).includes('class')) {\n        if (!attributes.class.split(' ').some(function (c) {\n          return c === _this.config.classNames.control;\n        })) {\n          extend(attributes, {\n            class: \"\".concat(attributes.class, \" \").concat(this.config.classNames.control)\n          });\n        }\n      } else {\n        attributes.class = this.config.classNames.control;\n      } // Large play button\n\n\n      switch (buttonType) {\n        case 'play':\n          props.toggle = true;\n          props.label = 'play';\n          props.labelPressed = 'pause';\n          props.icon = 'play';\n          props.iconPressed = 'pause';\n          break;\n\n        case 'mute':\n          props.toggle = true;\n          props.label = 'mute';\n          props.labelPressed = 'unmute';\n          props.icon = 'volume';\n          props.iconPressed = 'muted';\n          break;\n\n        case 'captions':\n          props.toggle = true;\n          props.label = 'enableCaptions';\n          props.labelPressed = 'disableCaptions';\n          props.icon = 'captions-off';\n          props.iconPressed = 'captions-on';\n          break;\n\n        case 'fullscreen':\n          props.toggle = true;\n          props.label = 'enterFullscreen';\n          props.labelPressed = 'exitFullscreen';\n          props.icon = 'enter-fullscreen';\n          props.iconPressed = 'exit-fullscreen';\n          break;\n\n        case 'play-large':\n          attributes.class += \" \".concat(this.config.classNames.control, \"--overlaid\");\n          type = 'play';\n          props.label = 'play';\n          props.icon = 'play';\n          break;\n\n        default:\n          if (is$1.empty(props.label)) {\n            props.label = type;\n          }\n\n          if (is$1.empty(props.icon)) {\n            props.icon = buttonType;\n          }\n\n      }\n\n      var button = createElement(props.element); // Setup toggle icon and labels\n\n      if (props.toggle) {\n        // Icon\n        button.appendChild(controls.createIcon.call(this, props.iconPressed, {\n          class: 'icon--pressed'\n        }));\n        button.appendChild(controls.createIcon.call(this, props.icon, {\n          class: 'icon--not-pressed'\n        })); // Label/Tooltip\n\n        button.appendChild(controls.createLabel.call(this, props.labelPressed, {\n          class: 'label--pressed'\n        }));\n        button.appendChild(controls.createLabel.call(this, props.label, {\n          class: 'label--not-pressed'\n        }));\n      } else {\n        button.appendChild(controls.createIcon.call(this, props.icon));\n        button.appendChild(controls.createLabel.call(this, props.label));\n      } // Merge and set attributes\n\n\n      extend(attributes, getAttributesFromSelector(this.config.selectors.buttons[type], attributes));\n      setAttributes(button, attributes); // We have multiple play buttons\n\n      if (type === 'play') {\n        if (!is$1.array(this.elements.buttons[type])) {\n          this.elements.buttons[type] = [];\n        }\n\n        this.elements.buttons[type].push(button);\n      } else {\n        this.elements.buttons[type] = button;\n      }\n\n      return button;\n    },\n    // Create an <input type='range'>\n    createRange: function createRange(type, attributes) {\n      // Seek input\n      var input = createElement('input', extend(getAttributesFromSelector(this.config.selectors.inputs[type]), {\n        type: 'range',\n        min: 0,\n        max: 100,\n        step: 0.01,\n        value: 0,\n        autocomplete: 'off',\n        // A11y fixes for https://github.com/sampotts/WassPlayer/issues/905\n        role: 'slider',\n        'aria-label': i18n.get(type, this.config),\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        'aria-valuenow': 0\n      }, attributes));\n      this.elements.inputs[type] = input; // Set the fill for webkit now\n\n      controls.updateRangeFill.call(this, input); // Improve support on touch devices\n\n      RangeTouch.setup(input);\n      return input;\n    },\n    // Create a <progress>\n    createProgress: function createProgress(type, attributes) {\n      var progress = createElement('progress', extend(getAttributesFromSelector(this.config.selectors.display[type]), {\n        min: 0,\n        max: 100,\n        value: 0,\n        role: 'progressbar',\n        'aria-hidden': true\n      }, attributes)); // Create the label inside\n\n      if (type !== 'volume') {\n        progress.appendChild(createElement('span', null, '0'));\n        var suffixKey = {\n          played: 'played',\n          buffer: 'buffered'\n        }[type];\n        var suffix = suffixKey ? i18n.get(suffixKey, this.config) : '';\n        progress.innerText = \"% \".concat(suffix.toLowerCase());\n      }\n\n      this.elements.display[type] = progress;\n      return progress;\n    },\n    // Create time display\n    createTime: function createTime(type, attrs) {\n      var attributes = getAttributesFromSelector(this.config.selectors.display[type], attrs);\n      var container = createElement('div', extend(attributes, {\n        class: \"\".concat(attributes.class ? attributes.class : '', \" \").concat(this.config.classNames.display.time, \" \").trim(),\n        'aria-label': i18n.get(type, this.config)\n      }), '00:00'); // Reference for updates\n\n      this.elements.display[type] = container;\n      return container;\n    },\n    // Bind keyboard shortcuts for a menu item\n    // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n    bindMenuItemShortcuts: function bindMenuItemShortcuts(menuItem, type) {\n      var _this2 = this;\n\n      // Navigate through menus via arrow keys and space\n      on.call(this, menuItem, 'keydown keyup', function (event) {\n        // We only care about space and   \n        if (![32, 38, 39, 40].includes(event.which)) {\n          return;\n        } // Prevent play / seek\n\n\n        event.preventDefault();\n        event.stopPropagation(); // We're just here to prevent the keydown bubbling\n\n        if (event.type === 'keydown') {\n          return;\n        }\n\n        var isRadioButton = matches$1(menuItem, '[role=\"menuitemradio\"]'); // Show the respective menu\n\n        if (!isRadioButton && [32, 39].includes(event.which)) {\n          controls.showMenuPanel.call(_this2, type, true);\n        } else {\n          var target;\n\n          if (event.which !== 32) {\n            if (event.which === 40 || isRadioButton && event.which === 39) {\n              target = menuItem.nextElementSibling;\n\n              if (!is$1.element(target)) {\n                target = menuItem.parentNode.firstElementChild;\n              }\n            } else {\n              target = menuItem.previousElementSibling;\n\n              if (!is$1.element(target)) {\n                target = menuItem.parentNode.lastElementChild;\n              }\n            }\n\n            setFocus.call(_this2, target, true);\n          }\n        }\n      }, false); // Enter will fire a `click` event but we still need to manage focus\n      // So we bind to keyup which fires after and set focus here\n\n      on.call(this, menuItem, 'keyup', function (event) {\n        if (event.which !== 13) {\n          return;\n        }\n\n        controls.focusFirstMenuItem.call(_this2, null, true);\n      });\n    },\n    // Create a settings menu item\n    createMenuItem: function createMenuItem(_ref) {\n      var _this3 = this;\n\n      var value = _ref.value,\n          list = _ref.list,\n          type = _ref.type,\n          title = _ref.title,\n          _ref$badge = _ref.badge,\n          badge = _ref$badge === void 0 ? null : _ref$badge,\n          _ref$checked = _ref.checked,\n          checked = _ref$checked === void 0 ? false : _ref$checked;\n      var attributes = getAttributesFromSelector(this.config.selectors.inputs[type]);\n      var menuItem = createElement('button', extend(attributes, {\n        type: 'button',\n        role: 'menuitemradio',\n        class: \"\".concat(this.config.classNames.control, \" \").concat(attributes.class ? attributes.class : '').trim(),\n        'aria-checked': checked,\n        value: value\n      }));\n      var flex = createElement('span'); // We have to set as HTML incase of special characters\n\n      flex.innerHTML = title;\n\n      if (is$1.element(badge)) {\n        flex.appendChild(badge);\n      }\n\n      menuItem.appendChild(flex); // Replicate radio button behaviour\n\n      Object.defineProperty(menuItem, 'checked', {\n        enumerable: true,\n        get: function get() {\n          return menuItem.getAttribute('aria-checked') === 'true';\n        },\n        set: function set(check) {\n          // Ensure exclusivity\n          if (check) {\n            Array.from(menuItem.parentNode.children).filter(function (node) {\n              return matches$1(node, '[role=\"menuitemradio\"]');\n            }).forEach(function (node) {\n              return node.setAttribute('aria-checked', 'false');\n            });\n          }\n\n          menuItem.setAttribute('aria-checked', check ? 'true' : 'false');\n        }\n      });\n      this.listeners.bind(menuItem, 'click keyup', function (event) {\n        if (is$1.keyboardEvent(event) && event.which !== 32) {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n        menuItem.checked = true;\n\n        switch (type) {\n          case 'language':\n            _this3.currentTrack = Number(value);\n            break;\n\n          case 'quality':\n            _this3.quality = value;\n            break;\n\n          case 'speed':\n            _this3.speed = parseFloat(value);\n            break;\n        }\n\n        controls.showMenuPanel.call(_this3, 'home', is$1.keyboardEvent(event));\n      }, type, false);\n      controls.bindMenuItemShortcuts.call(this, menuItem, type);\n      list.appendChild(menuItem);\n    },\n    // Format a time for display\n    formatTime: function formatTime$1() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var inverted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      // Bail if the value isn't a number\n      if (!is$1.number(time)) {\n        return time;\n      } // Always display hours if duration is over an hour\n\n\n      var forceHours = getHours(this.duration) > 0;\n      return formatTime(time, forceHours, inverted);\n    },\n    // Update the displayed time\n    updateTimeDisplay: function updateTimeDisplay() {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      // Bail if there's no element to display or the value isn't a number\n      if (!is$1.element(target) || !is$1.number(time)) {\n        return;\n      } // eslint-disable-next-line no-param-reassign\n\n\n      target.innerText = controls.formatTime(time, inverted);\n    },\n    // Update volume UI and storage\n    updateVolume: function updateVolume() {\n      if (!this.supported.ui) {\n        return;\n      } // Update range\n\n\n      if (is$1.element(this.elements.inputs.volume)) {\n        controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume);\n      } // Update mute state\n\n\n      if (is$1.element(this.elements.buttons.mute)) {\n        this.elements.buttons.mute.pressed = this.muted || this.volume === 0;\n      }\n    },\n    // Update seek value and lower fill\n    setRange: function setRange(target) {\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (!is$1.element(target)) {\n        return;\n      } // eslint-disable-next-line\n\n\n      target.value = value; // Webkit range fill\n\n      controls.updateRangeFill.call(this, target);\n    },\n    // Update <progress> elements\n    updateProgress: function updateProgress(event) {\n      var _this4 = this;\n\n      if (!this.supported.ui || !is$1.event(event)) {\n        return;\n      }\n\n      var value = 0;\n\n      var setProgress = function setProgress(target, input) {\n        var val = is$1.number(input) ? input : 0;\n        var progress = is$1.element(target) ? target : _this4.elements.display.buffer; // Update value and label\n\n        if (is$1.element(progress)) {\n          progress.value = val; // Update text label inside\n\n          var label = progress.getElementsByTagName('span')[0];\n\n          if (is$1.element(label)) {\n            label.childNodes[0].nodeValue = val;\n          }\n        }\n      };\n\n      if (event) {\n        switch (event.type) {\n          // Video playing\n          case 'timeupdate':\n          case 'seeking':\n          case 'seeked':\n            value = getPercentage(this.currentTime, this.duration); // Set seek range value only if it's a 'natural' time event\n\n            if (event.type === 'timeupdate') {\n              controls.setRange.call(this, this.elements.inputs.seek, value);\n            }\n\n            break;\n          // Check buffer status\n\n          case 'playing':\n          case 'progress':\n            setProgress(this.elements.display.buffer, this.buffered * 100);\n            break;\n        }\n      }\n    },\n    // Webkit polyfill for lower fill range\n    updateRangeFill: function updateRangeFill(target) {\n      // Get range from event if event passed\n      var range = is$1.event(target) ? target.target : target; // Needs to be a valid <input type='range'>\n\n      if (!is$1.element(range) || range.getAttribute('type') !== 'range') {\n        return;\n      } // Set aria values for https://github.com/sampotts/WassPlayer/issues/905\n\n\n      if (matches$1(range, this.config.selectors.inputs.seek)) {\n        range.setAttribute('aria-valuenow', this.currentTime);\n        var currentTime = controls.formatTime(this.currentTime);\n        var duration = controls.formatTime(this.duration);\n        var format = i18n.get('seekLabel', this.config);\n        range.setAttribute('aria-valuetext', format.replace('{currentTime}', currentTime).replace('{duration}', duration));\n      } else if (matches$1(range, this.config.selectors.inputs.volume)) {\n        var percent = range.value * 100;\n        range.setAttribute('aria-valuenow', percent);\n        range.setAttribute('aria-valuetext', \"\".concat(percent.toFixed(1), \"%\"));\n      } else {\n        range.setAttribute('aria-valuenow', range.value);\n      } // WebKit only\n\n\n      if (!browser.isWebkit) {\n        return;\n      } // Set CSS custom property\n\n\n      range.style.setProperty('--value', \"\".concat(range.value / range.max * 100, \"%\"));\n    },\n    // Update hover tooltip for seeking\n    updateSeekTooltip: function updateSeekTooltip(event) {\n      var _this5 = this;\n\n      // Bail if setting not true\n      if (!this.config.tooltips.seek || !is$1.element(this.elements.inputs.seek) || !is$1.element(this.elements.display.seekTooltip) || this.duration === 0) {\n        return;\n      }\n\n      var visible = \"\".concat(this.config.classNames.tooltip, \"--visible\");\n\n      var toggle = function toggle(show) {\n        return toggleClass(_this5.elements.display.seekTooltip, visible, show);\n      }; // Hide on touch\n\n\n      if (this.touch) {\n        toggle(false);\n        return;\n      } // Determine percentage, if already visible\n\n\n      var percent = 0;\n      var clientRect = this.elements.progress.getBoundingClientRect();\n\n      if (is$1.event(event)) {\n        percent = 100 / clientRect.width * (event.pageX - clientRect.left);\n      } else if (hasClass(this.elements.display.seekTooltip, visible)) {\n        percent = parseFloat(this.elements.display.seekTooltip.style.left, 10);\n      } else {\n        return;\n      } // Set bounds\n\n\n      if (percent < 0) {\n        percent = 0;\n      } else if (percent > 100) {\n        percent = 100;\n      } // Display the time a click would seek to\n\n\n      controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * percent); // Set position\n\n      this.elements.display.seekTooltip.style.left = \"\".concat(percent, \"%\"); // Show/hide the tooltip\n      // If the event is a moues in/out and percentage is inside bounds\n\n      if (is$1.event(event) && ['mouseenter', 'mouseleave'].includes(event.type)) {\n        toggle(event.type === 'mouseenter');\n      }\n    },\n    // Handle time change event\n    timeUpdate: function timeUpdate(event) {\n      // Only invert if only one time element is displayed and used for both duration and currentTime\n      var invert = !is$1.element(this.elements.display.duration) && this.config.invertTime; // Duration\n\n      controls.updateTimeDisplay.call(this, this.elements.display.currentTime, invert ? this.duration - this.currentTime : this.currentTime, invert); // Ignore updates while seeking\n\n      if (event && event.type === 'timeupdate' && this.media.seeking) {\n        return;\n      } // Playing progress\n\n\n      controls.updateProgress.call(this, event);\n    },\n    // Show the duration on metadataloaded or durationchange events\n    durationUpdate: function durationUpdate() {\n      // Bail if no UI or durationchange event triggered after playing/seek when invertTime is false\n      if (!this.supported.ui || !this.config.invertTime && this.currentTime) {\n        return;\n      } // If duration is the 2**32 (shaka), Infinity (HLS), DASH-IF (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE) indicating live we hide the currentTime and progressbar.\n      // https://github.com/video-dev/hls.js/blob/5820d29d3c4c8a46e8b75f1e3afa3e68c1a9a2db/src/controller/buffer-controller.js#L415\n      // https://github.com/google/shaka-player/blob/4d889054631f4e1cf0fbd80ddd2b71887c02e232/lib/media/streaming_engine.js#L1062\n      // https://github.com/Dash-Industry-Forum/dash.js/blob/69859f51b969645b234666800d4cb596d89c602d/src/dash/models/DashManifestModel.js#L338\n\n\n      if (this.duration >= Math.pow(2, 32)) {\n        toggleHidden(this.elements.display.currentTime, true);\n        toggleHidden(this.elements.progress, true);\n        return;\n      } // Update ARIA values\n\n\n      if (is$1.element(this.elements.inputs.seek)) {\n        this.elements.inputs.seek.setAttribute('aria-valuemax', this.duration);\n      } // If there's a spot to display duration\n\n\n      var hasDuration = is$1.element(this.elements.display.duration); // If there's only one time display, display duration there\n\n      if (!hasDuration && this.config.displayDuration && this.paused) {\n        controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration);\n      } // If there's a duration element, update content\n\n\n      if (hasDuration) {\n        controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration);\n      } // Update the tooltip (if visible)\n\n\n      controls.updateSeekTooltip.call(this);\n    },\n    // Hide/show a tab\n    toggleMenuButton: function toggleMenuButton(setting, toggle) {\n      toggleHidden(this.elements.settings.buttons[setting], !toggle);\n    },\n    // Update the selected setting\n    updateSetting: function updateSetting(setting, container, input) {\n      var pane = this.elements.settings.panels[setting];\n      var value = null;\n      var list = container;\n\n      if (setting === 'captions') {\n        value = this.currentTrack;\n      } else {\n        value = !is$1.empty(input) ? input : this[setting]; // Get default\n\n        if (is$1.empty(value)) {\n          value = this.config[setting].default;\n        } // Unsupported value\n\n\n        if (!is$1.empty(this.options[setting]) && !this.options[setting].includes(value)) {\n          this.debug.warn(\"Unsupported value of '\".concat(value, \"' for \").concat(setting));\n          return;\n        } // Disabled value\n\n\n        if (!this.config[setting].options.includes(value)) {\n          this.debug.warn(\"Disabled value of '\".concat(value, \"' for \").concat(setting));\n          return;\n        }\n      } // Get the list if we need to\n\n\n      if (!is$1.element(list)) {\n        list = pane && pane.querySelector('[role=\"menu\"]');\n      } // If there's no list it means it's not been rendered...\n\n\n      if (!is$1.element(list)) {\n        return;\n      } // Update the label\n\n\n      var label = this.elements.settings.buttons[setting].querySelector(\".\".concat(this.config.classNames.menu.value));\n      label.innerHTML = controls.getLabel.call(this, setting, value); // Find the radio option and check it\n\n      var target = list && list.querySelector(\"[value=\\\"\".concat(value, \"\\\"]\"));\n\n      if (is$1.element(target)) {\n        target.checked = true;\n      }\n    },\n    // Translate a value into a nice label\n    getLabel: function getLabel(setting, value) {\n      switch (setting) {\n        case 'speed':\n          return value === 1 ? i18n.get('normal', this.config) : \"\".concat(value, \"&times;\");\n\n        case 'quality':\n          if (is$1.number(value)) {\n            var label = i18n.get(\"qualityLabel.\".concat(value), this.config);\n\n            if (!label.length) {\n              return \"\".concat(value, \"p\");\n            }\n\n            return label;\n          }\n\n          return toTitleCase(value);\n\n        case 'captions':\n          return captions.getLabel.call(this);\n\n        default:\n          return null;\n      }\n    },\n    // Set the quality menu\n    setQualityMenu: function setQualityMenu(options) {\n      var _this6 = this;\n\n      // Menu required\n      if (!is$1.element(this.elements.settings.panels.quality)) {\n        return;\n      }\n\n      var type = 'quality';\n      var list = this.elements.settings.panels.quality.querySelector('[role=\"menu\"]'); // Set options if passed and filter based on uniqueness and config\n\n      if (is$1.array(options)) {\n        this.options.quality = dedupe(options).filter(function (quality) {\n          return _this6.config.quality.options.includes(quality);\n        });\n      } // Toggle the pane and tab\n\n\n      var toggle = !is$1.empty(this.options.quality) && this.options.quality.length > 1;\n      controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n      emptyElement(list); // Check if we need to toggle the parent\n\n      controls.checkMenu.call(this); // If we're hiding, nothing more to do\n\n      if (!toggle) {\n        return;\n      } // Get the badge HTML for HD, 4K etc\n\n\n      var getBadge = function getBadge(quality) {\n        var label = i18n.get(\"qualityBadge.\".concat(quality), _this6.config);\n\n        if (!label.length) {\n          return null;\n        }\n\n        return controls.createBadge.call(_this6, label);\n      }; // Sort options by the config and then render options\n\n\n      this.options.quality.sort(function (a, b) {\n        var sorting = _this6.config.quality.options;\n        return sorting.indexOf(a) > sorting.indexOf(b) ? 1 : -1;\n      }).forEach(function (quality) {\n        controls.createMenuItem.call(_this6, {\n          value: quality,\n          list: list,\n          type: type,\n          title: controls.getLabel.call(_this6, 'quality', quality),\n          badge: getBadge(quality)\n        });\n      });\n      controls.updateSetting.call(this, type, list);\n    },\n    // Set the looping options\n\n    /* setLoopMenu() {\n          // Menu required\n          if (!is.element(this.elements.settings.panels.loop)) {\n              return;\n          }\n           const options = ['start', 'end', 'all', 'reset'];\n          const list = this.elements.settings.panels.loop.querySelector('[role=\"menu\"]');\n           // Show the pane and tab\n          toggleHidden(this.elements.settings.buttons.loop, false);\n          toggleHidden(this.elements.settings.panels.loop, false);\n           // Toggle the pane and tab\n          const toggle = !is.empty(this.loop.options);\n          controls.toggleMenuButton.call(this, 'loop', toggle);\n           // Empty the menu\n          emptyElement(list);\n           options.forEach(option => {\n              const item = createElement('li');\n               const button = createElement(\n                  'button',\n                  extend(getAttributesFromSelector(this.config.selectors.buttons.loop), {\n                      type: 'button',\n                      class: this.config.classNames.control,\n                      'data-wassPlayer-loop-action': option,\n                  }),\n                  i18n.get(option, this.config)\n              );\n               if (['start', 'end'].includes(option)) {\n                  const badge = controls.createBadge.call(this, '00:00');\n                  button.appendChild(badge);\n              }\n               item.appendChild(button);\n              list.appendChild(item);\n          });\n      }, */\n    // Get current selected caption language\n    // Set a list of available captions languages\n    setCaptionsMenu: function setCaptionsMenu() {\n      var _this7 = this;\n\n      // Menu required\n      if (!is$1.element(this.elements.settings.panels.captions)) {\n        return;\n      }\n\n      var type = 'captions';\n      var list = this.elements.settings.panels.captions.querySelector('[role=\"menu\"]');\n      var tracks = captions.getTracks.call(this);\n      var toggle = Boolean(tracks.length); // Toggle the pane and tab\n\n      controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n      emptyElement(list); // Check if we need to toggle the parent\n\n      controls.checkMenu.call(this); // If there's no captions, bail\n\n      if (!toggle) {\n        return;\n      } // Generate options data\n\n\n      var options = tracks.map(function (track, value) {\n        return {\n          value: value,\n          checked: _this7.captions.toggled && _this7.currentTrack === value,\n          title: captions.getLabel.call(_this7, track),\n          badge: track.language && controls.createBadge.call(_this7, track.language.toUpperCase()),\n          list: list,\n          type: 'language'\n        };\n      }); // Add the \"Disabled\" option to turn off captions\n\n      options.unshift({\n        value: -1,\n        checked: !this.captions.toggled,\n        title: i18n.get('disabled', this.config),\n        list: list,\n        type: 'language'\n      }); // Generate options\n\n      options.forEach(controls.createMenuItem.bind(this));\n      controls.updateSetting.call(this, type, list);\n    },\n    // Set a list of available captions languages\n    setSpeedMenu: function setSpeedMenu() {\n      var _this8 = this;\n\n      // Menu required\n      if (!is$1.element(this.elements.settings.panels.speed)) {\n        return;\n      }\n\n      var type = 'speed';\n      var list = this.elements.settings.panels.speed.querySelector('[role=\"menu\"]'); // Filter out invalid speeds\n\n      this.options.speed = this.options.speed.filter(function (o) {\n        return o >= _this8.minimumSpeed && o <= _this8.maximumSpeed;\n      }); // Toggle the pane and tab\n\n      var toggle = !is$1.empty(this.options.speed) && this.options.speed.length > 1;\n      controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n      emptyElement(list); // Check if we need to toggle the parent\n\n      controls.checkMenu.call(this); // If we're hiding, nothing more to do\n\n      if (!toggle) {\n        return;\n      } // Create items\n\n\n      this.options.speed.forEach(function (speed) {\n        controls.createMenuItem.call(_this8, {\n          value: speed,\n          list: list,\n          type: type,\n          title: controls.getLabel.call(_this8, 'speed', speed)\n        });\n      });\n      controls.updateSetting.call(this, type, list);\n    },\n    // Check if we need to hide/show the settings menu\n    checkMenu: function checkMenu() {\n      var buttons = this.elements.settings.buttons;\n      var visible = !is$1.empty(buttons) && Object.values(buttons).some(function (button) {\n        return !button.hidden;\n      });\n      toggleHidden(this.elements.settings.menu, !visible);\n    },\n    // Focus the first menu item in a given (or visible) menu\n    focusFirstMenuItem: function focusFirstMenuItem(pane) {\n      var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.elements.settings.popup.hidden) {\n        return;\n      }\n\n      var target = pane;\n\n      if (!is$1.element(target)) {\n        target = Object.values(this.elements.settings.panels).find(function (p) {\n          return !p.hidden;\n        });\n      }\n\n      var firstItem = target.querySelector('[role^=\"menuitem\"]');\n      setFocus.call(this, firstItem, tabFocus);\n    },\n    // Show/hide menu\n    toggleMenu: function toggleMenu(input) {\n      var popup = this.elements.settings.popup;\n      var button = this.elements.buttons.settings; // Menu and button are required\n\n      if (!is$1.element(popup) || !is$1.element(button)) {\n        return;\n      } // True toggle by default\n\n\n      var hidden = popup.hidden;\n      var show = hidden;\n\n      if (is$1.boolean(input)) {\n        show = input;\n      } else if (is$1.keyboardEvent(input) && input.which === 27) {\n        show = false;\n      } else if (is$1.event(input)) {\n        // If WassPlayer is in a shadowDOM, the event target is set to the component, instead of the\n        // Element in the shadowDOM. The path, if available, is complete.\n        var target = is$1.function(input.composedPath) ? input.composedPath()[0] : input.target;\n        var isMenuItem = popup.contains(target); // If the click was inside the menu or if the click\n        // wasn't the button or menu item and we're trying to\n        // show the menu (a doc click shouldn't show the menu)\n\n        if (isMenuItem || !isMenuItem && input.target !== button && show) {\n          return;\n        }\n      } // Set button attributes\n\n\n      button.setAttribute('aria-expanded', show); // Show the actual popup\n\n      toggleHidden(popup, !show); // Add class hook\n\n      toggleClass(this.elements.container, this.config.classNames.menu.open, show); // Focus the first item if key interaction\n\n      if (show && is$1.keyboardEvent(input)) {\n        controls.focusFirstMenuItem.call(this, null, true);\n      } else if (!show && !hidden) {\n        // If closing, re-focus the button\n        setFocus.call(this, button, is$1.keyboardEvent(input));\n      }\n    },\n    // Get the natural size of a menu panel\n    getMenuSize: function getMenuSize(tab) {\n      var clone = tab.cloneNode(true);\n      clone.style.position = 'absolute';\n      clone.style.opacity = 0;\n      clone.removeAttribute('hidden'); // Append to parent so we get the \"real\" size\n\n      tab.parentNode.appendChild(clone); // Get the sizes before we remove\n\n      var width = clone.scrollWidth;\n      var height = clone.scrollHeight; // Remove from the DOM\n\n      removeElement(clone);\n      return {\n        width: width,\n        height: height\n      };\n    },\n    // Show a panel in the menu\n    showMenuPanel: function showMenuPanel() {\n      var _this9 = this;\n\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var target = this.elements.container.querySelector(\"#wassPlayer-settings-\".concat(this.id, \"-\").concat(type)); // Nothing to show, bail\n\n      if (!is$1.element(target)) {\n        return;\n      } // Hide all other panels\n\n\n      var container = target.parentNode;\n      var current = Array.from(container.children).find(function (node) {\n        return !node.hidden;\n      }); // If we can do fancy animations, we'll animate the height/width\n\n      if (support.transitions && !support.reducedMotion) {\n        // Set the current width as a base\n        container.style.width = \"\".concat(current.scrollWidth, \"px\");\n        container.style.height = \"\".concat(current.scrollHeight, \"px\"); // Get potential sizes\n\n        var size = controls.getMenuSize.call(this, target); // Restore auto height/width\n\n        var restore = function restore(event) {\n          // We're only bothered about height and width on the container\n          if (event.target !== container || !['width', 'height'].includes(event.propertyName)) {\n            return;\n          } // Revert back to auto\n\n\n          container.style.width = '';\n          container.style.height = ''; // Only listen once\n\n          off.call(_this9, container, transitionEndEvent, restore);\n        }; // Listen for the transition finishing and restore auto height/width\n\n\n        on.call(this, container, transitionEndEvent, restore); // Set dimensions to target\n\n        container.style.width = \"\".concat(size.width, \"px\");\n        container.style.height = \"\".concat(size.height, \"px\");\n      } // Set attributes on current tab\n\n\n      toggleHidden(current, true); // Set attributes on target\n\n      toggleHidden(target, false); // Focus the first item\n\n      controls.focusFirstMenuItem.call(this, target, tabFocus);\n    },\n    // Set the download URL\n    setDownloadUrl: function setDownloadUrl() {\n      var button = this.elements.buttons.download; // Bail if no button\n\n      if (!is$1.element(button)) {\n        return;\n      } // Set attribute\n\n\n      button.setAttribute('href', this.download);\n    },\n    // Build the default HTML\n    create: function create(data) {\n      var _this10 = this;\n\n      var bindMenuItemShortcuts = controls.bindMenuItemShortcuts,\n          createButton = controls.createButton,\n          createProgress = controls.createProgress,\n          createRange = controls.createRange,\n          createTime = controls.createTime,\n          setQualityMenu = controls.setQualityMenu,\n          setSpeedMenu = controls.setSpeedMenu,\n          showMenuPanel = controls.showMenuPanel;\n      this.elements.controls = null; // Larger overlaid play button\n\n      if (is$1.array(this.config.controls) && this.config.controls.includes('play-large')) {\n        this.elements.container.appendChild(createButton.call(this, 'play-large'));\n      } // Create the container\n\n\n      var container = createElement('div', getAttributesFromSelector(this.config.selectors.controls.wrapper));\n      this.elements.controls = container; // Default item attributes\n\n      var defaultAttributes = {\n        class: 'wassPlayer__controls__item'\n      }; // Loop through controls in order\n\n      dedupe(is$1.array(this.config.controls) ? this.config.controls : []).forEach(function (control) {\n        // Restart button\n        if (control === 'restart') {\n          container.appendChild(createButton.call(_this10, 'restart', defaultAttributes));\n        } // Rewind button\n\n\n        if (control === 'rewind') {\n          container.appendChild(createButton.call(_this10, 'rewind', defaultAttributes));\n        } // Play/Pause button\n\n\n        if (control === 'play') {\n          container.appendChild(createButton.call(_this10, 'play', defaultAttributes));\n        } // Fast forward button\n\n\n        if (control === 'fast-forward') {\n          container.appendChild(createButton.call(_this10, 'fast-forward', defaultAttributes));\n        } // Progress\n\n\n        if (control === 'progress') {\n          var progressContainer = createElement('div', {\n            class: \"\".concat(defaultAttributes.class, \" wassPlayer__progress__container\")\n          });\n          var progress = createElement('div', getAttributesFromSelector(_this10.config.selectors.progress)); // Seek range slider\n\n          progress.appendChild(createRange.call(_this10, 'seek', {\n            id: \"wassPlayer-seek-\".concat(data.id)\n          })); // Buffer progress\n\n          progress.appendChild(createProgress.call(_this10, 'buffer')); // Seek tooltip\n\n          if (_this10.config.tooltips.seek) {\n            var tooltip = createElement('span', {\n              class: _this10.config.classNames.tooltip\n            }, '00:00');\n            progress.appendChild(tooltip);\n            _this10.elements.display.seekTooltip = tooltip;\n          }\n\n          _this10.elements.progress = progress;\n          progressContainer.appendChild(_this10.elements.progress);\n          container.appendChild(progressContainer);\n        } // Media current time display\n\n\n        if (control === 'current-time') {\n          container.appendChild(createTime.call(_this10, 'currentTime', defaultAttributes));\n        } // Media duration display\n\n\n        if (control === 'duration') {\n          container.appendChild(createTime.call(_this10, 'duration', defaultAttributes));\n        } // Volume controls\n\n\n        if (control === 'mute' || control === 'volume') {\n          var volume = _this10.elements.volume; // Create the volume container if needed\n\n          if (!is$1.element(volume) || !container.contains(volume)) {\n            volume = createElement('div', extend({}, defaultAttributes, {\n              class: \"\".concat(defaultAttributes.class, \" wassPlayer__volume\").trim()\n            }));\n            _this10.elements.volume = volume;\n            container.appendChild(volume);\n          } // Toggle mute button\n\n\n          if (control === 'mute') {\n            volume.appendChild(createButton.call(_this10, 'mute'));\n          } // Volume range control\n          // Ignored on iOS as it's handled globally\n          // https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html\n\n\n          if (control === 'volume' && !browser.isIos) {\n            // Set the attributes\n            var attributes = {\n              max: 1,\n              step: 0.05,\n              value: _this10.config.volume\n            }; // Create the volume range slider\n\n            volume.appendChild(createRange.call(_this10, 'volume', extend(attributes, {\n              id: \"wassPlayer-volume-\".concat(data.id)\n            })));\n          }\n        } // Toggle captions button\n\n\n        if (control === 'captions') {\n          container.appendChild(createButton.call(_this10, 'captions', defaultAttributes));\n        } // Settings button / menu\n\n\n        if (control === 'settings' && !is$1.empty(_this10.config.settings)) {\n          var wrapper = createElement('div', extend({}, defaultAttributes, {\n            class: \"\".concat(defaultAttributes.class, \" wassPlayer__menu\").trim(),\n            hidden: ''\n          }));\n          wrapper.appendChild(createButton.call(_this10, 'settings', {\n            'aria-haspopup': true,\n            'aria-controls': \"wassPlayer-settings-\".concat(data.id),\n            'aria-expanded': false\n          }));\n          var popup = createElement('div', {\n            class: 'wassPlayer__menu__container',\n            id: \"wassPlayer-settings-\".concat(data.id),\n            hidden: ''\n          });\n          var inner = createElement('div');\n          var home = createElement('div', {\n            id: \"wassPlayer-settings-\".concat(data.id, \"-home\")\n          }); // Create the menu\n\n          var menu = createElement('div', {\n            role: 'menu'\n          });\n          home.appendChild(menu);\n          inner.appendChild(home);\n          _this10.elements.settings.panels.home = home; // Build the menu items\n\n          _this10.config.settings.forEach(function (type) {\n            var menuItem = createElement('button', extend(getAttributesFromSelector(_this10.config.selectors.buttons.settings), {\n              type: 'button',\n              class: \"\".concat(_this10.config.classNames.control, \" \").concat(_this10.config.classNames.control, \"--forward\"),\n              role: 'menuitem',\n              'aria-haspopup': true,\n              hidden: ''\n            })); // Bind menu shortcuts for keyboard users\n\n            bindMenuItemShortcuts.call(_this10, menuItem, type); // Show menu on click\n\n            on.call(_this10, menuItem, 'click', function () {\n              showMenuPanel.call(_this10, type, false);\n            });\n            var flex = createElement('span', null, i18n.get(type, _this10.config));\n            var value = createElement('span', {\n              class: _this10.config.classNames.menu.value\n            }); // Speed contains HTML entities\n\n            value.innerHTML = data[type];\n            flex.appendChild(value);\n            menuItem.appendChild(flex);\n            menu.appendChild(menuItem); // Build the panes\n\n            var pane = createElement('div', {\n              id: \"wassPlayer-settings-\".concat(data.id, \"-\").concat(type),\n              hidden: ''\n            }); // Back button\n\n            var backButton = createElement('button', {\n              type: 'button',\n              class: \"\".concat(_this10.config.classNames.control, \" \").concat(_this10.config.classNames.control, \"--back\")\n            }); // Visible label\n\n            backButton.appendChild(createElement('span', {\n              'aria-hidden': true\n            }, i18n.get(type, _this10.config))); // Screen reader label\n\n            backButton.appendChild(createElement('span', {\n              class: _this10.config.classNames.hidden\n            }, i18n.get('menuBack', _this10.config))); // Go back via keyboard\n\n            on.call(_this10, pane, 'keydown', function (event) {\n              // We only care about <-\n              if (event.which !== 37) {\n                return;\n              } // Prevent seek\n\n\n              event.preventDefault();\n              event.stopPropagation(); // Show the respective menu\n\n              showMenuPanel.call(_this10, 'home', true);\n            }, false); // Go back via button click\n\n            on.call(_this10, backButton, 'click', function () {\n              showMenuPanel.call(_this10, 'home', false);\n            }); // Add to pane\n\n            pane.appendChild(backButton); // Menu\n\n            pane.appendChild(createElement('div', {\n              role: 'menu'\n            }));\n            inner.appendChild(pane);\n            _this10.elements.settings.buttons[type] = menuItem;\n            _this10.elements.settings.panels[type] = pane;\n          });\n\n          popup.appendChild(inner);\n          wrapper.appendChild(popup);\n          container.appendChild(wrapper);\n          _this10.elements.settings.popup = popup;\n          _this10.elements.settings.menu = wrapper;\n        } // Picture in picture button\n\n\n        if (control === 'pip' && support.pip) {\n          container.appendChild(createButton.call(_this10, 'pip', defaultAttributes));\n        } // Airplay button\n\n\n        if (control === 'airplay' && support.airplay) {\n          container.appendChild(createButton.call(_this10, 'airplay', defaultAttributes));\n        } // Download button\n\n\n        if (control === 'download') {\n          var _attributes = extend({}, defaultAttributes, {\n            element: 'a',\n            href: _this10.download,\n            target: '_blank'\n          }); // Set download attribute for HTML5 only\n\n\n          if (_this10.isHTML5) {\n            _attributes.download = '';\n          }\n\n          var download = _this10.config.urls.download;\n\n          if (!is$1.url(download) && _this10.isEmbed) {\n            extend(_attributes, {\n              icon: \"logo-\".concat(_this10.provider),\n              label: _this10.provider\n            });\n          }\n\n          container.appendChild(createButton.call(_this10, 'download', _attributes));\n        } // Toggle fullscreen button\n\n\n        if (control === 'fullscreen') {\n          container.appendChild(createButton.call(_this10, 'fullscreen', defaultAttributes));\n        }\n      }); // Set available quality levels\n\n      if (this.isHTML5) {\n        setQualityMenu.call(this, html5.getQualityOptions.call(this));\n      }\n\n      setSpeedMenu.call(this);\n      return container;\n    },\n    // Insert controls\n    inject: function inject() {\n      var _this11 = this;\n\n      // Sprite\n      if (this.config.loadSprite) {\n        var icon = controls.getIconUrl.call(this); // Only load external sprite using AJAX\n\n        if (icon.cors) {\n          loadSprite(icon.url, 'sprite-wassPlayer');\n        }\n      } // Create a unique ID\n\n\n      this.id = Math.floor(Math.random() * 10000); // Null by default\n\n      var container = null;\n      this.elements.controls = null; // Set template properties\n\n      var props = {\n        id: this.id,\n        seektime: this.config.seekTime,\n        title: this.config.title\n      };\n      var update = true; // If function, run it and use output\n\n      if (is$1.function(this.config.controls)) {\n        this.config.controls = this.config.controls.call(this, props);\n      } // Convert falsy controls to empty array (primarily for empty strings)\n\n\n      if (!this.config.controls) {\n        this.config.controls = [];\n      }\n\n      if (is$1.element(this.config.controls) || is$1.string(this.config.controls)) {\n        // HTMLElement or Non-empty string passed as the option\n        container = this.config.controls;\n      } else {\n        // Create controls\n        container = controls.create.call(this, {\n          id: this.id,\n          seektime: this.config.seekTime,\n          speed: this.speed,\n          quality: this.quality,\n          captions: captions.getLabel.call(this) // loop: 'None',\n\n        });\n        update = false;\n      } // Replace props with their value\n\n\n      var replace = function replace(input) {\n        var result = input;\n        Object.entries(props).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              value = _ref3[1];\n\n          result = replaceAll(result, \"{\".concat(key, \"}\"), value);\n        });\n        return result;\n      }; // Update markup\n\n\n      if (update) {\n        if (is$1.string(this.config.controls)) {\n          container = replace(container);\n        }\n      } // Controls container\n\n\n      var target; // Inject to custom location\n\n      if (is$1.string(this.config.selectors.controls.container)) {\n        target = document.querySelector(this.config.selectors.controls.container);\n      } // Inject into the container by default\n\n\n      if (!is$1.element(target)) {\n        target = this.elements.container;\n      } // Inject controls HTML (needs to be before captions, hence \"afterbegin\")\n\n\n      var insertMethod = is$1.element(container) ? 'insertAdjacentElement' : 'insertAdjacentHTML';\n      target[insertMethod]('afterbegin', container); // Find the elements if need be\n\n      if (!is$1.element(this.elements.controls)) {\n        controls.findElements.call(this);\n      } // Add pressed property to buttons\n\n\n      if (!is$1.empty(this.elements.buttons)) {\n        var addProperty = function addProperty(button) {\n          var className = _this11.config.classNames.controlPressed;\n          Object.defineProperty(button, 'pressed', {\n            enumerable: true,\n            get: function get() {\n              return hasClass(button, className);\n            },\n            set: function set() {\n              var pressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n              toggleClass(button, className, pressed);\n            }\n          });\n        }; // Toggle classname when pressed property is set\n\n\n        Object.values(this.elements.buttons).filter(Boolean).forEach(function (button) {\n          if (is$1.array(button) || is$1.nodeList(button)) {\n            Array.from(button).filter(Boolean).forEach(addProperty);\n          } else {\n            addProperty(button);\n          }\n        });\n      } // Edge sometimes doesn't finish the paint so force a repaint\n\n\n      if (browser.isEdge) {\n        repaint(target);\n      } // Setup tooltips\n\n\n      if (this.config.tooltips.controls) {\n        var _this$config = this.config,\n            classNames = _this$config.classNames,\n            selectors = _this$config.selectors;\n        var selector = \"\".concat(selectors.controls.wrapper, \" \").concat(selectors.labels, \" .\").concat(classNames.hidden);\n        var labels = getElements.call(this, selector);\n        Array.from(labels).forEach(function (label) {\n          toggleClass(label, _this11.config.classNames.hidden, false);\n          toggleClass(label, _this11.config.classNames.tooltip, true);\n        });\n      }\n    }\n  };\n\n  /**\n   * Parse a string to a URL object\n   * @param {String} input - the URL to be parsed\n   * @param {Boolean} safe - failsafe parsing\n   */\n\n  function parseUrl(input) {\n    var safe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var url = input;\n\n    if (safe) {\n      var parser = document.createElement('a');\n      parser.href = url;\n      url = parser.href;\n    }\n\n    try {\n      return new URL(url);\n    } catch (e) {\n      return null;\n    }\n  } // Convert object to URLSearchParams\n\n  var captions = {\n    // Setup captions\n    setup: function setup() {\n      // Requires UI support\n      if (!this.supported.ui) {\n        return;\n      } // Only Vimeo and HTML5 video supported at this point\n\n\n      if (!this.isVideo || this.isYouTube || this.isHTML5 && !support.textTracks) {\n        // Clear menu and hide\n        if (is$1.array(this.config.controls) && this.config.controls.includes('settings') && this.config.settings.includes('captions')) {\n          controls.setCaptionsMenu.call(this);\n        }\n\n        return;\n      } // Inject the container\n\n\n      if (!is$1.element(this.elements.captions)) {\n        this.elements.captions = createElement('div', getAttributesFromSelector(this.config.selectors.captions));\n        insertAfter(this.elements.captions, this.elements.wrapper);\n      } // Fix IE captions if CORS is used\n      // Fetch captions and inject as blobs instead (data URIs not supported!)\n\n\n      if (browser.isIE && window.URL) {\n        var elements = this.media.querySelectorAll('track');\n        Array.from(elements).forEach(function (track) {\n          var src = track.getAttribute('src');\n          var url = parseUrl(src);\n\n          if (url !== null && url.hostname !== window.location.href.hostname && ['http:', 'https:'].includes(url.protocol)) {\n            fetch(src, 'blob').then(function (blob) {\n              track.setAttribute('src', window.URL.createObjectURL(blob));\n            }).catch(function () {\n              removeElement(track);\n            });\n          }\n        });\n      }\n\n      var browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage || 'en'];\n      var languages = dedupe(browserLanguages.map(function (language) {\n        return language.split('-')[0];\n      }));\n      var language = (this.storage.get('language') || this.config.captions.language || 'auto').toLowerCase(); // Use first browser language when language is 'auto'\n\n      if (language === 'auto') {\n        var _languages = _slicedToArray(languages, 1);\n\n        language = _languages[0];\n      }\n\n      var active = this.storage.get('captions');\n\n      if (!is$1.boolean(active)) {\n        active = this.config.captions.active;\n      }\n\n      Object.assign(this.captions, {\n        toggled: false,\n        active: active,\n        language: language,\n        languages: languages\n      }); // Watch changes to textTracks and update captions menu\n\n      if (this.isHTML5) {\n        var trackEvents = this.config.captions.update ? 'addtrack removetrack' : 'removetrack';\n        on.call(this, this.media.textTracks, trackEvents, captions.update.bind(this));\n      } // Update available languages in list next tick (the event must not be triggered before the listeners)\n\n\n      setTimeout(captions.update.bind(this), 0);\n    },\n    // Update available language options in settings based on tracks\n    update: function update() {\n      var _this = this;\n\n      var tracks = captions.getTracks.call(this, true); // Get the wanted language\n\n      var _this$captions = this.captions,\n          active = _this$captions.active,\n          language = _this$captions.language,\n          meta = _this$captions.meta,\n          currentTrackNode = _this$captions.currentTrackNode;\n      var languageExists = Boolean(tracks.find(function (track) {\n        return track.language === language;\n      })); // Handle tracks (add event listener and \"pseudo\"-default)\n\n      if (this.isHTML5 && this.isVideo) {\n        tracks.filter(function (track) {\n          return !meta.get(track);\n        }).forEach(function (track) {\n          _this.debug.log('Track added', track); // Attempt to store if the original dom element was \"default\"\n\n\n          meta.set(track, {\n            default: track.mode === 'showing'\n          }); // eslint-disable-next-line no-param-reassign\n\n          if (track.mode === 'showing') {\n            // eslint-disable-next-line no-param-reassign\n            track.mode = 'hidden';\n          } // Add event listener for cue changes\n\n\n          on.call(_this, track, 'cuechange', function () {\n            return captions.updateCues.call(_this);\n          });\n        });\n      } // Update language first time it matches, or if the previous matching track was removed\n\n\n      if (languageExists && this.language !== language || !tracks.includes(currentTrackNode)) {\n        captions.setLanguage.call(this, language);\n        captions.toggle.call(this, active && languageExists);\n      } // Enable or disable captions based on track length\n\n\n      toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is$1.empty(tracks)); // Update available languages in list\n\n      if (is$1.array(this.config.controls) && this.config.controls.includes('settings') && this.config.settings.includes('captions')) {\n        controls.setCaptionsMenu.call(this);\n      }\n    },\n    // Toggle captions display\n    // Used internally for the toggleCaptions method, with the passive option forced to false\n    toggle: function toggle(input) {\n      var _this2 = this;\n\n      var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      // If there's no full support\n      if (!this.supported.ui) {\n        return;\n      }\n\n      var toggled = this.captions.toggled; // Current state\n\n      var activeClass = this.config.classNames.captions.active; // Get the next state\n      // If the method is called without parameter, toggle based on current value\n\n      var active = is$1.nullOrUndefined(input) ? !toggled : input; // Update state and trigger event\n\n      if (active !== toggled) {\n        // When passive, don't override user preferences\n        if (!passive) {\n          this.captions.active = active;\n          this.storage.set({\n            captions: active\n          });\n        } // Force language if the call isn't passive and there is no matching language to toggle to\n\n\n        if (!this.language && active && !passive) {\n          var tracks = captions.getTracks.call(this);\n          var track = captions.findTrack.call(this, [this.captions.language].concat(_toConsumableArray(this.captions.languages)), true); // Override user preferences to avoid switching languages if a matching track is added\n\n          this.captions.language = track.language; // Set caption, but don't store in localStorage as user preference\n\n          captions.set.call(this, tracks.indexOf(track));\n          return;\n        } // Toggle button if it's enabled\n\n\n        if (this.elements.buttons.captions) {\n          this.elements.buttons.captions.pressed = active;\n        } // Add class hook\n\n\n        toggleClass(this.elements.container, activeClass, active);\n        this.captions.toggled = active; // Update settings menu\n\n        controls.updateSetting.call(this, 'captions'); // Trigger event (not used internally)\n\n        triggerEvent.call(this, this.media, active ? 'captionsenabled' : 'captionsdisabled');\n      } // on the active track - forcing the browser to download it\n\n\n      setTimeout(function () {\n        if (active && _this2.captions.toggled) {\n          _this2.captions.currentTrackNode.mode = 'hidden';\n        }\n      });\n    },\n    // Set captions by track index\n    // Used internally for the currentTrack setter with the passive option forced to false\n    set: function set(index) {\n      var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var tracks = captions.getTracks.call(this); // Disable captions if setting to -1\n\n      if (index === -1) {\n        captions.toggle.call(this, false, passive);\n        return;\n      }\n\n      if (!is$1.number(index)) {\n        this.debug.warn('Invalid caption argument', index);\n        return;\n      }\n\n      if (!(index in tracks)) {\n        this.debug.warn('Track not found', index);\n        return;\n      }\n\n      if (this.captions.currentTrack !== index) {\n        this.captions.currentTrack = index;\n        var track = tracks[index];\n\n        var _ref = track || {},\n            language = _ref.language; // Store reference to node for invalidation on remove\n\n\n        this.captions.currentTrackNode = track; // Update settings menu\n\n        controls.updateSetting.call(this, 'captions'); // When passive, don't override user preferences\n\n        if (!passive) {\n          this.captions.language = language;\n          this.storage.set({\n            language: language\n          });\n        } // Handle Vimeo captions\n\n\n        if (this.isVimeo) {\n          this.embed.enableTextTrack(language);\n        } // Trigger event\n\n\n        triggerEvent.call(this, this.media, 'languagechange');\n      } // Show captions\n\n\n      captions.toggle.call(this, true, passive);\n\n      if (this.isHTML5 && this.isVideo) {\n        // If we change the active track while a cue is already displayed we need to update it\n        captions.updateCues.call(this);\n      }\n    },\n    // Set captions by language\n    // Used internally for the language setter with the passive option forced to false\n    setLanguage: function setLanguage(input) {\n      var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!is$1.string(input)) {\n        this.debug.warn('Invalid language argument', input);\n        return;\n      } // Normalize\n\n\n      var language = input.toLowerCase();\n      this.captions.language = language; // Set currentTrack\n\n      var tracks = captions.getTracks.call(this);\n      var track = captions.findTrack.call(this, [language]);\n      captions.set.call(this, tracks.indexOf(track), passive);\n    },\n    // Get current valid caption tracks\n    // If update is false it will also ignore tracks without metadata\n    // This is used to \"freeze\" the language options when captions.update is false\n    getTracks: function getTracks() {\n      var _this3 = this;\n\n      var update = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // Handle media or textTracks missing or null\n      var tracks = Array.from((this.media || {}).textTracks || []); // For HTML5, use cache instead of current tracks when it exists (if captions.update is false)\n      // Filter out removed tracks and tracks that aren't captions/subtitles (for example metadata)\n\n      return tracks.filter(function (track) {\n        return !_this3.isHTML5 || update || _this3.captions.meta.has(track);\n      }).filter(function (track) {\n        return ['captions', 'subtitles'].includes(track.kind);\n      });\n    },\n    // Match tracks based on languages and get the first\n    findTrack: function findTrack(languages) {\n      var _this4 = this;\n\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var tracks = captions.getTracks.call(this);\n\n      var sortIsDefault = function sortIsDefault(track) {\n        return Number((_this4.captions.meta.get(track) || {}).default);\n      };\n\n      var sorted = Array.from(tracks).sort(function (a, b) {\n        return sortIsDefault(b) - sortIsDefault(a);\n      });\n      var track;\n      languages.every(function (language) {\n        track = sorted.find(function (t) {\n          return t.language === language;\n        });\n        return !track; // Break iteration if there is a match\n      }); // If no match is found but is required, get first\n\n      return track || (force ? sorted[0] : undefined);\n    },\n    // Get the current track\n    getCurrentTrack: function getCurrentTrack() {\n      return captions.getTracks.call(this)[this.currentTrack];\n    },\n    // Get UI label for track\n    getLabel: function getLabel(track) {\n      var currentTrack = track;\n\n      if (!is$1.track(currentTrack) && support.textTracks && this.captions.toggled) {\n        currentTrack = captions.getCurrentTrack.call(this);\n      }\n\n      if (is$1.track(currentTrack)) {\n        if (!is$1.empty(currentTrack.label)) {\n          return currentTrack.label;\n        }\n\n        if (!is$1.empty(currentTrack.language)) {\n          return track.language.toUpperCase();\n        }\n\n        return i18n.get('enabled', this.config);\n      }\n\n      return i18n.get('disabled', this.config);\n    },\n    // Update captions using current track's active cues\n    // Also optional array argument in case there isn't any track (ex: vimeo)\n    updateCues: function updateCues(input) {\n      // Requires UI\n      if (!this.supported.ui) {\n        return;\n      }\n\n      if (!is$1.element(this.elements.captions)) {\n        this.debug.warn('No captions element to render to');\n        return;\n      } // Only accept array or empty input\n\n\n      if (!is$1.nullOrUndefined(input) && !Array.isArray(input)) {\n        this.debug.warn('updateCues: Invalid input', input);\n        return;\n      }\n\n      var cues = input; // Get cues from track\n\n      if (!cues) {\n        var track = captions.getCurrentTrack.call(this);\n        cues = Array.from((track || {}).activeCues || []).map(function (cue) {\n          return cue.getCueAsHTML();\n        }).map(getHTML);\n      } // Set new caption text\n\n\n      var content = cues.map(function (cueText) {\n        return cueText.trim();\n      }).join('\\n');\n      var changed = content !== this.elements.captions.innerHTML;\n\n      if (changed) {\n        // Empty the container and create a new child element\n        emptyElement(this.elements.captions);\n        var caption = createElement('span', getAttributesFromSelector(this.config.selectors.caption));\n        caption.innerHTML = content;\n        this.elements.captions.appendChild(caption); // Trigger event\n\n        triggerEvent.call(this, this.media, 'cuechange');\n      }\n    }\n  };\n\n  // ==========================================================================\n  // WassPlayer default config file\n  // ==========================================================================\n  var defaults$1 = {\n    // Disable\n    enabled: true,\n    // Custom media title\n    title: '',\n    // Logging to console\n    debug: false,\n    // Auto play (if supported)\n    autoplay: false,\n    // Only allow one media playing at once\n    autopause: true,\n    // Allow inline playback on iOS\n    playsinline: true,\n    // Default time to skip when rewind/fast forward\n    seekTime: 10,\n    // Default volume\n    volume: 1,\n    muted: false,\n    // Pass a custom duration\n    duration: null,\n    // Display the media duration on load in the current time position\n    // If you have opted to display both duration and currentTime, this is ignored\n    displayDuration: true,\n    // Invert the current time to be a countdown\n    invertTime: true,\n    // Clicking the currentTime inverts it's value to show time left rather than elapsed\n    toggleInvert: true,\n    // Force an aspect ratio\n    // The format must be `'w:h'` (e.g. `'16:9'`)\n    ratio: null,\n    // Click video container to play/pause\n    clickToPlay: true,\n    // Auto hide the controls\n    hideControls: true,\n    // Reset to start when playback ended\n    resetOnEnd: false,\n    // Disable the standard context menu\n    disableContextMenu: true,\n    // Sprite (for icons)\n    loadSprite: true,\n    iconPrefix: 'wassPlayer',\n    iconUrl: 'http://code4stack.com/wassplayer.svg',\n    // Quality default\n    quality: {\n      default: 576,\n      // The options to display in the UI, if available for the source media\n      options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240],\n      forced: false,\n      onChange: null\n    },\n    // Set loops\n    loop: {\n      active: false // start: null,\n      // end: null,\n\n    },\n    // Speed default and options to display\n    speed: {\n      selected: 1,\n      // The options to display in the UI, if available for the source media\n      options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2, 4]\n    },\n    // Keyboard shortcut settings\n    keyboard: {\n      focused: true,\n      global: false\n    },\n    // Display tooltips\n    tooltips: {\n      controls: false,\n      seek: true\n    },\n    // Captions settings\n    captions: {\n      active: false,\n      language: 'auto',\n      // Listen to new tracks added after Plyr is initialized.\n      // This is needed for streaming captions, but may result in unselectable options\n      update: false\n    },\n    // Fullscreen settings\n    fullscreen: {\n      enabled: true,\n      // Allow fullscreen?\n      fallback: true,\n      // Fallback using full viewport/window\n      iosNative: false // Use the native fullscreen in iOS (disables custom controls)\n      // Selector for the fullscreen container so contextual / non-player content can remain visible in fullscreen mode\n      // Non-ancestors of the player element will be ignored\n      // container: null, // defaults to the player element\n\n    },\n    // Local storage\n    storage: {\n      enabled: true,\n      key: 'wassPlayer'\n    },\n    // Default controls\n    controls: ['play-large', // 'restart',\n    'rewind', 'play', 'fast-forward', 'progress', 'current-time', // 'duration',\n    'mute', 'volume', 'captions', 'settings', 'pip', 'airplay', // 'download',\n    'fullscreen'],\n    settings: ['captions', 'quality', 'speed'],\n    // Localisation\n    i18n: {\n      restart: 'Restart',\n      rewind: 'Rewind {seektime}s',\n      play: 'Play',\n      pause: 'Pause',\n      fastForward: 'Forward {seektime}s',\n      seek: 'Seek',\n      seekLabel: '{currentTime} of {duration}',\n      played: 'Played',\n      buffered: 'Buffered',\n      currentTime: 'Current time',\n      duration: 'Duration',\n      volume: 'Volume',\n      mute: 'Mute',\n      unmute: 'Unmute',\n      enableCaptions: 'Enable captions',\n      disableCaptions: 'Disable captions',\n      download: 'Download',\n      enterFullscreen: 'Enter fullscreen',\n      exitFullscreen: 'Exit fullscreen',\n      frameTitle: 'Player for {title}',\n      captions: 'Captions',\n      settings: 'Settings',\n      pip: 'PIP',\n      menuBack: 'Go back to previous menu',\n      speed: 'Speed',\n      normal: 'Normal',\n      quality: 'Quality',\n      loop: 'Loop',\n      start: 'Start',\n      end: 'End',\n      all: 'All',\n      reset: 'Reset',\n      disabled: 'Disabled',\n      enabled: 'Enabled',\n      advertisement: 'Ad',\n      qualityBadge: {\n        2160: '4K',\n        1440: 'HD',\n        1080: 'HD',\n        720: 'HD',\n        576: 'SD',\n        480: 'SD'\n      }\n    },\n    // Custom control listeners\n    listeners: {\n      seek: null,\n      play: null,\n      pause: null,\n      restart: null,\n      rewind: null,\n      fastForward: null,\n      mute: null,\n      volume: null,\n      captions: null,\n      download: null,\n      fullscreen: null,\n      pip: null,\n      airplay: null,\n      speed: null,\n      quality: null,\n      loop: null,\n      language: null\n    },\n    // Events to watch and bubble\n    events: [// Events to watch on HTML5 media elements and bubble\n    // https://developer.mozilla.org/en/docs/Web/Guide/Events/Media_events\n    'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied', 'ratechange', 'cuechange', // Custom events\n    'download', 'enterfullscreen', 'exitfullscreen', 'captionsenabled', 'captionsdisabled', 'languagechange', 'controlshidden', 'controlsshown', 'ready', // Quality\n    'qualitychange'],\n    // Selectors\n    // Change these to match your template if using custom HTML\n    selectors: {\n      editable: 'input, textarea, select, [contenteditable]',\n      container: '.wassPlayer',\n      controls: {\n        container: null,\n        wrapper: '.wassPlayer__controls'\n      },\n      labels: '[data-wassPlayer]',\n      buttons: {\n        play: '[data-wassPlayer=\"play\"]',\n        pause: '[data-wassPlayer=\"pause\"]',\n        restart: '[data-wassPlayer=\"restart\"]',\n        rewind: '[data-wassPlayer=\"rewind\"]',\n        fastForward: '[data-wassPlayer=\"fast-forward\"]',\n        mute: '[data-wassPlayer=\"mute\"]',\n        captions: '[data-wassPlayer=\"captions\"]',\n        download: '[data-wassPlayer=\"download\"]',\n        fullscreen: '[data-wassPlayer=\"fullscreen\"]',\n        pip: '[data-wassPlayer=\"pip\"]',\n        airplay: '[data-wassPlayer=\"airplay\"]',\n        settings: '[data-wassPlayer=\"settings\"]',\n        loop: '[data-wassPlayer=\"loop\"]'\n      },\n      inputs: {\n        seek: '[data-wassPlayer=\"seek\"]',\n        volume: '[data-wassPlayer=\"volume\"]',\n        speed: '[data-wassPlayer=\"speed\"]',\n        language: '[data-wassPlayer=\"language\"]',\n        quality: '[data-wassPlayer=\"quality\"]'\n      },\n      display: {\n        currentTime: '.wassPlayer__time--current',\n        duration: '.wassPlayer__time--duration',\n        buffer: '.wassPlayer__progress__buffer',\n        loop: '.wassPlayer__progress__loop',\n        // Used later\n        volume: '.wassPlayer__volume--display'\n      },\n      progress: '.wassPlayer__progress',\n      captions: '.wassPlayer__captions',\n      caption: '.wassPlayer__caption'\n    },\n    // Class hooks added to the player in different states\n    classNames: {\n      type: 'wassPlayer--{0}',\n      provider: 'wassPlayer--{0}',\n      video: 'wassPlayer__video-wrapper',\n      embed: 'wassPlayer__video-embed',\n      videoFixedRatio: 'wassPlayer__video-wrapper--fixed-ratio',\n      embedContainer: 'wassPlayer__video-embed__container',\n      poster: 'wassPlayer__poster',\n      posterEnabled: 'wassPlayer__poster-enabled',\n      control: 'wassPlayer__control',\n      controlPressed: 'wassPlayer__control--pressed',\n      playing: 'wassPlayer--playing',\n      paused: 'wassPlayer--paused',\n      stopped: 'wassPlayer--stopped',\n      loading: 'wassPlayer--loading',\n      hover: 'wassPlayer--hover',\n      tooltip: 'wassPlayer__tooltip',\n      cues: 'wassPlayer__cues',\n      hidden: 'wassPlayer__sr-only',\n      hideControls: 'wassPlayer--hide-controls',\n      isIos: 'wassPlayer--is-ios',\n      isTouch: 'wassPlayer--is-touch',\n      uiSupported: 'wassPlayer--full-ui',\n      noTransition: 'wassPlayer--no-transition',\n      display: {\n        time: 'wassPlayer__time'\n      },\n      menu: {\n        value: 'wassPlayer__menu__value',\n        badge: 'wassPlayer__badge',\n        open: 'wassPlayer--menu-open'\n      },\n      captions: {\n        enabled: 'wassPlayer--captions-enabled',\n        active: 'wassPlayer--captions-active'\n      },\n      fullscreen: {\n        enabled: 'wassPlayer--fullscreen-enabled',\n        fallback: 'wassPlayer--fullscreen-fallback'\n      },\n      pip: {\n        supported: 'wassPlayer--pip-supported',\n        active: 'wassPlayer--pip-active'\n      },\n      airplay: {\n        supported: 'wassPlayer--airplay-supported',\n        active: 'wassPlayer--airplay-active'\n      },\n      tabFocus: 'wassPlayer__tab-focus',\n      previewThumbnails: {\n        // Tooltip thumbs\n        thumbContainer: 'wassPlayer__preview-thumb',\n        thumbContainerShown: 'wassPlayer__preview-thumb--is-shown',\n        imageContainer: 'wassPlayer__preview-thumb__image-container',\n        timeContainer: 'wassPlayer__preview-thumb__time-container',\n        // Scrubbing\n        scrubbingContainer: 'wassPlayer__preview-scrubbing',\n        scrubbingContainerShown: 'wassPlayer__preview-scrubbing--is-shown'\n      }\n    },\n    // Embed attributes\n    attributes: {\n      embed: {\n        provider: 'data-wassPlayer-provider',\n        id: 'data-wassPlayer-embed-id'\n      }\n    },\n    // Preview Thumbnails plugin\n    previewThumbnails: {\n      enabled: false,\n      src: ''\n    }\n  };\n\n  // ==========================================================================\n  // WassPlayer states\n  // ==========================================================================\n  var pip = {\n    active: 'picture-in-picture',\n    inactive: 'inline'\n  };\n\n  // ==========================================================================\n  // WassPlayer supported types and providers\n  // ==========================================================================\n  var providers = {\n    html5: 'html5'\n  };\n  var types = {\n    video: 'video'\n  };\n  /**\n   * Get provider by URL\n   * @param {String} url\n   */\n\n  function getProviderByUrl() {\n    return null;\n  }\n\n  // ==========================================================================\n  // Console wrapper\n  // ==========================================================================\n  var noop = function noop() {};\n\n  var Console = /*#__PURE__*/function () {\n    function Console() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _classCallCheck(this, Console);\n\n      this.enabled = window.console && enabled;\n\n      if (this.enabled) {\n        this.log('Debugging enabled');\n      }\n    }\n\n    _createClass(Console, [{\n      key: \"log\",\n      get: function get() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n      }\n    }, {\n      key: \"warn\",\n      get: function get() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n      }\n    }, {\n      key: \"error\",\n      get: function get() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n      }\n    }]);\n\n    return Console;\n  }();\n\n  var Fullscreen = /*#__PURE__*/function () {\n    function Fullscreen(player) {\n      var _this = this;\n\n      _classCallCheck(this, Fullscreen);\n\n      // Keep reference to parent\n      this.player = player; // Get prefix\n\n      this.prefix = Fullscreen.prefix;\n      this.property = Fullscreen.property; // Scroll position\n\n      this.scrollPosition = {\n        x: 0,\n        y: 0\n      }; // Force the use of 'full window/browser' rather than fullscreen\n\n      this.forceFallback = player.config.fullscreen.fallback === 'force'; // Get the fullscreen element\n      // Checks container is an ancestor, defaults to null\n\n      this.player.elements.fullscreen = player.config.fullscreen.container && closest(this.player.elements.container, player.config.fullscreen.container); // Register event listeners\n      // Handle event (incase user presses escape etc)\n\n      on.call(this.player, document, this.prefix === 'ms' ? 'MSFullscreenChange' : \"\".concat(this.prefix, \"fullscreenchange\"), function () {\n        _this.onChange();\n      }); // Fullscreen toggle on double click\n\n      on.call(this.player, this.player.elements.container, 'dblclick', function (event) {\n        // Ignore double click in controls\n        if (is$1.element(_this.player.elements.controls) && _this.player.elements.controls.contains(event.target)) {\n          return;\n        }\n\n        _this.toggle();\n      }); // Tap focus when in fullscreen\n\n      on.call(this, this.player.elements.container, 'keydown', function (event) {\n        return _this.trapFocus(event);\n      }); // Update the UI\n\n      this.update();\n    } // Determine if native supported\n\n\n    _createClass(Fullscreen, [{\n      key: \"onChange\",\n      value: function onChange() {\n        if (!this.enabled) {\n          return;\n        } // Update toggle button\n\n\n        var button = this.player.elements.buttons.fullscreen;\n\n        if (is$1.element(button)) {\n          button.pressed = this.active;\n        } // Trigger an event\n\n\n        triggerEvent.call(this.player, this.target, this.active ? 'enterfullscreen' : 'exitfullscreen', true);\n      }\n    }, {\n      key: \"toggleFallback\",\n      value: function toggleFallback() {\n        var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        // Store or restore scroll position\n        if (toggle) {\n          this.scrollPosition = {\n            x: window.scrollX || 0,\n            y: window.scrollY || 0\n          };\n        } else {\n          window.scrollTo(this.scrollPosition.x, this.scrollPosition.y);\n        } // Toggle scroll\n\n\n        document.body.style.overflow = toggle ? 'hidden' : ''; // Toggle class hook\n\n        toggleClass(this.target, this.player.config.classNames.fullscreen.fallback, toggle); // Force full viewport on iPhone X+\n\n        if (browser.isIos) {\n          var viewport = document.head.querySelector('meta[name=\"viewport\"]');\n          var property = 'viewport-fit=cover'; // Inject the viewport meta if required\n\n          if (!viewport) {\n            viewport = document.createElement('meta');\n            viewport.setAttribute('name', 'viewport');\n          } // Check if the property already exists\n\n\n          var hasProperty = is$1.string(viewport.content) && viewport.content.includes(property);\n\n          if (toggle) {\n            this.cleanupViewport = !hasProperty;\n\n            if (!hasProperty) {\n              viewport.content += \",\".concat(property);\n            }\n          } else if (this.cleanupViewport) {\n            viewport.content = viewport.content.split(',').filter(function (part) {\n              return part.trim() !== property;\n            }).join(',');\n          }\n        } // Toggle button and fire events\n\n\n        this.onChange();\n      } // Trap focus inside container\n\n    }, {\n      key: \"trapFocus\",\n      value: function trapFocus(event) {\n        // Bail if iOS, not active, not the tab key\n        if (browser.isIos || !this.active || event.key !== 'Tab' || event.keyCode !== 9) {\n          return;\n        } // Get the current focused element\n\n\n        var focused = document.activeElement;\n        var focusable = getElements.call(this.player, 'a[href], button:not(:disabled), input:not(:disabled), [tabindex]');\n\n        var _focusable = _slicedToArray(focusable, 1),\n            first = _focusable[0];\n\n        var last = focusable[focusable.length - 1];\n\n        if (focused === last && !event.shiftKey) {\n          // Move focus to first element that can be tabbed if Shift isn't used\n          first.focus();\n          event.preventDefault();\n        } else if (focused === first && event.shiftKey) {\n          // Move focus to last element that can be tabbed if Shift is used\n          last.focus();\n          event.preventDefault();\n        }\n      } // Update UI\n\n    }, {\n      key: \"update\",\n      value: function update() {\n        if (this.enabled) {\n          var mode;\n\n          if (this.forceFallback) {\n            mode = 'Fallback (forced)';\n          } else if (Fullscreen.native) {\n            mode = 'Native';\n          } else {\n            mode = 'Fallback';\n          }\n\n          this.player.debug.log(\"\".concat(mode, \" fullscreen enabled\"));\n        } else {\n          this.player.debug.log('Fullscreen not supported and fallback disabled');\n        } // Add styling hook to show button\n\n\n        toggleClass(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled);\n      } // Make an element fullscreen\n\n    }, {\n      key: \"enter\",\n      value: function enter() {\n        if (!this.enabled) {\n          return;\n        } // iOS native fullscreen doesn't need the request step\n\n\n        if (browser.isIos && this.player.config.fullscreen.iosNative) {\n          this.target.webkitEnterFullscreen();\n        } else if (!Fullscreen.native || this.forceFallback) {\n          this.toggleFallback(true);\n        } else if (!this.prefix) {\n          this.target.requestFullscreen({\n            navigationUI: 'hide'\n          });\n        } else if (!is$1.empty(this.prefix)) {\n          this.target[\"\".concat(this.prefix, \"Request\").concat(this.property)]();\n        }\n      } // Bail from fullscreen\n\n    }, {\n      key: \"exit\",\n      value: function exit() {\n        if (!this.enabled) {\n          return;\n        } // iOS native fullscreen\n\n\n        if (browser.isIos && this.player.config.fullscreen.iosNative) {\n          this.target.webkitExitFullscreen();\n          silencePromise(this.player.play());\n        } else if (!Fullscreen.native || this.forceFallback) {\n          this.toggleFallback(false);\n        } else if (!this.prefix) {\n          (document.cancelFullScreen || document.exitFullscreen).call(document);\n        } else if (!is$1.empty(this.prefix)) {\n          var action = this.prefix === 'moz' ? 'Cancel' : 'Exit';\n          document[\"\".concat(this.prefix).concat(action).concat(this.property)]();\n        }\n      } // Toggle state\n\n    }, {\n      key: \"toggle\",\n      value: function toggle() {\n        if (!this.active) {\n          this.enter();\n        } else {\n          this.exit();\n        }\n      }\n    }, {\n      key: \"usingNative\",\n      // If we're actually using native\n      get: function get() {\n        return Fullscreen.native && !this.forceFallback;\n      } // Get the prefix for handlers\n\n    }, {\n      key: \"enabled\",\n      // Determine if fullscreen is enabled\n      get: function get() {\n        return (Fullscreen.native || this.player.config.fullscreen.fallback) && this.player.config.fullscreen.enabled && this.player.supported.ui && this.player.isVideo;\n      } // Get active state\n\n    }, {\n      key: \"active\",\n      get: function get() {\n        if (!this.enabled) {\n          return false;\n        } // Fallback using classname\n\n\n        if (!Fullscreen.native || this.forceFallback) {\n          return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);\n        }\n\n        var element = !this.prefix ? document.fullscreenElement : document[\"\".concat(this.prefix).concat(this.property, \"Element\")];\n        return element && element.shadowRoot ? element === this.target.getRootNode().host : element === this.target;\n      } // Get target element\n\n    }, {\n      key: \"target\",\n      get: function get() {\n        return browser.isIos && this.player.config.fullscreen.iosNative ? this.player.media : this.player.elements.fullscreen || this.player.elements.container;\n      }\n    }], [{\n      key: \"native\",\n      get: function get() {\n        return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n      }\n    }, {\n      key: \"prefix\",\n      get: function get() {\n        // No prefix\n        if (is$1.function(document.exitFullscreen)) {\n          return '';\n        } // Check for fullscreen support by vendor prefix\n\n\n        var value = '';\n        var prefixes = ['webkit', 'moz', 'ms'];\n        prefixes.some(function (pre) {\n          if (is$1.function(document[\"\".concat(pre, \"ExitFullscreen\")]) || is$1.function(document[\"\".concat(pre, \"CancelFullScreen\")])) {\n            value = pre;\n            return true;\n          }\n\n          return false;\n        });\n        return value;\n      }\n    }, {\n      key: \"property\",\n      get: function get() {\n        return this.prefix === 'moz' ? 'FullScreen' : 'Fullscreen';\n      }\n    }]);\n\n    return Fullscreen;\n  }();\n\n  // `Math.sign` method implementation\n  // https://tc39.github.io/ecma262/#sec-math.sign\n  var mathSign = Math.sign || function sign(x) {\n    // eslint-disable-next-line no-self-compare\n    return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n  };\n\n  // `Math.sign` method\n  // https://tc39.github.io/ecma262/#sec-math.sign\n  _export({ target: 'Math', stat: true }, {\n    sign: mathSign\n  });\n\n  // ==========================================================================\n  // Load image avoiding xhr/fetch CORS issues\n  // Server status can't be obtained this way unfortunately, so this uses \"naturalWidth\" to determine if the image has loaded\n  // By default it checks if it is at least 1px, but you can add a second argument to change this\n  // ==========================================================================\n  function loadImage(src) {\n    var minWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return new Promise(function (resolve, reject) {\n      var image = new Image();\n\n      var handler = function handler() {\n        delete image.onload;\n        delete image.onerror;\n        (image.naturalWidth >= minWidth ? resolve : reject)(image);\n      };\n\n      Object.assign(image, {\n        onload: handler,\n        onerror: handler,\n        src: src\n      });\n    });\n  }\n\n  var ui = {\n    addStyleHook: function addStyleHook() {\n      toggleClass(this.elements.container, this.config.selectors.container.replace('.', ''), true);\n      toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);\n    },\n    // Toggle native HTML5 media controls\n    toggleNativeControls: function toggleNativeControls() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (toggle && this.isHTML5) {\n        this.media.setAttribute('controls', '');\n      } else {\n        this.media.removeAttribute('controls');\n      }\n    },\n    // Setup the UI\n    build: function build() {\n      var _this = this;\n\n      // Re-attach media element listeners\n      // TODO: Use event bubbling?\n      this.listeners.media(); // Don't setup interface if no support\n\n      if (!this.supported.ui) {\n        this.debug.warn(\"Basic support only for \".concat(this.provider, \" \").concat(this.type)); // Restore native controls\n\n        ui.toggleNativeControls.call(this, true); // Bail\n\n        return;\n      } // Inject custom controls if not present\n\n\n      if (!is$1.element(this.elements.controls)) {\n        // Inject custom controls\n        controls.inject.call(this); // Re-attach control listeners\n\n        this.listeners.controls();\n      } // Remove native controls\n\n\n      ui.toggleNativeControls.call(this); // Setup captions for HTML5\n\n      if (this.isHTML5) {\n        captions.setup.call(this);\n      } // Reset volume\n\n\n      this.volume = null; // Reset mute state\n\n      this.muted = null; // Reset loop state\n\n      this.loop = null; // Reset quality setting\n\n      this.quality = null; // Reset speed\n\n      this.speed = null; // Reset volume display\n\n      controls.updateVolume.call(this); // Reset time display\n\n      controls.timeUpdate.call(this); // Update the UI\n\n      ui.checkPlaying.call(this); // Check for picture-in-picture support\n\n      toggleClass(this.elements.container, this.config.classNames.pip.supported, support.pip && this.isHTML5 && this.isVideo); // Check for airplay support\n\n      toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5); // Add iOS class\n\n      toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos); // Add touch class\n\n      toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch); // Ready for API calls\n\n      this.ready = true; // Ready event at end of execution stack\n\n      setTimeout(function () {\n        triggerEvent.call(_this, _this.media, 'ready');\n      }, 0); // Set the title\n\n      ui.setTitle.call(this); // Assure the poster image is set, if the property was added before the element was created\n\n      if (this.poster) {\n        ui.setPoster.call(this, this.poster, false).catch(function () {});\n      } // Manually set the duration if user has overridden it.\n      // The event listeners for it doesn't get called if preload is disabled (#701)\n\n\n      if (this.config.duration) {\n        controls.durationUpdate.call(this);\n      }\n    },\n    // Setup aria attribute for play and iframe title\n    setTitle: function setTitle() {\n      // Find the current text\n      var label = i18n.get('play', this.config); // If there's a media title set, use that for the label\n\n      if (is$1.string(this.config.title) && !is$1.empty(this.config.title)) {\n        label += \", \".concat(this.config.title);\n      } // If there's a play button, set label\n\n\n      Array.from(this.elements.buttons.play || []).forEach(function (button) {\n        button.setAttribute('aria-label', label);\n      }); // Set iframe title\n      // https://github.com/sampotts/WassPlayer/issues/124\n\n      if (this.isEmbed) {\n        var iframe = getElement.call(this, 'iframe');\n\n        if (!is$1.element(iframe)) {\n          return;\n        } // Default to media type\n\n\n        var title = !is$1.empty(this.config.title) ? this.config.title : 'video';\n        var format = i18n.get('frameTitle', this.config);\n        iframe.setAttribute('title', format.replace('{title}', title));\n      }\n    },\n    // Toggle poster\n    togglePoster: function togglePoster(enable) {\n      toggleClass(this.elements.container, this.config.classNames.posterEnabled, enable);\n    },\n    // Set the poster image (async)\n    // Used internally for the poster setter, with the passive option forced to false\n    setPoster: function setPoster(poster) {\n      var _this2 = this;\n\n      var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      // Don't override if call is passive\n      if (passive && this.poster) {\n        return Promise.reject(new Error('Poster already set'));\n      } // Set property synchronously to respect the call order\n\n\n      this.media.setAttribute('data-poster', poster); // Wait until ui is ready\n\n      return ready.call(this) // Load image\n      .then(function () {\n        return loadImage(poster);\n      }).catch(function (err) {\n        // Hide poster on error unless it's been set by another call\n        if (poster === _this2.poster) {\n          ui.togglePoster.call(_this2, false);\n        } // Rethrow\n\n\n        throw err;\n      }).then(function () {\n        // Prevent race conditions\n        if (poster !== _this2.poster) {\n          throw new Error('setPoster cancelled by later call to setPoster');\n        }\n      }).then(function () {\n        Object.assign(_this2.elements.poster.style, {\n          backgroundImage: \"url('\".concat(poster, \"')\"),\n          // Reset backgroundSize as well (since it can be set to \"cover\" for padded thumbnails for youtube)\n          backgroundSize: ''\n        });\n        ui.togglePoster.call(_this2, true);\n        return poster;\n      });\n    },\n    // Check playing state\n    checkPlaying: function checkPlaying(event) {\n      var _this3 = this;\n\n      // Class hooks\n      toggleClass(this.elements.container, this.config.classNames.playing, this.playing);\n      toggleClass(this.elements.container, this.config.classNames.paused, this.paused);\n      toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped); // Set state\n\n      Array.from(this.elements.buttons.play || []).forEach(function (target) {\n        Object.assign(target, {\n          pressed: _this3.playing\n        });\n        target.setAttribute('aria-label', i18n.get(_this3.playing ? 'pause' : 'play', _this3.config));\n      }); // Only update controls on non timeupdate events\n\n      if (is$1.event(event) && event.type === 'timeupdate') {\n        return;\n      } // Toggle controls\n\n\n      ui.toggleControls.call(this);\n    },\n    // Check if media is loading\n    checkLoading: function checkLoading(event) {\n      var _this4 = this;\n\n      this.loading = ['stalled', 'waiting'].includes(event.type); // Clear timer\n\n      clearTimeout(this.timers.loading); // Timer to prevent flicker when seeking\n\n      this.timers.loading = setTimeout(function () {\n        // Update progress bar loading class state\n        toggleClass(_this4.elements.container, _this4.config.classNames.loading, _this4.loading); // Update controls visibility\n\n        ui.toggleControls.call(_this4);\n      }, this.loading ? 250 : 0);\n    },\n    // Toggle controls based on state and `force` argument\n    toggleControls: function toggleControls(force) {\n      var controlsElement = this.elements.controls;\n\n      if (controlsElement && this.config.hideControls) {\n        // Don't hide controls if a touch-device user recently seeked. (Must be limited to touch devices, or it occasionally prevents desktop controls from hiding.)\n        var recentTouchSeek = this.touch && this.lastSeekTime + 2000 > Date.now(); // Show controls if force, loading, paused, button interaction, or recent seek, otherwise hide\n\n        this.toggleControls(Boolean(force || this.loading || this.paused || controlsElement.pressed || controlsElement.hover || recentTouchSeek));\n      }\n    },\n    // Migrate any custom properties from the media to the parent\n    migrateStyles: function migrateStyles() {\n      var _this5 = this;\n\n      // Loop through values (as they are the keys when the object is spread )\n      Object.values(_objectSpread2({}, this.media.style)) // We're only fussed about WassPlayer specific properties\n      .filter(function (key) {\n        return !is$1.empty(key) && key.startsWith('--wassPlayer');\n      }).forEach(function (key) {\n        // Set on the container\n        _this5.elements.container.style.setProperty(key, _this5.media.style.getPropertyValue(key)); // Clean up from media element\n\n\n        _this5.media.style.removeProperty(key);\n      }); // Remove attribute if empty\n\n      if (is$1.empty(this.media.style)) {\n        this.media.removeAttribute('style');\n      }\n    }\n  };\n\n  var Listeners = /*#__PURE__*/function () {\n    function Listeners(player) {\n      _classCallCheck(this, Listeners);\n\n      this.player = player;\n      this.lastKey = null;\n      this.focusTimer = null;\n      this.lastKeyDown = null;\n      this.handleKey = this.handleKey.bind(this);\n      this.toggleMenu = this.toggleMenu.bind(this);\n      this.setTabFocus = this.setTabFocus.bind(this);\n      this.firstTouch = this.firstTouch.bind(this);\n    } // Handle key presses\n\n\n    _createClass(Listeners, [{\n      key: \"handleKey\",\n      value: function handleKey(event) {\n        var player = this.player;\n        var elements = player.elements;\n        var code = event.keyCode ? event.keyCode : event.which;\n        var pressed = event.type === 'keydown';\n        var repeat = pressed && code === this.lastKey; // Bail if a modifier key is set\n\n        if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n          return;\n        } // If the event is bubbled from the media element\n        // Firefox doesn't get the keycode for whatever reason\n\n\n        if (!is$1.number(code)) {\n          return;\n        } // Seek by the number keys\n\n\n        var seekByKey = function seekByKey() {\n          // Divide the max duration into 10th's and times by the number value\n          player.currentTime = player.duration / 10 * (code - 48);\n        }; // Handle the key on keydown\n        // Reset on keyup\n\n\n        if (pressed) {\n          // Check focused element\n          // and if the focused element is not editable (e.g. text input)\n          // and any that accept key input http://webaim.org/techniques/keyboard/\n          var focused = document.activeElement;\n\n          if (is$1.element(focused)) {\n            var editable = player.config.selectors.editable;\n            var seek = elements.inputs.seek;\n\n            if (focused !== seek && matches$1(focused, editable)) {\n              return;\n            }\n\n            if (event.which === 32 && matches$1(focused, 'button, [role^=\"menuitem\"]')) {\n              return;\n            }\n          } // Which keycodes should we prevent default\n\n\n          var preventDefault = [32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79]; // If the code is found prevent default (e.g. prevent scrolling for arrows)\n\n          if (preventDefault.includes(code)) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n\n          switch (code) {\n            case 48:\n            case 49:\n            case 50:\n            case 51:\n            case 52:\n            case 53:\n            case 54:\n            case 55:\n            case 56:\n            case 57:\n              // 0-9\n              if (!repeat) {\n                seekByKey();\n              }\n\n              break;\n\n            case 32:\n            case 75:\n              // Space and K key\n              if (!repeat) {\n                silencePromise(player.togglePlay());\n              }\n\n              break;\n\n            case 38:\n              // Arrow up\n              player.increaseVolume(0.1);\n              break;\n\n            case 40:\n              // Arrow down\n              player.decreaseVolume(0.1);\n              break;\n\n            case 77:\n              // M key\n              if (!repeat) {\n                player.muted = !player.muted;\n              }\n\n              break;\n\n            case 39:\n              // Arrow forward\n              player.forward();\n              break;\n\n            case 37:\n              // Arrow back\n              player.rewind();\n              break;\n\n            case 70:\n              // F key\n              player.fullscreen.toggle();\n              break;\n\n            case 67:\n              // C key\n              if (!repeat) {\n                player.toggleCaptions();\n              }\n\n              break;\n\n            case 76:\n              // L key\n              player.loop = !player.loop;\n              break;\n          } // Escape is handle natively when in full screen\n          // So we only need to worry about non native\n\n\n          if (code === 27 && !player.fullscreen.usingNative && player.fullscreen.active) {\n            player.fullscreen.toggle();\n          } // Store last code for next cycle\n\n\n          this.lastKey = code;\n        } else {\n          this.lastKey = null;\n        }\n      } // Toggle menu\n\n    }, {\n      key: \"toggleMenu\",\n      value: function toggleMenu(event) {\n        controls.toggleMenu.call(this.player, event);\n      } // Device is touch enabled\n\n    }, {\n      key: \"firstTouch\",\n      value: function firstTouch() {\n        var player = this.player;\n        var elements = player.elements;\n        player.touch = true; // Add touch class\n\n        toggleClass(elements.container, player.config.classNames.isTouch, true);\n      }\n    }, {\n      key: \"setTabFocus\",\n      value: function setTabFocus(event) {\n        var player = this.player;\n        var elements = player.elements;\n        clearTimeout(this.focusTimer); // Ignore any key other than tab\n\n        if (event.type === 'keydown' && event.which !== 9) {\n          return;\n        } // Store reference to event timeStamp\n\n\n        if (event.type === 'keydown') {\n          this.lastKeyDown = event.timeStamp;\n        } // Remove current classes\n\n\n        var removeCurrent = function removeCurrent() {\n          var className = player.config.classNames.tabFocus;\n          var current = getElements.call(player, \".\".concat(className));\n          toggleClass(current, className, false);\n        }; // Determine if a key was pressed to trigger this event\n\n\n        var wasKeyDown = event.timeStamp - this.lastKeyDown <= 20; // Ignore focus events if a key was pressed prior\n\n        if (event.type === 'focus' && !wasKeyDown) {\n          return;\n        } // Remove all current\n\n\n        removeCurrent(); // Delay the adding of classname until the focus has changed\n        // This event fires before the focusin event\n\n        if (event.type !== 'focusout') {\n          this.focusTimer = setTimeout(function () {\n            var focused = document.activeElement; // Ignore if current focus element isn't inside the player\n\n            if (!elements.container.contains(focused)) {\n              return;\n            }\n\n            toggleClass(document.activeElement, player.config.classNames.tabFocus, true);\n          }, 10);\n        }\n      } // Global window & document listeners\n\n    }, {\n      key: \"global\",\n      value: function global() {\n        var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var player = this.player; // Keyboard shortcuts\n\n        if (player.config.keyboard.global) {\n          toggleListener.call(player, window, 'keydown keyup', this.handleKey, toggle, false);\n        } // Click anywhere closes menu\n\n\n        toggleListener.call(player, document.body, 'click', this.toggleMenu, toggle); // Detect touch by events\n\n        once.call(player, document.body, 'touchstart', this.firstTouch); // Tab focus detection\n\n        toggleListener.call(player, document.body, 'keydown focus blur focusout', this.setTabFocus, toggle, false, true);\n      } // Container listeners\n\n    }, {\n      key: \"container\",\n      value: function container() {\n        var player = this.player;\n        var config = player.config,\n            elements = player.elements,\n            timers = player.timers; // Keyboard shortcuts\n\n        if (!config.keyboard.global && config.keyboard.focused) {\n          on.call(player, elements.container, 'keydown keyup', this.handleKey, false);\n        } // Toggle controls on mouse events and entering fullscreen\n\n\n        on.call(player, elements.container, 'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen', function (event) {\n          var controlsElement = elements.controls; // Remove button states for fullscreen\n\n          if (controlsElement && event.type === 'enterfullscreen') {\n            controlsElement.pressed = false;\n            controlsElement.hover = false;\n          } // Show, then hide after a timeout unless another control event occurs\n\n\n          var show = ['touchstart', 'touchmove', 'mousemove'].includes(event.type);\n          var delay = 0;\n\n          if (show) {\n            ui.toggleControls.call(player, true); // Use longer timeout for touch devices\n\n            delay = player.touch ? 3000 : 2000;\n          } // Clear timer\n\n\n          clearTimeout(timers.controls); // Set new timer to prevent flicker when seeking\n\n          timers.controls = setTimeout(function () {\n            return ui.toggleControls.call(player, false);\n          }, delay);\n        }); // Set a gutter for Vimeo\n\n        var setGutter = function setGutter(ratio, padding, toggle) {\n          if (!player.isVimeo || player.config.vimeo.premium) {\n            return;\n          }\n\n          var target = player.elements.wrapper.firstChild;\n\n          var _ratio = _slicedToArray(ratio, 2),\n              y = _ratio[1];\n\n          var _getAspectRatio$call = getAspectRatio.call(player),\n              _getAspectRatio$call2 = _slicedToArray(_getAspectRatio$call, 2),\n              videoX = _getAspectRatio$call2[0],\n              videoY = _getAspectRatio$call2[1];\n\n          target.style.maxWidth = toggle ? \"\".concat(y / videoY * videoX, \"px\") : null;\n          target.style.margin = toggle ? '0 auto' : null;\n        }; // Resize on fullscreen change\n\n\n        var setPlayerSize = function setPlayerSize(measure) {\n          // If we don't need to measure the viewport\n          if (!measure) {\n            return setAspectRatio.call(player);\n          }\n\n          var rect = elements.container.getBoundingClientRect();\n          var width = rect.width,\n              height = rect.height;\n          return setAspectRatio.call(player, \"\".concat(width, \":\").concat(height));\n        };\n\n        var resized = function resized() {\n          clearTimeout(timers.resized);\n          timers.resized = setTimeout(setPlayerSize, 50);\n        };\n\n        on.call(player, elements.container, 'enterfullscreen exitfullscreen', function (event) {\n          var _player$fullscreen = player.fullscreen,\n              target = _player$fullscreen.target,\n              usingNative = _player$fullscreen.usingNative; // Ignore events not from target\n\n          if (target !== elements.container) {\n            return;\n          } // If it's not an embed and no ratio specified\n\n\n          if (!player.isEmbed && is$1.empty(player.config.ratio)) {\n            return;\n          }\n\n          var isEnter = event.type === 'enterfullscreen'; // Set the player size when entering fullscreen to viewport size\n\n          var _setPlayerSize = setPlayerSize(isEnter),\n              padding = _setPlayerSize.padding,\n              ratio = _setPlayerSize.ratio; // Set Vimeo gutter\n\n\n          setGutter(ratio, padding, isEnter); // If not using native browser fullscreen API, we need to check for resizes of viewport\n\n          if (!usingNative) {\n            if (isEnter) {\n              on.call(player, window, 'resize', resized);\n            } else {\n              off.call(player, window, 'resize', resized);\n            }\n          }\n        });\n      } // Listen for media events\n\n    }, {\n      key: \"media\",\n      value: function media() {\n        var _this = this;\n\n        var player = this.player;\n        var elements = player.elements; // Time change on media\n\n        on.call(player, player.media, 'timeupdate seeking seeked', function (event) {\n          return controls.timeUpdate.call(player, event);\n        }); // Display duration\n\n        on.call(player, player.media, 'durationchange loadeddata loadedmetadata', function (event) {\n          return controls.durationUpdate.call(player, event);\n        }); // Handle the media finishing\n\n        on.call(player, player.media, 'ended', function () {\n          // Show poster on end\n          if (player.isHTML5 && player.isVideo && player.config.resetOnEnd) {\n            // Restart\n            player.restart(); // Call pause otherwise IE11 will start playing the video again\n\n            player.pause();\n          }\n        }); // Check for buffer progress\n\n        on.call(player, player.media, 'progress playing seeking seeked', function (event) {\n          return controls.updateProgress.call(player, event);\n        }); // Handle volume changes\n\n        on.call(player, player.media, 'volumechange', function (event) {\n          return controls.updateVolume.call(player, event);\n        }); // Handle play/pause\n\n        on.call(player, player.media, 'playing play pause ended emptied timeupdate', function (event) {\n          return ui.checkPlaying.call(player, event);\n        }); // Loading state\n\n        on.call(player, player.media, 'waiting canplay seeked playing', function (event) {\n          return ui.checkLoading.call(player, event);\n        }); // Click video\n\n        if (player.supported.ui && player.config.clickToPlay && !player.isAudio) {\n          // Re-fetch the wrapper\n          var wrapper = getElement.call(player, \".\".concat(player.config.classNames.video)); // Bail if there's no wrapper (this should never happen)\n\n          if (!is$1.element(wrapper)) {\n            return;\n          } // On click play, pause or restart\n\n\n          on.call(player, elements.container, 'click', function (event) {\n            var targets = [elements.container, wrapper]; // Ignore if click if not container or in video wrapper\n\n            if (!targets.includes(event.target) && !wrapper.contains(event.target)) {\n              return;\n            } // Touch devices will just show controls (if hidden)\n\n\n            if (player.touch && player.config.hideControls) {\n              return;\n            }\n\n            if (player.ended) {\n              _this.proxy(event, player.restart, 'restart');\n\n              _this.proxy(event, function () {\n                silencePromise(player.play());\n              }, 'play');\n            } else {\n              _this.proxy(event, function () {\n                silencePromise(player.togglePlay());\n              }, 'play');\n            }\n          });\n        } // Disable right click\n\n\n        if (player.supported.ui && player.config.disableContextMenu) {\n          on.call(player, elements.wrapper, 'contextmenu', function (event) {\n            event.preventDefault();\n          }, false);\n        } // Volume change\n\n\n        on.call(player, player.media, 'volumechange', function () {\n          // Save to storage\n          player.storage.set({\n            volume: player.volume,\n            muted: player.muted\n          });\n        }); // Speed change\n\n        on.call(player, player.media, 'ratechange', function () {\n          // Update UI\n          controls.updateSetting.call(player, 'speed'); // Save to storage\n\n\n          player.storage.set({\n            speed: player.speed\n          });\n        }); // Quality change\n\n        on.call(player, player.media, 'qualitychange', function (event) {\n          // Update UI\n          controls.updateSetting.call(player, 'quality', null, event.detail.quality);\n        }); // Update download link when ready and if quality changes\n\n        on.call(player, player.media, 'ready qualitychange', function () {\n          controls.setDownloadUrl.call(player);\n        }); // Proxy events to container\n        // Bubble up key events for Edge\n\n        var proxyEvents = player.config.events.concat(['keyup', 'keydown']).join(' ');\n        on.call(player, player.media, proxyEvents, function (event) {\n          var _event$detail = event.detail,\n              detail = _event$detail === void 0 ? {} : _event$detail; // Get error details from media\n\n          if (event.type === 'error') {\n            detail = player.media.error;\n          }\n\n          triggerEvent.call(player, elements.container, event.type, true, detail);\n        });\n      } // Run default and custom handlers\n\n    }, {\n      key: \"proxy\",\n      value: function proxy(event, defaultHandler, customHandlerKey) {\n        var player = this.player;\n        var customHandler = player.config.listeners[customHandlerKey];\n        var hasCustomHandler = is$1.function(customHandler);\n        var returned = true; // Execute custom handler\n\n        if (hasCustomHandler) {\n          returned = customHandler.call(player, event);\n        } // Only call default handler if not prevented in custom handler\n\n\n        if (returned !== false && is$1.function(defaultHandler)) {\n          defaultHandler.call(player, event);\n        }\n      } // Trigger custom and default handlers\n\n    }, {\n      key: \"bind\",\n      value: function bind(element, type, defaultHandler, customHandlerKey) {\n        var _this2 = this;\n\n        var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n        var player = this.player;\n        var customHandler = player.config.listeners[customHandlerKey];\n        var hasCustomHandler = is$1.function(customHandler);\n        on.call(player, element, type, function (event) {\n          return _this2.proxy(event, defaultHandler, customHandlerKey);\n        }, passive && !hasCustomHandler);\n      } // Listen for control events\n\n    }, {\n      key: \"controls\",\n      value: function controls$1() {\n        var _this3 = this;\n\n        var player = this.player;\n        var elements = player.elements; // IE doesn't support input event, so we fallback to change\n\n        var inputEvent = browser.isIE ? 'change' : 'input'; // Play/pause toggle\n\n        if (elements.buttons.play) {\n          Array.from(elements.buttons.play).forEach(function (button) {\n            _this3.bind(button, 'click', function () {\n              silencePromise(player.togglePlay());\n            }, 'play');\n          });\n        } // Pause\n\n\n        this.bind(elements.buttons.restart, 'click', player.restart, 'restart'); // Rewind\n\n        this.bind(elements.buttons.rewind, 'click', player.rewind, 'rewind'); // Rewind\n\n        this.bind(elements.buttons.fastForward, 'click', player.forward, 'fastForward'); // Mute toggle\n\n        this.bind(elements.buttons.mute, 'click', function () {\n          player.muted = !player.muted;\n        }, 'mute'); // Captions toggle\n\n        this.bind(elements.buttons.captions, 'click', function () {\n          return player.toggleCaptions();\n        }); // Download\n\n        this.bind(elements.buttons.download, 'click', function () {\n          triggerEvent.call(player, player.media, 'download');\n        }, 'download'); // Fullscreen toggle\n\n        this.bind(elements.buttons.fullscreen, 'click', function () {\n          player.fullscreen.toggle();\n        }, 'fullscreen'); // Picture-in-Picture\n\n        this.bind(elements.buttons.pip, 'click', function () {\n          player.pip = 'toggle';\n        }, 'pip'); // Airplay\n\n        this.bind(elements.buttons.airplay, 'click', player.airplay, 'airplay'); // Settings menu - click toggle\n\n        this.bind(elements.buttons.settings, 'click', function (event) {\n          // Prevent the document click listener closing the menu\n          event.stopPropagation();\n          event.preventDefault();\n\n          controls.toggleMenu.call(player, event);\n        }, null, false); // Can't be passive as we're preventing default\n        // Settings menu - keyboard toggle\n        // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n\n        this.bind(elements.buttons.settings, 'keyup', function (event) {\n          var code = event.which; // We only care about space and return\n\n          if (![13, 32].includes(code)) {\n            return;\n          } // Because return triggers a click anyway, all we need to do is set focus\n\n\n          if (code === 13) {\n            controls.focusFirstMenuItem.call(player, null, true);\n\n            return;\n          } // Prevent scroll\n\n\n          event.preventDefault(); // Prevent playing video (Firefox)\n\n          event.stopPropagation(); // Toggle menu\n\n          controls.toggleMenu.call(player, event);\n        }, null, false // Can't be passive as we're preventing default\n        ); // Escape closes menu\n\n        this.bind(elements.settings.menu, 'keydown', function (event) {\n          if (event.which === 27) {\n            controls.toggleMenu.call(player, event);\n          }\n        }); // Set range input alternative \"value\", which matches the tooltip time (#954)\n\n        this.bind(elements.inputs.seek, 'mousedown mousemove', function (event) {\n          var rect = elements.progress.getBoundingClientRect();\n          var percent = 100 / rect.width * (event.pageX - rect.left);\n          event.currentTarget.setAttribute('seek-value', percent);\n        }); // Pause while seeking\n\n        this.bind(elements.inputs.seek, 'mousedown mouseup keydown keyup touchstart touchend', function (event) {\n          var seek = event.currentTarget;\n          var code = event.keyCode ? event.keyCode : event.which;\n          var attribute = 'play-on-seeked';\n\n          if (is$1.keyboardEvent(event) && code !== 39 && code !== 37) {\n            return;\n          } // Record seek time so we can prevent hiding controls for a few seconds after seek\n\n\n          player.lastSeekTime = Date.now(); // Was playing before?\n\n          var play = seek.hasAttribute(attribute); // Done seeking\n\n          var done = ['mouseup', 'touchend', 'keyup'].includes(event.type); // If we're done seeking and it was playing, resume playback\n\n          if (play && done) {\n            seek.removeAttribute(attribute);\n            silencePromise(player.play());\n          } else if (!done && player.playing) {\n            seek.setAttribute(attribute, '');\n            player.pause();\n          }\n        }); // Fix range inputs on iOS\n        // Super weird iOS bug where after you interact with an <input type=\"range\">,\n        // it takes over further interactions on the page. This is a hack\n\n        if (browser.isIos) {\n          var inputs = getElements.call(player, 'input[type=\"range\"]');\n          Array.from(inputs).forEach(function (input) {\n            return _this3.bind(input, inputEvent, function (event) {\n              return repaint(event.target);\n            });\n          });\n        } // Seek\n\n\n        this.bind(elements.inputs.seek, inputEvent, function (event) {\n          var seek = event.currentTarget; // If it exists, use seek-value instead of \"value\" for consistency with tooltip time (#954)\n\n          var seekTo = seek.getAttribute('seek-value');\n\n          if (is$1.empty(seekTo)) {\n            seekTo = seek.value;\n          }\n\n          seek.removeAttribute('seek-value');\n          player.currentTime = seekTo / seek.max * player.duration;\n        }, 'seek'); // Seek tooltip\n\n        this.bind(elements.progress, 'mouseenter mouseleave mousemove', function (event) {\n          return controls.updateSeekTooltip.call(player, event);\n        }); // Preview thumbnails plugin\n\n        this.bind(elements.progress, 'mousemove touchmove', function (event) {\n          var previewThumbnails = player.previewThumbnails;\n\n          if (previewThumbnails && previewThumbnails.loaded) {\n            previewThumbnails.startMove(event);\n          }\n        }); // Hide thumbnail preview - on mouse click, mouse leave, and video play/seek. All four are required, e.g., for buffering\n\n        this.bind(elements.progress, 'mouseleave touchend click', function () {\n          var previewThumbnails = player.previewThumbnails;\n\n          if (previewThumbnails && previewThumbnails.loaded) {\n            previewThumbnails.endMove(false, true);\n          }\n        }); // Show scrubbing preview\n\n        this.bind(elements.progress, 'mousedown touchstart', function (event) {\n          var previewThumbnails = player.previewThumbnails;\n\n          if (previewThumbnails && previewThumbnails.loaded) {\n            previewThumbnails.startScrubbing(event);\n          }\n        });\n        this.bind(elements.progress, 'mouseup touchend', function (event) {\n          var previewThumbnails = player.previewThumbnails;\n\n          if (previewThumbnails && previewThumbnails.loaded) {\n            previewThumbnails.endScrubbing(event);\n          }\n        }); // Polyfill for lower fill in <input type=\"range\"> for webkit\n\n        if (browser.isWebkit) {\n          Array.from(getElements.call(player, 'input[type=\"range\"]')).forEach(function (element) {\n            _this3.bind(element, 'input', function (event) {\n              return controls.updateRangeFill.call(player, event.target);\n            });\n          });\n        } // Current time invert\n        // Only if one time element is used for both currentTime and duration\n\n\n        if (player.config.toggleInvert && !is$1.element(elements.display.duration)) {\n          this.bind(elements.display.currentTime, 'click', function () {\n            // Do nothing if we're at the start\n            if (player.currentTime === 0) {\n              return;\n            }\n\n            player.config.invertTime = !player.config.invertTime;\n\n            controls.timeUpdate.call(player);\n          });\n        } // Volume\n\n\n        this.bind(elements.inputs.volume, inputEvent, function (event) {\n          player.volume = event.target.value;\n        }, 'volume'); // Update controls.hover state (used for ui.toggleControls to avoid hiding when interacting)\n\n        this.bind(elements.controls, 'mouseenter mouseleave', function (event) {\n          elements.controls.hover = !player.touch && event.type === 'mouseenter';\n        }); // Also update controls.hover state for any non-player children of fullscreen element (as above)\n\n        if (elements.fullscreen) {\n          Array.from(elements.fullscreen.children).filter(function (c) {\n            return !c.contains(elements.container);\n          }).forEach(function (child) {\n            _this3.bind(child, 'mouseenter mouseleave', function (event) {\n              elements.controls.hover = !player.touch && event.type === 'mouseenter';\n            });\n          });\n        } // Update controls.pressed state (used for ui.toggleControls to avoid hiding when interacting)\n\n\n        this.bind(elements.controls, 'mousedown mouseup touchstart touchend touchcancel', function (event) {\n          elements.controls.pressed = ['mousedown', 'touchstart'].includes(event.type);\n        }); // Show controls when they receive focus (e.g., when using keyboard tab key)\n\n        this.bind(elements.controls, 'focusin', function () {\n          var config = player.config,\n              timers = player.timers; // Skip transition to prevent focus from scrolling the parent element\n\n          toggleClass(elements.controls, config.classNames.noTransition, true); // Toggle\n\n          ui.toggleControls.call(player, true); // Restore transition\n\n          setTimeout(function () {\n            toggleClass(elements.controls, config.classNames.noTransition, false);\n          }, 0); // Delay a little more for mouse users\n\n          var delay = _this3.touch ? 3000 : 4000; // Clear timer\n\n          clearTimeout(timers.controls); // Hide again after delay\n\n          timers.controls = setTimeout(function () {\n            return ui.toggleControls.call(player, false);\n          }, delay);\n        }); // Mouse wheel for volume\n\n        this.bind(elements.inputs.volume, 'wheel', function (event) {\n          // Detect \"natural\" scroll - suppored on OS X Safari only\n          // Other browsers on OS X will be inverted until support improves\n          var inverted = event.webkitDirectionInvertedFromDevice; // Get delta from event. Invert if `inverted` is true\n\n          var _map = [event.deltaX, -event.deltaY].map(function (value) {\n            return inverted ? -value : value;\n          }),\n              _map2 = _slicedToArray(_map, 2),\n              x = _map2[0],\n              y = _map2[1]; // Using the biggest delta, normalize to 1 or -1 (or 0 if no delta)\n\n\n          var direction = Math.sign(Math.abs(x) > Math.abs(y) ? x : y); // Change the volume by 2%\n\n          player.increaseVolume(direction / 50); // Don't break page scrolling at max and min\n\n          var volume = player.media.volume;\n\n          if (direction === 1 && volume < 1 || direction === -1 && volume > 0) {\n            event.preventDefault();\n          }\n        }, 'volume', false);\n      }\n    }]);\n\n    return Listeners;\n  }();\n\n  var media = {\n    // Setup media\n    setup: function setup() {\n      // If there's no media, bail\n      if (!this.media) {\n        this.debug.warn('No media element found!');\n        return;\n      } // Add type class\n\n\n      toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', this.type), true); // Add provider class\n\n      toggleClass(this.elements.container, this.config.classNames.provider.replace('{0}', this.provider), true); // Add video class for embeds\n      // This will require changes if audio embeds are added\n\n      if (this.isEmbed) {\n        toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', 'video'), true);\n      } // Inject the player wrapper\n\n\n      if (this.isVideo) {\n        // Create the wrapper div\n        this.elements.wrapper = createElement('div', {\n          class: this.config.classNames.video\n        }); // Wrap the video in a container\n\n        wrap$1(this.media, this.elements.wrapper); // Poster image container\n\n        this.elements.poster = createElement('div', {\n          class: this.config.classNames.poster\n        });\n        this.elements.wrapper.appendChild(this.elements.poster);\n      }\n\n      if (this.isHTML5) {\n        html5.setup.call(this);\n      }\n    }\n  };\n\n  var $findIndex = arrayIteration.findIndex;\n\n\n\n  var FIND_INDEX = 'findIndex';\n  var SKIPS_HOLES$1 = true;\n\n  var USES_TO_LENGTH$a = arrayMethodUsesToLength(FIND_INDEX);\n\n  // Shouldn't skip holes\n  if (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES$1 = false; });\n\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 || !USES_TO_LENGTH$a }, {\n    findIndex: function findIndex(callbackfn /* , that = undefined */) {\n      return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND_INDEX);\n\n  var min$5 = Math.min;\n  var nativeLastIndexOf = [].lastIndexOf;\n  var NEGATIVE_ZERO$1 = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\n  var STRICT_METHOD$6 = arrayMethodIsStrict('lastIndexOf');\n  // For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\n  var USES_TO_LENGTH$b = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n  var FORCED$5 = NEGATIVE_ZERO$1 || !STRICT_METHOD$6 || !USES_TO_LENGTH$b;\n\n  // `Array.prototype.lastIndexOf` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n  var arrayLastIndexOf = FORCED$5 ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO$1) return nativeLastIndexOf.apply(this, arguments) || 0;\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = min$5(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n    return -1;\n  } : nativeLastIndexOf;\n\n  // `Array.prototype.lastIndexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n  _export({ target: 'Array', proto: true, forced: arrayLastIndexOf !== [].lastIndexOf }, {\n    lastIndexOf: arrayLastIndexOf\n  });\n\n  var parseVtt = function parseVtt(vttDataString) {\n    var processedList = [];\n    var frames = vttDataString.split(/\\r\\n\\r\\n|\\n\\n|\\r\\r/);\n    frames.forEach(function (frame) {\n      var result = {};\n      var lines = frame.split(/\\r\\n|\\n|\\r/);\n      lines.forEach(function (line) {\n        if (!is$1.number(result.startTime)) {\n          // The line with start and end times on it is the first line of interest\n          var matchTimes = line.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/); // Note that this currently ignores caption formatting directives that are optionally on the end of this line - fine for non-captions VTT\n\n          if (matchTimes) {\n            result.startTime = Number(matchTimes[1] || 0) * 60 * 60 + Number(matchTimes[2]) * 60 + Number(matchTimes[3]) + Number(\"0.\".concat(matchTimes[4]));\n            result.endTime = Number(matchTimes[6] || 0) * 60 * 60 + Number(matchTimes[7]) * 60 + Number(matchTimes[8]) + Number(\"0.\".concat(matchTimes[9]));\n          }\n        } else if (!is$1.empty(line.trim()) && is$1.empty(result.text)) {\n          // If we already have the startTime, then we're definitely up to the text line(s)\n          var lineSplit = line.trim().split('#xywh=');\n\n          var _lineSplit = _slicedToArray(lineSplit, 1);\n\n          result.text = _lineSplit[0];\n\n          // If there's content in lineSplit[1], then we have sprites. If not, then it's just one frame per image\n          if (lineSplit[1]) {\n            var _lineSplit$1$split = lineSplit[1].split(',');\n\n            var _lineSplit$1$split2 = _slicedToArray(_lineSplit$1$split, 4);\n\n            result.x = _lineSplit$1$split2[0];\n            result.y = _lineSplit$1$split2[1];\n            result.w = _lineSplit$1$split2[2];\n            result.h = _lineSplit$1$split2[3];\n          }\n        }\n      });\n\n      if (result.text) {\n        processedList.push(result);\n      }\n    });\n    return processedList;\n  };\n\n  var fitRatio = function fitRatio(ratio, outer) {\n    var targetRatio = outer.width / outer.height;\n    var result = {};\n\n    if (ratio > targetRatio) {\n      result.width = outer.width;\n      result.height = 1 / ratio * outer.width;\n    } else {\n      result.height = outer.height;\n      result.width = ratio * outer.height;\n    }\n\n    return result;\n  };\n\n  var PreviewThumbnails = /*#__PURE__*/function () {\n    /**\n     * PreviewThumbnails constructor.\n     * @param {wassPlayer} player\n     * @return {PreviewThumbnails}\n     */\n    function PreviewThumbnails(player) {\n      _classCallCheck(this, PreviewThumbnails);\n\n      this.player = player;\n      this.thumbnails = [];\n      this.loaded = false;\n      this.lastMouseMoveTime = Date.now();\n      this.mouseDown = false;\n      this.loadedImages = [];\n      this.elements = {\n        thumb: {},\n        scrubbing: {}\n      };\n      this.load();\n    }\n\n    _createClass(PreviewThumbnails, [{\n      key: \"load\",\n      value: function load() {\n        var _this = this;\n\n        // Toggle the regular seek tooltip\n        if (this.player.elements.display.seekTooltip) {\n          this.player.elements.display.seekTooltip.hidden = this.enabled;\n        }\n\n        if (!this.enabled) {\n          return;\n        }\n\n        this.getThumbnails().then(function () {\n          if (!_this.enabled) {\n            return;\n          } // Render DOM elements\n\n\n          _this.render(); // Check to see if thumb container size was specified manually in CSS\n\n\n          _this.determineContainerAutoSizing();\n\n          _this.loaded = true;\n        });\n      } // Download VTT files and parse them\n\n    }, {\n      key: \"getThumbnails\",\n      value: function getThumbnails() {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n          var src = _this2.player.config.previewThumbnails.src;\n\n          if (is$1.empty(src)) {\n            throw new Error('Missing previewThumbnails.src config attribute');\n          } // Resolve promise\n\n\n          var sortAndResolve = function sortAndResolve() {\n            // Sort smallest to biggest (e.g., [120p, 480p, 1080p])\n            _this2.thumbnails.sort(function (x, y) {\n              return x.height - y.height;\n            });\n\n            _this2.player.debug.log('Preview thumbnails', _this2.thumbnails);\n\n            resolve();\n          }; // Via callback()\n\n\n          if (is$1.function(src)) {\n            src(function (thumbnails) {\n              _this2.thumbnails = thumbnails;\n              sortAndResolve();\n            });\n          } // VTT urls\n          else {\n              // If string, convert into single-element list\n              var urls = is$1.string(src) ? [src] : src; // Loop through each src URL. Download and process the VTT file, storing the resulting data in this.thumbnails\n\n              var promises = urls.map(function (u) {\n                return _this2.getThumbnail(u);\n              }); // Resolve\n\n              Promise.all(promises).then(sortAndResolve);\n            }\n        });\n      } // Process individual VTT file\n\n    }, {\n      key: \"getThumbnail\",\n      value: function getThumbnail(url) {\n        var _this3 = this;\n\n        return new Promise(function (resolve) {\n          fetch(url).then(function (response) {\n            var thumbnail = {\n              frames: parseVtt(response),\n              height: null,\n              urlPrefix: ''\n            };\n\n            if (!thumbnail.frames[0].text.startsWith('/') && !thumbnail.frames[0].text.startsWith('http://') && !thumbnail.frames[0].text.startsWith('https://')) {\n              thumbnail.urlPrefix = url.substring(0, url.lastIndexOf('/') + 1);\n            } // Download the first frame, so that we can determine/set the height of this thumbnailsDef\n\n\n            var tempImage = new Image();\n\n            tempImage.onload = function () {\n              thumbnail.height = tempImage.naturalHeight;\n              thumbnail.width = tempImage.naturalWidth;\n\n              _this3.thumbnails.push(thumbnail);\n\n              resolve();\n            };\n\n            tempImage.src = thumbnail.urlPrefix + thumbnail.frames[0].text;\n          });\n        });\n      }\n    }, {\n      key: \"startMove\",\n      value: function startMove(event) {\n        if (!this.loaded) {\n          return;\n        }\n\n        if (!is$1.event(event) || !['touchmove', 'mousemove'].includes(event.type)) {\n          return;\n        } // Wait until media has a duration\n\n\n        if (!this.player.media.duration) {\n          return;\n        }\n\n        if (event.type === 'touchmove') {\n          // Calculate seek hover position as approx video seconds\n          this.seekTime = this.player.media.duration * (this.player.elements.inputs.seek.value / 100);\n        } else {\n          // Calculate seek hover position as approx video seconds\n          var clientRect = this.player.elements.progress.getBoundingClientRect();\n          var percentage = 100 / clientRect.width * (event.pageX - clientRect.left);\n          this.seekTime = this.player.media.duration * (percentage / 100);\n\n          if (this.seekTime < 0) {\n            // The mousemove fires for 10+px out to the left\n            this.seekTime = 0;\n          }\n\n          if (this.seekTime > this.player.media.duration - 1) {\n            // Took 1 second off the duration for safety, because different players can disagree on the real duration of a video\n            this.seekTime = this.player.media.duration - 1;\n          }\n\n          this.mousePosX = event.pageX; // Set time text inside image container\n\n          this.elements.thumb.time.innerText = formatTime(this.seekTime);\n        } // Download and show image\n\n\n        this.showImageAtCurrentTime();\n      }\n    }, {\n      key: \"endMove\",\n      value: function endMove() {\n        this.toggleThumbContainer(false, true);\n      }\n    }, {\n      key: \"startScrubbing\",\n      value: function startScrubbing(event) {\n        // Only act on left mouse button (0), or touch device (event.button does not exist or is false)\n        if (is$1.nullOrUndefined(event.button) || event.button === false || event.button === 0) {\n          this.mouseDown = true; // Wait until media has a duration\n\n          if (this.player.media.duration) {\n            this.toggleScrubbingContainer(true);\n            this.toggleThumbContainer(false, true); // Download and show image\n\n            this.showImageAtCurrentTime();\n          }\n        }\n      }\n    }, {\n      key: \"endScrubbing\",\n      value: function endScrubbing() {\n        var _this4 = this;\n\n        this.mouseDown = false; // Hide scrubbing preview. But wait until the video has successfully seeked before hiding the scrubbing preview\n\n        if (Math.ceil(this.lastTime) === Math.ceil(this.player.media.currentTime)) {\n          // The video was already seeked/loaded at the chosen time - hide immediately\n          this.toggleScrubbingContainer(false);\n        } else {\n          // The video hasn't seeked yet. Wait for that\n          once.call(this.player, this.player.media, 'timeupdate', function () {\n            // Re-check mousedown - we might have already started scrubbing again\n            if (!_this4.mouseDown) {\n              _this4.toggleScrubbingContainer(false);\n            }\n          });\n        }\n      }\n      /**\n       * Setup hooks for wassPlayer and window events\n       */\n\n    }, {\n      key: \"listeners\",\n      value: function listeners() {\n        var _this5 = this;\n\n        this.player.on('play', function () {\n          _this5.toggleThumbContainer(false, true);\n        });\n        this.player.on('seeked', function () {\n          _this5.toggleThumbContainer(false);\n        });\n        this.player.on('timeupdate', function () {\n          _this5.lastTime = _this5.player.media.currentTime;\n        });\n      }\n      /**\n       * Create HTML elements for image containers\n       */\n\n    }, {\n      key: \"render\",\n      value: function render() {\n        // Create HTML element: wassPlayer__preview-thumbnail-container\n        this.elements.thumb.container = createElement('div', {\n          class: this.player.config.classNames.previewThumbnails.thumbContainer\n        }); // Wrapper for the image for styling\n\n        this.elements.thumb.imageContainer = createElement('div', {\n          class: this.player.config.classNames.previewThumbnails.imageContainer\n        });\n        this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer); // Create HTML element, parent+span: time text (e.g., 01:32:00)\n\n        var timeContainer = createElement('div', {\n          class: this.player.config.classNames.previewThumbnails.timeContainer\n        });\n        this.elements.thumb.time = createElement('span', {}, '00:00');\n        timeContainer.appendChild(this.elements.thumb.time);\n        this.elements.thumb.container.appendChild(timeContainer); // Inject the whole thumb\n\n        if (is$1.element(this.player.elements.progress)) {\n          this.player.elements.progress.appendChild(this.elements.thumb.container);\n        } // Create HTML element: wassPlayer__preview-scrubbing-container\n\n\n        this.elements.scrubbing.container = createElement('div', {\n          class: this.player.config.classNames.previewThumbnails.scrubbingContainer\n        });\n        this.player.elements.wrapper.appendChild(this.elements.scrubbing.container);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.elements.thumb.container) {\n          this.elements.thumb.container.remove();\n        }\n\n        if (this.elements.scrubbing.container) {\n          this.elements.scrubbing.container.remove();\n        }\n      }\n    }, {\n      key: \"showImageAtCurrentTime\",\n      value: function showImageAtCurrentTime() {\n        var _this6 = this;\n\n        if (this.mouseDown) {\n          this.setScrubbingContainerSize();\n        } else {\n          this.setThumbContainerSizeAndPos();\n        } // Find the desired thumbnail index\n\n\n        var thumbNum = this.thumbnails[0].frames.findIndex(function (frame) {\n          return _this6.seekTime >= frame.startTime && _this6.seekTime <= frame.endTime;\n        });\n        var hasThumb = thumbNum >= 0;\n        var qualityIndex = 0; // Show the thumb container if we're not scrubbing\n\n        if (!this.mouseDown) {\n          this.toggleThumbContainer(hasThumb);\n        } // No matching thumb found\n\n\n        if (!hasThumb) {\n          return;\n        } // Check to see if we've already downloaded higher quality versions of this image\n\n\n        this.thumbnails.forEach(function (thumbnail, index) {\n          if (_this6.loadedImages.includes(thumbnail.frames[thumbNum].text)) {\n            qualityIndex = index;\n          }\n        }); // Only proceed if either thumbnum or thumbfilename has changed\n\n        if (thumbNum !== this.showingThumb) {\n          this.showingThumb = thumbNum;\n          this.loadImage(qualityIndex);\n        }\n      } // Show the image that's currently specified in this.showingThumb\n\n    }, {\n      key: \"loadImage\",\n      value: function loadImage() {\n        var _this7 = this;\n\n        var qualityIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var thumbNum = this.showingThumb;\n        var thumbnail = this.thumbnails[qualityIndex];\n        var urlPrefix = thumbnail.urlPrefix;\n        var frame = thumbnail.frames[thumbNum];\n        var thumbFilename = thumbnail.frames[thumbNum].text;\n        var thumbUrl = urlPrefix + thumbFilename;\n\n        if (!this.currentImageElement || this.currentImageElement.dataset.filename !== thumbFilename) {\n          if (this.loadingImage && this.usingSprites) {\n            this.loadingImage.onload = null;\n          }\n\n          var previewImage = new Image();\n          previewImage.src = thumbUrl;\n          previewImage.dataset.index = thumbNum;\n          previewImage.dataset.filename = thumbFilename;\n          this.showingThumbFilename = thumbFilename;\n          this.player.debug.log(\"Loading image: \".concat(thumbUrl)); // For some reason, passing the named function directly causes it to execute immediately. So I've wrapped it in an anonymous function...\n\n          previewImage.onload = function () {\n            return _this7.showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename, true);\n          };\n\n          this.loadingImage = previewImage;\n          this.removeOldImages(previewImage);\n        } else {\n          // Update the existing image\n          this.showImage(this.currentImageElement, frame, qualityIndex, thumbNum, thumbFilename, false);\n          this.currentImageElement.dataset.index = thumbNum;\n          this.removeOldImages(this.currentImageElement);\n        }\n      }\n    }, {\n      key: \"showImage\",\n      value: function showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename) {\n        var newImage = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n        this.player.debug.log(\"Showing thumb: \".concat(thumbFilename, \". num: \").concat(thumbNum, \". qual: \").concat(qualityIndex, \". newimg: \").concat(newImage));\n        this.setImageSizeAndOffset(previewImage, frame);\n\n        if (newImage) {\n          this.currentImageContainer.appendChild(previewImage);\n          this.currentImageElement = previewImage;\n\n          if (!this.loadedImages.includes(thumbFilename)) {\n            this.loadedImages.push(thumbFilename);\n          }\n        }\n\n        this.preloadNearby(thumbNum, true).then(this.preloadNearby(thumbNum, false)).then(this.getHigherQuality(qualityIndex, previewImage, frame, thumbFilename));\n      } // Remove all preview images that aren't the designated current image\n\n    }, {\n      key: \"removeOldImages\",\n      value: function removeOldImages(currentImage) {\n        var _this8 = this;\n\n        // Get a list of all images, convert it from a DOM list to an array\n        Array.from(this.currentImageContainer.children).forEach(function (image) {\n          if (image.tagName.toLowerCase() !== 'img') {\n            return;\n          }\n\n          var removeDelay = _this8.usingSprites ? 500 : 1000;\n\n          if (image.dataset.index !== currentImage.dataset.index && !image.dataset.deleting) {\n            // eslint-disable-next-line no-param-reassign\n            image.dataset.deleting = true; // This has to be set before the timeout - to prevent issues switching between hover and scrub\n\n            var currentImageContainer = _this8.currentImageContainer;\n            setTimeout(function () {\n              currentImageContainer.removeChild(image);\n\n              _this8.player.debug.log(\"Removing thumb: \".concat(image.dataset.filename));\n            }, removeDelay);\n          }\n        });\n      } // Preload images before and after the current one. Only if the user is still hovering/seeking the same frame\n      // This will only preload the lowest quality\n\n    }, {\n      key: \"preloadNearby\",\n      value: function preloadNearby(thumbNum) {\n        var _this9 = this;\n\n        var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return new Promise(function (resolve) {\n          setTimeout(function () {\n            var oldThumbFilename = _this9.thumbnails[0].frames[thumbNum].text;\n\n            if (_this9.showingThumbFilename === oldThumbFilename) {\n              // Find the nearest thumbs with different filenames. Sometimes it'll be the next index, but in the case of sprites, it might be 100+ away\n              var thumbnailsClone;\n\n              if (forward) {\n                thumbnailsClone = _this9.thumbnails[0].frames.slice(thumbNum);\n              } else {\n                thumbnailsClone = _this9.thumbnails[0].frames.slice(0, thumbNum).reverse();\n              }\n\n              var foundOne = false;\n              thumbnailsClone.forEach(function (frame) {\n                var newThumbFilename = frame.text;\n\n                if (newThumbFilename !== oldThumbFilename) {\n                  // Found one with a different filename. Make sure it hasn't already been loaded on this page visit\n                  if (!_this9.loadedImages.includes(newThumbFilename)) {\n                    foundOne = true;\n\n                    _this9.player.debug.log(\"Preloading thumb filename: \".concat(newThumbFilename));\n\n                    var urlPrefix = _this9.thumbnails[0].urlPrefix;\n                    var thumbURL = urlPrefix + newThumbFilename;\n                    var previewImage = new Image();\n                    previewImage.src = thumbURL;\n\n                    previewImage.onload = function () {\n                      _this9.player.debug.log(\"Preloaded thumb filename: \".concat(newThumbFilename));\n\n                      if (!_this9.loadedImages.includes(newThumbFilename)) _this9.loadedImages.push(newThumbFilename); // We don't resolve until the thumb is loaded\n\n                      resolve();\n                    };\n                  }\n                }\n              }); // If there are none to preload then we want to resolve immediately\n\n              if (!foundOne) {\n                resolve();\n              }\n            }\n          }, 300);\n        });\n      } // If user has been hovering current image for half a second, look for a higher quality one\n\n    }, {\n      key: \"getHigherQuality\",\n      value: function getHigherQuality(currentQualityIndex, previewImage, frame, thumbFilename) {\n        var _this10 = this;\n\n        if (currentQualityIndex < this.thumbnails.length - 1) {\n          // Only use the higher quality version if it's going to look any better - if the current thumb is of a lower pixel density than the thumbnail container\n          var previewImageHeight = previewImage.naturalHeight;\n\n          if (this.usingSprites) {\n            previewImageHeight = frame.h;\n          }\n\n          if (previewImageHeight < this.thumbContainerHeight) {\n            // Recurse back to the loadImage function - show a higher quality one, but only if the viewer is on this frame for a while\n            setTimeout(function () {\n              // Make sure the mouse hasn't already moved on and started hovering at another image\n              if (_this10.showingThumbFilename === thumbFilename) {\n                _this10.player.debug.log(\"Showing higher quality thumb for: \".concat(thumbFilename));\n\n                _this10.loadImage(currentQualityIndex + 1);\n              }\n            }, 300);\n          }\n        }\n      }\n    }, {\n      key: \"toggleThumbContainer\",\n      value: function toggleThumbContainer() {\n        var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var clearShowing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var className = this.player.config.classNames.previewThumbnails.thumbContainerShown;\n        this.elements.thumb.container.classList.toggle(className, toggle);\n\n        if (!toggle && clearShowing) {\n          this.showingThumb = null;\n          this.showingThumbFilename = null;\n        }\n      }\n    }, {\n      key: \"toggleScrubbingContainer\",\n      value: function toggleScrubbingContainer() {\n        var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var className = this.player.config.classNames.previewThumbnails.scrubbingContainerShown;\n        this.elements.scrubbing.container.classList.toggle(className, toggle);\n\n        if (!toggle) {\n          this.showingThumb = null;\n          this.showingThumbFilename = null;\n        }\n      }\n    }, {\n      key: \"determineContainerAutoSizing\",\n      value: function determineContainerAutoSizing() {\n        if (this.elements.thumb.imageContainer.clientHeight > 20 || this.elements.thumb.imageContainer.clientWidth > 20) {\n          // This will prevent auto sizing in this.setThumbContainerSizeAndPos()\n          this.sizeSpecifiedInCSS = true;\n        }\n      } // Set the size to be about a quarter of the size of video. Unless option dynamicSize === false, in which case it needs to be set in CSS\n\n    }, {\n      key: \"setThumbContainerSizeAndPos\",\n      value: function setThumbContainerSizeAndPos() {\n        if (!this.sizeSpecifiedInCSS) {\n          var thumbWidth = Math.floor(this.thumbContainerHeight * this.thumbAspectRatio);\n          this.elements.thumb.imageContainer.style.height = \"\".concat(this.thumbContainerHeight, \"px\");\n          this.elements.thumb.imageContainer.style.width = \"\".concat(thumbWidth, \"px\");\n        } else if (this.elements.thumb.imageContainer.clientHeight > 20 && this.elements.thumb.imageContainer.clientWidth < 20) {\n          var _thumbWidth = Math.floor(this.elements.thumb.imageContainer.clientHeight * this.thumbAspectRatio);\n\n          this.elements.thumb.imageContainer.style.width = \"\".concat(_thumbWidth, \"px\");\n        } else if (this.elements.thumb.imageContainer.clientHeight < 20 && this.elements.thumb.imageContainer.clientWidth > 20) {\n          var thumbHeight = Math.floor(this.elements.thumb.imageContainer.clientWidth / this.thumbAspectRatio);\n          this.elements.thumb.imageContainer.style.height = \"\".concat(thumbHeight, \"px\");\n        }\n\n        this.setThumbContainerPos();\n      }\n    }, {\n      key: \"setThumbContainerPos\",\n      value: function setThumbContainerPos() {\n        var seekbarRect = this.player.elements.progress.getBoundingClientRect();\n        var wassPlayerRect = this.player.elements.container.getBoundingClientRect();\n        var container = this.elements.thumb.container; // Find the lowest and highest desired left-position, so we don't slide out the side of the video container\n\n        var minVal = wassPlayerRect.left - seekbarRect.left + 10;\n        var maxVal = wassPlayerRect.right - seekbarRect.left - container.clientWidth - 10; // Set preview container position to: mousepos, minus seekbar.left, minus half of previewContainer.clientWidth\n\n        var previewPos = this.mousePosX - seekbarRect.left - container.clientWidth / 2;\n\n        if (previewPos < minVal) {\n          previewPos = minVal;\n        }\n\n        if (previewPos > maxVal) {\n          previewPos = maxVal;\n        }\n\n        container.style.left = \"\".concat(previewPos, \"px\");\n      } // Can't use 100% width, in case the video is a different aspect ratio to the video container\n\n    }, {\n      key: \"setScrubbingContainerSize\",\n      value: function setScrubbingContainerSize() {\n        var _fitRatio = fitRatio(this.thumbAspectRatio, {\n          width: this.player.media.clientWidth,\n          height: this.player.media.clientHeight\n        }),\n            width = _fitRatio.width,\n            height = _fitRatio.height;\n\n        this.elements.scrubbing.container.style.width = \"\".concat(width, \"px\");\n        this.elements.scrubbing.container.style.height = \"\".concat(height, \"px\");\n      } // Sprites need to be offset to the correct location\n\n    }, {\n      key: \"setImageSizeAndOffset\",\n      value: function setImageSizeAndOffset(previewImage, frame) {\n        if (!this.usingSprites) {\n          return;\n        } // Find difference between height and preview container height\n\n\n        var multiplier = this.thumbContainerHeight / frame.h; // eslint-disable-next-line no-param-reassign\n\n        previewImage.style.height = \"\".concat(previewImage.naturalHeight * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n        previewImage.style.width = \"\".concat(previewImage.naturalWidth * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n        previewImage.style.left = \"-\".concat(frame.x * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n        previewImage.style.top = \"-\".concat(frame.y * multiplier, \"px\");\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled;\n      }\n    }, {\n      key: \"currentImageContainer\",\n      get: function get() {\n        if (this.mouseDown) {\n          return this.elements.scrubbing.container;\n        }\n\n        return this.elements.thumb.imageContainer;\n      }\n    }, {\n      key: \"usingSprites\",\n      get: function get() {\n        return Object.keys(this.thumbnails[0].frames[0]).includes('w');\n      }\n    }, {\n      key: \"thumbAspectRatio\",\n      get: function get() {\n        if (this.usingSprites) {\n          return this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h;\n        }\n\n        return this.thumbnails[0].width / this.thumbnails[0].height;\n      }\n    }, {\n      key: \"thumbContainerHeight\",\n      get: function get() {\n        if (this.mouseDown) {\n          var _fitRatio2 = fitRatio(this.thumbAspectRatio, {\n            width: this.player.media.clientWidth,\n            height: this.player.media.clientHeight\n          }),\n              height = _fitRatio2.height;\n\n          return height;\n        } // If css is used this needs to return the css height for sprites to work (see setImageSizeAndOffset)\n\n\n        if (this.sizeSpecifiedInCSS) {\n          return this.elements.thumb.imageContainer.clientHeight;\n        }\n\n        return Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4);\n      }\n    }, {\n      key: \"currentImageElement\",\n      get: function get() {\n        if (this.mouseDown) {\n          return this.currentScrubbingImageElement;\n        }\n\n        return this.currentThumbnailImageElement;\n      },\n      set: function set(element) {\n        if (this.mouseDown) {\n          this.currentScrubbingImageElement = element;\n        } else {\n          this.currentThumbnailImageElement = element;\n        }\n      }\n    }]);\n\n    return PreviewThumbnails;\n  }();\n\n  var source = {\n    // Add elements to HTML5 media (source, tracks, etc)\n    insertElements: function insertElements(type, attributes) {\n      var _this = this;\n\n      if (is$1.string(attributes)) {\n        insertElement(type, this.media, {\n          src: attributes\n        });\n      } else if (is$1.array(attributes)) {\n        attributes.forEach(function (attribute) {\n          insertElement(type, _this.media, attribute);\n        });\n      }\n    },\n    // Update source\n    // Sources are not checked for support so be careful\n    change: function change(input) {\n      var _this2 = this;\n\n      if (!getDeep(input, 'sources.length')) {\n        this.debug.warn('Invalid source format');\n        return;\n      } // Cancel current network requests\n\n\n      html5.cancelRequests.call(this); // Destroy instance and re-setup\n\n      this.destroy.call(this, function () {\n        // Reset quality options\n        _this2.options.quality = []; // Remove elements\n\n        removeElement(_this2.media);\n        _this2.media = null; // Reset class name\n\n        if (is$1.element(_this2.elements.container)) {\n          _this2.elements.container.removeAttribute('class');\n        } // Set the type and provider\n\n\n        var sources = input.sources,\n            type = input.type;\n\n        var _sources = _slicedToArray(sources, 1),\n            _sources$ = _sources[0],\n            _sources$$provider = _sources$.provider,\n            provider = _sources$$provider === void 0 ? providers.html5 : _sources$$provider,\n            src = _sources$.src;\n\n        var tagName = provider === 'html5' ? type : 'div';\n        var attributes = provider === 'html5' ? {} : {\n          src: src\n        };\n        Object.assign(_this2, {\n          provider: provider,\n          type: type,\n          // Check for support\n          supported: support.check(type, provider, _this2.config.playsinline),\n          // Create new element\n          media: createElement(tagName, attributes)\n        }); // Inject the new element\n\n        _this2.elements.container.appendChild(_this2.media); // Autoplay the new source?\n\n\n        if (is$1.boolean(input.autoplay)) {\n          _this2.config.autoplay = input.autoplay;\n        } // Set attributes for audio and video\n\n\n        if (_this2.isHTML5) {\n          if (_this2.config.crossorigin) {\n            _this2.media.setAttribute('crossorigin', '');\n          }\n\n          if (_this2.config.autoplay) {\n            _this2.media.setAttribute('autoplay', '');\n          }\n\n          if (!is$1.empty(input.poster)) {\n            _this2.poster = input.poster;\n          }\n\n          if (_this2.config.loop.active) {\n            _this2.media.setAttribute('loop', '');\n          }\n\n          if (_this2.config.muted) {\n            _this2.media.setAttribute('muted', '');\n          }\n\n          if (_this2.config.playsinline) {\n            _this2.media.setAttribute('playsinline', '');\n          }\n        } // Restore class hook\n\n\n        ui.addStyleHook.call(_this2); // Set new sources for html5\n\n        if (_this2.isHTML5) {\n          source.insertElements.call(_this2, 'source', sources);\n        } // Set video title\n\n\n        _this2.config.title = input.title; // Set up from scratch\n\n        media.setup.call(_this2); // HTML5 stuff\n\n        if (_this2.isHTML5) {\n          // Setup captions\n          if (Object.keys(input).includes('tracks')) {\n            source.insertElements.call(_this2, 'track', input.tracks);\n          }\n        } // If HTML5 or embed but not fully supported, setupInterface and call ready now\n\n\n        if (_this2.isHTML5 || _this2.isEmbed && !_this2.supported.ui) {\n          // Setup interface\n          ui.build.call(_this2);\n        } // Load HTML5 sources\n\n\n        if (_this2.isHTML5) {\n          _this2.media.load();\n        } // Update previewThumbnails config & reload plugin\n\n\n        if (!is$1.empty(input.previewThumbnails)) {\n          Object.assign(_this2.config.previewThumbnails, input.previewThumbnails); // Cleanup previewThumbnails plugin if it was loaded\n\n          if (_this2.previewThumbnails && _this2.previewThumbnails.loaded) {\n            _this2.previewThumbnails.destroy();\n\n            _this2.previewThumbnails = null;\n          } // Create new instance if it is still enabled\n\n\n          if (_this2.config.previewThumbnails.enabled) {\n            _this2.previewThumbnails = new PreviewThumbnails(_this2);\n          }\n        } // Update the fullscreen support\n\n\n        _this2.fullscreen.update();\n      }, true);\n    }\n  };\n\n  /**\n   * Returns a number whose value is limited to the given range.\n   *\n   * Example: limit the output of this computation to between 0 and 255\n   * (x * 255).clamp(0, 255)\n   *\n   * @param {Number} input\n   * @param {Number} min The lower boundary of the output range\n   * @param {Number} max The upper boundary of the output range\n   * @returns A number in the range [min, max]\n   * @type Number\n   */\n  function clamp() {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 255;\n    return Math.min(Math.max(input, min), max);\n  }\n\n  var WassPlayer = /*#__PURE__*/function () {\n    function WassPlayer(target, options) {\n      var _this = this;\n\n      _classCallCheck(this, WassPlayer);\n\n      this.timers = {}; // State\n\n      this.ready = false;\n      this.loading = false;\n      this.failed = false; // Touch device\n\n      this.touch = support.touch; // Set the media element\n\n      this.media = target; // String selector passed\n\n      if (is$1.string(this.media)) {\n        this.media = document.querySelectorAll(this.media);\n      } // jQuery, NodeList or Array passed, use first element\n\n\n      if (window.jQuery && this.media instanceof jQuery || is$1.nodeList(this.media) || is$1.array(this.media)) {\n        // eslint-disable-next-line\n        this.media = this.media[0];\n      } // Set config\n\n\n      this.config = extend({}, defaults$1, WassPlayer.defaults, options || {}, function () {\n        try {\n          return JSON.parse(_this.media.getAttribute('data-wassPlayer-config'));\n        } catch (e) {\n          return {};\n        }\n      }()); // Elements cache\n\n      this.elements = {\n        container: null,\n        fullscreen: null,\n        captions: null,\n        buttons: {},\n        display: {},\n        progress: {},\n        inputs: {},\n        settings: {\n          popup: null,\n          menu: null,\n          panels: {},\n          buttons: {}\n        }\n      }; // Captions\n\n      this.captions = {\n        active: null,\n        currentTrack: -1,\n        meta: new WeakMap()\n      }; // Fullscreen\n\n      this.fullscreen = {\n        active: false\n      }; // Options\n\n      this.options = {\n        speed: [],\n        quality: []\n      }; // Debugging\n      // TODO: move to globals\n\n      this.debug = new Console(this.config.debug); // Log config options and support\n\n      this.debug.log('Config', this.config);\n      this.debug.log('Support', support); // We need an element to setup\n\n      if (is$1.nullOrUndefined(this.media) || !is$1.element(this.media)) {\n        this.debug.error('Setup failed: no suitable element passed');\n        return;\n      } // Bail if the element is initialized\n\n\n      if (this.media.wassPlayer) {\n        this.debug.warn('Target already setup');\n        return;\n      } // Bail if not enabled\n\n\n      if (!this.config.enabled) {\n        this.debug.error('Setup failed: disabled by config');\n        return;\n      } // Bail if disabled or no basic support\n      // You may want to disable certain UAs etc\n\n\n      if (!support.check().api) {\n        this.debug.error('Setup failed: no support');\n        return;\n      } // Cache original element state for .destroy()\n\n\n      var clone = this.media.cloneNode(true);\n      clone.autoplay = false;\n      this.elements.original = clone; // Set media type based on tag or data attribute\n      // Supported: video\n\n      var type = this.media.tagName.toLowerCase(); // Embed properties\n\n      var iframe = null;\n      var url = null; // Different setup based on type\n\n      switch (type) {\n        case 'div':\n          // Find the frame\n          iframe = this.media.querySelector('iframe'); // <iframe> type\n\n          if (is$1.element(iframe)) {\n            // Detect provider\n            url = parseUrl(iframe.getAttribute('src'));\n            this.provider = getProviderByUrl(url.toString()); // Rework elements\n\n            this.elements.container = this.media;\n            this.media = iframe; // Reset classname\n\n            this.elements.container.className = ''; // Get attributes from URL and set config\n\n            if (url.search.length) {\n              var truthy = ['1', 'true'];\n\n              if (truthy.includes(url.searchParams.get('autoplay'))) {\n                this.config.autoplay = true;\n              }\n\n              if (truthy.includes(url.searchParams.get('loop'))) {\n                this.config.loop.active = true;\n              }\n\n              this.config.playsinline = true;\n            }\n          } else {\n            // <div> with attributes\n            this.provider = this.media.getAttribute(this.config.attributes.embed.provider); // Remove attribute\n\n            this.media.removeAttribute(this.config.attributes.embed.provider);\n          } // Unsupported or missing provider\n\n\n          if (is$1.empty(this.provider) || !Object.keys(providers).includes(this.provider)) {\n            this.debug.error('Setup failed: Invalid provider');\n            return;\n          } // Audio will come later for external providers\n\n\n          this.type = types.video;\n          break;\n\n        case 'video':\n        case 'audio':\n          this.type = type;\n          this.provider = providers.html5; // Get config from attributes\n\n          if (this.media.hasAttribute('crossorigin')) {\n            this.config.crossorigin = true;\n          }\n\n          if (this.media.hasAttribute('autoplay')) {\n            this.config.autoplay = true;\n          }\n\n          if (this.media.hasAttribute('playsinline') || this.media.hasAttribute('webkit-playsinline')) {\n            this.config.playsinline = true;\n          }\n\n          if (this.media.hasAttribute('muted')) {\n            this.config.muted = true;\n          }\n\n          if (this.media.hasAttribute('loop')) {\n            this.config.loop.active = true;\n          }\n\n          break;\n\n        default:\n          this.debug.error('Setup failed: unsupported type');\n          return;\n      } // Check for support again but with type\n\n\n      this.supported = support.check(this.type, this.provider, this.config.playsinline); // If no support for even API, bail\n\n      if (!this.supported.api) {\n        this.debug.error('Setup failed: no support');\n        return;\n      }\n\n      this.eventListeners = []; // Create listeners\n\n      this.listeners = new Listeners(this); // Setup local storage for user settings\n\n      this.storage = new Storage(this); // Store reference\n\n      this.media.wassPlayer = this; // Wrap media\n\n      if (!is$1.element(this.elements.container)) {\n        this.elements.container = createElement('div', {\n          tabindex: 0\n        });\n        wrap$1(this.media, this.elements.container);\n      } // Migrate custom properties from media to container (so they work )\n\n\n      ui.migrateStyles.call(this); // Add style hook\n\n      ui.addStyleHook.call(this); // Setup media\n\n      media.setup.call(this); // Listen for events if debugging\n\n      if (this.config.debug) {\n        on.call(this, this.elements.container, this.config.events.join(' '), function (event) {\n          _this.debug.log(\"event: \".concat(event.type));\n        });\n      } // Setup fullscreen\n\n\n      this.fullscreen = new Fullscreen(this); // Setup interface\n      // If embed but not fully supported, build interface now to avoid flash of controls\n\n      if (this.isHTML5 || this.isEmbed && !this.supported.ui) {\n        ui.build.call(this);\n      } // Container listeners\n\n\n      this.listeners.container(); // Global listeners\n\n      this.listeners.global(); // Autoplay if required\n\n      if (this.isHTML5 && this.config.autoplay) {\n        setTimeout(function () {\n          return silencePromise(_this.play());\n        }, 10);\n      } // Seek time will be recorded (in listeners.js) so we can prevent hiding controls for a few seconds after seek\n\n\n      this.lastSeekTime = 0; // Setup preview thumbnails if enabled\n\n      if (this.config.previewThumbnails.enabled) {\n        this.previewThumbnails = new PreviewThumbnails(this);\n      }\n    } // ---------------------------------------\n    // API\n    // ---------------------------------------\n\n    /**\n     * Types and provider helpers\n     */\n\n\n    _createClass(WassPlayer, [{\n      key: \"play\",\n\n      /**\n       * Play the media, or play the advertisement (if they are not blocked)\n       */\n      value: function play() {\n        if (!is$1.function(this.media.play)) {\n          return null;\n        } // Return the promise (for HTML5)\n\n\n        return this.media.play();\n      }\n      /**\n       * Pause the media\n       */\n\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (!this.playing || !is$1.function(this.media.pause)) {\n          return null;\n        }\n\n        return this.media.pause();\n      }\n      /**\n       * Get playing state\n       */\n\n    }, {\n      key: \"togglePlay\",\n\n      /**\n       * Toggle playback based on current status\n       * @param {Boolean} input\n       */\n      value: function togglePlay(input) {\n        // Toggle based on current state if nothing passed\n        var toggle = is$1.boolean(input) ? input : !this.playing;\n\n        if (toggle) {\n          return this.play();\n        }\n\n        return this.pause();\n      }\n      /**\n       * Stop playback\n       */\n\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this.isHTML5) {\n          this.pause();\n          this.restart();\n        } else if (is$1.function(this.media.stop)) {\n          this.media.stop();\n        }\n      }\n      /**\n       * Restart playback\n       */\n\n    }, {\n      key: \"restart\",\n      value: function restart() {\n        this.currentTime = 0;\n      }\n      /**\n       * Rewind\n       * @param {Number} seekTime - how far to rewind in seconds. Defaults to the config.seekTime\n       */\n\n    }, {\n      key: \"rewind\",\n      value: function rewind(seekTime) {\n        this.currentTime -= is$1.number(seekTime) ? seekTime : this.config.seekTime;\n      }\n      /**\n       * Fast forward\n       * @param {Number} seekTime - how far to fast forward in seconds. Defaults to the config.seekTime\n       */\n\n    }, {\n      key: \"forward\",\n      value: function forward(seekTime) {\n        this.currentTime += is$1.number(seekTime) ? seekTime : this.config.seekTime;\n      }\n      /**\n       * Seek to a time\n       * @param {Number} input - where to seek to in seconds. Defaults to 0 (the start)\n       */\n\n    }, {\n      key: \"increaseVolume\",\n\n      /**\n       * Increase volume\n       * @param {Boolean} step - How much to decrease by (between 0 and 1)\n       */\n      value: function increaseVolume(step) {\n        var volume = this.media.muted ? 0 : this.volume;\n        this.volume = volume + (is$1.number(step) ? step : 0);\n      }\n      /**\n       * Decrease volume\n       * @param {Boolean} step - How much to decrease by (between 0 and 1)\n       */\n\n    }, {\n      key: \"decreaseVolume\",\n      value: function decreaseVolume(step) {\n        this.increaseVolume(-step);\n      }\n      /**\n       * Set muted state\n       * @param {Boolean} mute\n       */\n\n    }, {\n      key: \"toggleCaptions\",\n\n      /**\n       * Toggle captions\n       * @param {Boolean} input - Whether to enable captions\n       */\n      value: function toggleCaptions(input) {\n        captions.toggle.call(this, input, false);\n      }\n      /**\n       * Set the caption track by index\n       * @param {Number} - Caption index\n       */\n\n    }, {\n      key: \"airplay\",\n\n      /**\n       * Trigger the airplay dialog\n       */\n      value: function airplay() {\n        // Show dialog if supported\n        if (support.airplay) {\n          this.media.webkitShowPlaybackTargetPicker();\n        }\n      }\n      /**\n       * Toggle the player controls\n       * @param {Boolean} [toggle] - Whether to show the controls\n       */\n\n    }, {\n      key: \"toggleControls\",\n      value: function toggleControls(toggle) {\n        // Don't toggle if missing UI support or if it's audio\n        if (this.supported.ui && !this.isAudio) {\n          // Get state before change\n          var isHidden = hasClass(this.elements.container, this.config.classNames.hideControls); // Negate the argument if not undefined since adding the class to hides the controls\n\n          var force = typeof toggle === 'undefined' ? undefined : !toggle; // Apply and get updated state\n\n          var hiding = toggleClass(this.elements.container, this.config.classNames.hideControls, force); // Close menu\n\n          if (hiding && is$1.array(this.config.controls) && this.config.controls.includes('settings') && !is$1.empty(this.config.settings)) {\n            controls.toggleMenu.call(this, false);\n          } // Trigger event on change\n\n\n          if (hiding !== isHidden) {\n            var eventName = hiding ? 'controlshidden' : 'controlsshown';\n            triggerEvent.call(this, this.media, eventName);\n          }\n\n          return !hiding;\n        }\n\n        return false;\n      }\n      /**\n       * Add event listeners\n       * @param {String} event - Event type\n       * @param {Function} callback - Callback for when event occurs\n       */\n\n    }, {\n      key: \"on\",\n      value: function on$1(event, callback) {\n        on.call(this, this.elements.container, event, callback);\n      }\n      /**\n       * Add event listeners once\n       * @param {String} event - Event type\n       * @param {Function} callback - Callback for when event occurs\n       */\n\n    }, {\n      key: \"once\",\n      value: function once$1(event, callback) {\n        once.call(this, this.elements.container, event, callback);\n      }\n      /**\n       * Remove event listeners\n       * @param {String} event - Event type\n       * @param {Function} callback - Callback for when event occurs\n       */\n\n    }, {\n      key: \"off\",\n      value: function off$1(event, callback) {\n        off(this.elements.container, event, callback);\n      }\n      /**\n       * Destroy an instance\n       * Event listeners are removed when elements are removed\n       * http://stackoverflow.com/questions/12528049/if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory\n       * @param {Function} callback - Callback for when destroy is complete\n       * @param {Boolean} soft - Whether it's a soft destroy (for source changes etc)\n       */\n\n    }, {\n      key: \"destroy\",\n      value: function destroy(callback) {\n        var _this2 = this;\n\n        var soft = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!this.ready) {\n          return;\n        }\n\n        var done = function done() {\n          // Reset overflow (incase destroyed while in fullscreen)\n          document.body.style.overflow = ''; // GC for embed\n\n          _this2.embed = null; // If it's a soft destroy, make minimal changes\n\n          if (soft) {\n            if (Object.keys(_this2.elements).length) {\n              // Remove elements\n              removeElement(_this2.elements.buttons.play);\n              removeElement(_this2.elements.captions);\n              removeElement(_this2.elements.controls);\n              removeElement(_this2.elements.wrapper); // Clear for GC\n\n              _this2.elements.buttons.play = null;\n              _this2.elements.captions = null;\n              _this2.elements.controls = null;\n              _this2.elements.wrapper = null;\n            } // Callback\n\n\n            if (is$1.function(callback)) {\n              callback();\n            }\n          } else {\n            // Unbind listeners\n            unbindListeners.call(_this2); // Replace the container with the original element provided\n\n            replaceElement(_this2.elements.original, _this2.elements.container); // Event\n\n            triggerEvent.call(_this2, _this2.elements.original, 'destroyed', true); // Callback\n\n            if (is$1.function(callback)) {\n              callback.call(_this2.elements.original);\n            } // Reset state\n\n\n            _this2.ready = false; // Clear for garbage collection\n\n            setTimeout(function () {\n              _this2.elements = null;\n              _this2.media = null;\n            }, 200);\n          }\n        }; // Stop playback\n\n\n        this.stop(); // Clear timeouts\n\n        clearTimeout(this.timers.loading);\n        clearTimeout(this.timers.controls);\n        clearTimeout(this.timers.resized); // Provider specific stuff\n\n        if (this.isHTML5) {\n          // Restore native video controls\n          ui.toggleNativeControls.call(this, true); // Clean up\n\n          done();\n        }\n      }\n      /**\n       * Check for support for a mime type (HTML5 only)\n       * @param {String} type - Mime type\n       */\n\n    }, {\n      key: \"supports\",\n      value: function supports(type) {\n        return support.mime.call(this, type);\n      }\n      /**\n       * Check for support\n       * @param {String} type - Player type (video)\n       * @param {String} provider - Provider (html5)\n       * @param {Boolean} inline - Where player has `playsinline` sttribute\n       */\n\n    }, {\n      key: \"isHTML5\",\n      get: function get() {\n        return this.provider === providers.html5;\n      }\n    }, {\n      key: \"isVideo\",\n      get: function get() {\n        return this.type === types.video;\n      }\n    }, {\n      key: \"playing\",\n      get: function get() {\n        return Boolean(this.ready && !this.paused && !this.ended);\n      }\n      /**\n       * Get paused state\n       */\n\n    }, {\n      key: \"paused\",\n      get: function get() {\n        return Boolean(this.media.paused);\n      }\n      /**\n       * Get stopped state\n       */\n\n    }, {\n      key: \"stopped\",\n      get: function get() {\n        return Boolean(this.paused && this.currentTime === 0);\n      }\n      /**\n       * Get ended state\n       */\n\n    }, {\n      key: \"ended\",\n      get: function get() {\n        return Boolean(this.media.ended);\n      }\n    }, {\n      key: \"currentTime\",\n      set: function set(input) {\n        // Bail if media duration isn't available yet\n        if (!this.duration) {\n          return;\n        } // Validate input\n\n\n        var inputIsValid = is$1.number(input) && input > 0; // Set\n\n        this.media.currentTime = inputIsValid ? Math.min(input, this.duration) : 0; // Logging\n\n        this.debug.log(\"Seeking to \".concat(this.currentTime, \" seconds\"));\n      }\n      /**\n       * Get current time\n       */\n      ,\n      get: function get() {\n        return Number(this.media.currentTime);\n      }\n      /**\n       * Get buffered\n       */\n\n    }, {\n      key: \"buffered\",\n      get: function get() {\n        var buffered = this.media.buffered;\n\n        if (is$1.number(buffered)) {\n          return buffered;\n        } // HTML5\n        // (i.e. seek to another section buffers only that section)\n\n\n        if (buffered && buffered.length && this.duration > 0) {\n          return buffered.end(0) / this.duration;\n        }\n\n        return 0;\n      }\n      /**\n       * Get seeking status\n       */\n\n    }, {\n      key: \"seeking\",\n      get: function get() {\n        return Boolean(this.media.seeking);\n      }\n      /**\n       * Get the duration of the current media\n       */\n\n    }, {\n      key: \"duration\",\n      get: function get() {\n        // Faux duration set via config\n        var fauxDuration = parseFloat(this.config.duration); // Media duration can be NaN or Infinity before the media has loaded\n\n        var realDuration = (this.media || {}).duration;\n        var duration = !is$1.number(realDuration) || realDuration === Infinity ? 0 : realDuration; // If config duration is funky, use regular duration\n\n        return fauxDuration || duration;\n      }\n      /**\n       * Set the player volume\n       * @param {Number} value - must be between 0 and 1. Defaults to the value from local storage and config.volume if not set in storage\n       */\n\n    }, {\n      key: \"volume\",\n      set: function set(value) {\n        var volume = value;\n        var max = 1;\n        var min = 0;\n\n        if (is$1.string(volume)) {\n          volume = Number(volume);\n        } // Load volume from storage if no value specified\n\n\n        if (!is$1.number(volume)) {\n          volume = this.storage.get('volume');\n        } // Use config if all else fails\n\n\n        if (!is$1.number(volume)) {\n          volume = this.config.volume;\n        } // Maximum is volumeMax\n\n\n        if (volume > max) {\n          volume = max;\n        } // Minimum is volumeMin\n\n\n        if (volume < min) {\n          volume = min;\n        } // Update config\n\n\n        this.config.volume = volume; // Set the player volume\n\n        this.media.volume = volume; // If muted, and we're increasing volume manually, reset muted state\n\n        if (!is$1.empty(value) && this.muted && volume > 0) {\n          this.muted = false;\n        }\n      }\n      /**\n       * Get the current player volume\n       */\n      ,\n      get: function get() {\n        return Number(this.media.volume);\n      }\n    }, {\n      key: \"muted\",\n      set: function set(mute) {\n        var toggle = mute; // Load muted state from storage\n\n        if (!is$1.boolean(toggle)) {\n          toggle = this.storage.get('muted');\n        } // Use config if all else fails\n\n\n        if (!is$1.boolean(toggle)) {\n          toggle = this.config.muted;\n        } // Update config\n\n\n        this.config.muted = toggle; // Set mute on the player\n\n        this.media.muted = toggle;\n      }\n      /**\n       * Get current muted state\n       */\n      ,\n      get: function get() {\n        return Boolean(this.media.muted);\n      }\n      /**\n       * Check if the media has audio\n       */\n\n    }, {\n      key: \"hasAudio\",\n      get: function get() {\n        // Assume yes for all non HTML5 (as we can't tell...)\n        if (!this.isHTML5) {\n          return true;\n        }\n\n        if (this.isAudio) {\n          return true;\n        } // Get audio tracks\n\n\n        return Boolean(this.media.mozHasAudio) || Boolean(this.media.webkitAudioDecodedByteCount) || Boolean(this.media.audioTracks && this.media.audioTracks.length);\n      }\n      /**\n       * Set playback speed\n       * @param {Number} speed - the speed of playback (0.5-2.0)\n       */\n\n    }, {\n      key: \"speed\",\n      set: function set(input) {\n        var _this3 = this;\n\n        var speed = null;\n\n        if (is$1.number(input)) {\n          speed = input;\n        }\n\n        if (!is$1.number(speed)) {\n          speed = this.storage.get('speed');\n        }\n\n        if (!is$1.number(speed)) {\n          speed = this.config.speed.selected;\n        } // Clamp to min/max\n\n\n        var min = this.minimumSpeed,\n            max = this.maximumSpeed;\n        speed = clamp(speed, min, max); // Update config\n\n        this.config.speed.selected = speed; // Set media speed\n\n        setTimeout(function () {\n          _this3.media.playbackRate = speed;\n        }, 0);\n      }\n      /**\n       * Get current playback speed\n       */\n      ,\n      get: function get() {\n        return Number(this.media.playbackRate);\n      }\n      /**\n       * Get the minimum allowed speed\n       */\n      // eslint-disable-next-line class-methods-use-this\n\n    }, {\n      key: \"minimumSpeed\",\n      get: function get() {\n        return 0.0625;\n      }\n      /**\n       * Get the maximum allowed speed\n       */\n      // eslint-disable-next-line class-methods-use-this\n\n    }, {\n      key: \"maximumSpeed\",\n      get: function get() {\n        return 16;\n      }\n      /**\n       * Set playback quality\n       * Currently HTML5 only\n       * @param {Number} input - Quality level\n       */\n\n    }, {\n      key: \"quality\",\n      set: function set(input) {\n        var config = this.config.quality;\n        var options = this.options.quality;\n\n        if (!options.length) {\n          return;\n        }\n\n        var quality = [!is$1.empty(input) && Number(input), this.storage.get('quality'), config.selected, config.default].find(is$1.number);\n        var updateStorage = true;\n\n        if (!options.includes(quality)) {\n          var value = closest$1(options, quality);\n          this.debug.warn(\"Unsupported quality option: \".concat(quality, \", using \").concat(value, \" instead\"));\n          quality = value; // Don't update storage if quality is not supported\n\n          updateStorage = false;\n        } // Update config\n\n\n        config.selected = quality; // Set quality\n\n        this.media.quality = quality; // Save to storage\n\n        if (updateStorage) {\n          this.storage.set({\n            quality: quality\n          });\n        }\n      }\n      /**\n       * Get current quality level\n       */\n      ,\n      get: function get() {\n        return this.media.quality;\n      }\n      /**\n       * Toggle loop\n       * @param {Boolean} input - Whether to loop or not\n       */\n\n    }, {\n      key: \"loop\",\n      set: function set(input) {\n        var toggle = is$1.boolean(input) ? input : this.config.loop.active;\n        this.config.loop.active = toggle;\n        this.media.loop = toggle; // Set default to be a true toggle\n\n        /* const type = ['start', 'end', 'all', 'none', 'toggle'].includes(input) ? input : 'toggle';\n             switch (type) {\n                case 'start':\n                    if (this.config.loop.end && this.config.loop.end <= this.currentTime) {\n                        this.config.loop.end = null;\n                    }\n                    this.config.loop.start = this.currentTime;\n                    // this.config.loop.indicator.start = this.elements.display.played.value;\n                    break;\n                 case 'end':\n                    if (this.config.loop.start >= this.currentTime) {\n                        return this;\n                    }\n                    this.config.loop.end = this.currentTime;\n                    // this.config.loop.indicator.end = this.elements.display.played.value;\n                    break;\n                 case 'all':\n                    this.config.loop.start = 0;\n                    this.config.loop.end = this.duration - 2;\n                    this.config.loop.indicator.start = 0;\n                    this.config.loop.indicator.end = 100;\n                    break;\n                 case 'toggle':\n                    if (this.config.loop.active) {\n                        this.config.loop.start = 0;\n                        this.config.loop.end = null;\n                    } else {\n                        this.config.loop.start = 0;\n                        this.config.loop.end = this.duration - 2;\n                    }\n                    break;\n                 default:\n                    this.config.loop.start = 0;\n                    this.config.loop.end = null;\n                    break;\n            } */\n      }\n      /**\n       * Get current loop state\n       */\n      ,\n      get: function get() {\n        return Boolean(this.media.loop);\n      }\n      /**\n       * Set new media source\n       * @param {Object} input - The new source object (see docs)\n       */\n\n    }, {\n      key: \"source\",\n      set: function set(input) {\n        source.change.call(this, input);\n      }\n      /**\n       * Get current source\n       */\n      ,\n      get: function get() {\n        return this.media.currentSrc;\n      }\n      /**\n       * Get a download URL (either source or custom)\n       */\n\n    }, {\n      key: \"download\",\n      get: function get() {\n        var download = this.config.urls.download;\n        return is$1.url(download) ? download : this.source;\n      }\n      /**\n       * Set the download URL\n       */\n      ,\n      set: function set(input) {\n        if (!is$1.url(input)) {\n          return;\n        }\n\n        this.config.urls.download = input;\n        controls.setDownloadUrl.call(this);\n      }\n      /**\n       * Set the poster image for a video\n       * @param {String} input - the URL for the new poster image\n       */\n\n    }, {\n      key: \"poster\",\n      set: function set(input) {\n        if (!this.isVideo) {\n          this.debug.warn('Poster can only be set for video');\n          return;\n        }\n\n        ui.setPoster.call(this, input, false).catch(function () {});\n      }\n      /**\n       * Get the current poster image\n       */\n      ,\n      get: function get() {\n        if (!this.isVideo) {\n          return null;\n        }\n\n        return this.media.getAttribute('poster') || this.media.getAttribute('data-poster');\n      }\n      /**\n       * Get the current aspect ratio in use\n       */\n\n    }, {\n      key: \"ratio\",\n      get: function get() {\n        if (!this.isVideo) {\n          return null;\n        }\n\n        var ratio = reduceAspectRatio(getAspectRatio.call(this));\n        return is$1.array(ratio) ? ratio.join(':') : ratio;\n      }\n      /**\n       * Set video aspect ratio\n       */\n      ,\n      set: function set(input) {\n        if (!this.isVideo) {\n          this.debug.warn('Aspect ratio can only be set for video');\n          return;\n        }\n\n        if (!is$1.string(input) || !validateRatio(input)) {\n          this.debug.error(\"Invalid aspect ratio specified (\".concat(input, \")\"));\n          return;\n        }\n\n        this.config.ratio = input;\n        setAspectRatio.call(this);\n      }\n      /**\n       * Set the autoplay state\n       * @param {Boolean} input - Whether to autoplay or not\n       */\n\n    }, {\n      key: \"autoplay\",\n      set: function set(input) {\n        var toggle = is$1.boolean(input) ? input : this.config.autoplay;\n        this.config.autoplay = toggle;\n      }\n      /**\n       * Get the current autoplay state\n       */\n      ,\n      get: function get() {\n        return Boolean(this.config.autoplay);\n      }\n    }, {\n      key: \"currentTrack\",\n      set: function set(input) {\n        captions.set.call(this, input, false);\n      }\n      /**\n       * Get the current caption track index (-1 if disabled)\n       */\n      ,\n      get: function get() {\n        var _this$captions = this.captions,\n            toggled = _this$captions.toggled,\n            currentTrack = _this$captions.currentTrack;\n        return toggled ? currentTrack : -1;\n      }\n      /**\n       * Set the wanted language for captions\n       * Since tracks can be added later it won't update the actual caption track until there is a matching track\n       * @param {String} - Two character ISO language code (e.g. EN, FR, PT, etc)\n       */\n\n    }, {\n      key: \"language\",\n      set: function set(input) {\n        captions.setLanguage.call(this, input, false);\n      }\n      /**\n       * Get the current track's language\n       */\n      ,\n      get: function get() {\n        return (captions.getCurrentTrack.call(this) || {}).language;\n      }\n      /**\n       * Toggle picture-in-picture playback on WebKit/MacOS\n       */\n\n    }, {\n      key: \"pip\",\n      set: function set(input) {\n        // Bail if no support\n        if (!support.pip) {\n          return;\n        } // Toggle based on current state if not passed\n\n\n        var toggle = is$1.boolean(input) ? input : !this.pip; // Toggle based on current state\n        // Safari\n\n        if (is$1.function(this.media.webkitSetPresentationMode)) {\n          this.media.webkitSetPresentationMode(toggle ? pip.active : pip.inactive);\n        } // Chrome\n\n\n        if (is$1.function(this.media.requestPictureInPicture)) {\n          if (!this.pip && toggle) {\n            this.media.requestPictureInPicture();\n          } else if (this.pip && !toggle) {\n            document.exitPictureInPicture();\n          }\n        }\n      }\n      /**\n       * Get the current picture-in-picture state\n       */\n      ,\n      get: function get() {\n        if (!support.pip) {\n          return null;\n        } // Safari\n\n\n        if (!is$1.empty(this.media.webkitPresentationMode)) {\n          return this.media.webkitPresentationMode === pip.active;\n        } // Chrome\n\n\n        return this.media === document.pictureInPictureElement;\n      }\n    }], [{\n      key: \"supported\",\n      value: function supported(type, provider, inline) {\n        return support.check(type, provider, inline);\n      }\n      /**\n       * Load an SVG sprite into the page\n       * @param {String} url - URL for the SVG sprite\n       * @param {String} [id] - Unique ID\n       */\n\n    }, {\n      key: \"loadSprite\",\n      value: function loadSprite$1(url, id) {\n        return loadSprite(url, id);\n      }\n      /**\n       * Setup multiple instances\n       * @param {*} selector\n       * @param {Object} options\n       */\n\n    }, {\n      key: \"setup\",\n      value: function setup(selector) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var targets = null;\n\n        if (is$1.string(selector)) {\n          targets = Array.from(document.querySelectorAll(selector));\n        } else if (is$1.nodeList(selector)) {\n          targets = Array.from(selector);\n        } else if (is$1.array(selector)) {\n          targets = selector.filter(is$1.element);\n        }\n\n        if (is$1.empty(targets)) {\n          return null;\n        }\n\n        return targets.map(function (t) {\n          return new WassPlayer(t, options);\n        });\n      }\n    }]);\n\n    return WassPlayer;\n  }();\n\n  WassPlayer.defaults = cloneDeep(defaults$1);\n\n  // ==========================================================================\n\n  return WassPlayer;\n\n})));\n","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor(delta / damp) : delta >> 1;\n  delta += floor(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor(delta / baseMinusTMin);\n  }\n  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nmodule.exports = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","(function(global) {\r\n  /**\r\n   * Polyfill URLSearchParams\r\n   *\r\n   * Inspired from : https://github.com/WebReflection/url-search-params/blob/master/src/url-search-params.js\r\n   */\r\n\r\n  var checkIfIteratorIsSupported = function() {\r\n    try {\r\n      return !!Symbol.iterator;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n\r\n  var iteratorSupported = checkIfIteratorIsSupported();\r\n\r\n  var createIterator = function(items) {\r\n    var iterator = {\r\n      next: function() {\r\n        var value = items.shift();\r\n        return { done: value === void 0, value: value };\r\n      }\r\n    };\r\n\r\n    if (iteratorSupported) {\r\n      iterator[Symbol.iterator] = function() {\r\n        return iterator;\r\n      };\r\n    }\r\n\r\n    return iterator;\r\n  };\r\n\r\n  /**\r\n   * Search param name and values should be encoded according to https://url.spec.whatwg.org/#urlencoded-serializing\r\n   * encodeURIComponent() produces the same result except encoding spaces as `%20` instead of `+`.\r\n   */\r\n  var serializeParam = function(value) {\r\n    return encodeURIComponent(value).replace(/%20/g, '+');\r\n  };\r\n\r\n  var deserializeParam = function(value) {\r\n    return decodeURIComponent(String(value).replace(/\\+/g, ' '));\r\n  };\r\n\r\n  var polyfillURLSearchParams = function() {\r\n\r\n    var URLSearchParams = function(searchString) {\r\n      Object.defineProperty(this, '_entries', { writable: true, value: {} });\r\n      var typeofSearchString = typeof searchString;\r\n\r\n      if (typeofSearchString === 'undefined') {\r\n        // do nothing\r\n      } else if (typeofSearchString === 'string') {\r\n        if (searchString !== '') {\r\n          this._fromString(searchString);\r\n        }\r\n      } else if (searchString instanceof URLSearchParams) {\r\n        var _this = this;\r\n        searchString.forEach(function(value, name) {\r\n          _this.append(name, value);\r\n        });\r\n      } else if ((searchString !== null) && (typeofSearchString === 'object')) {\r\n        if (Object.prototype.toString.call(searchString) === '[object Array]') {\r\n          for (var i = 0; i < searchString.length; i++) {\r\n            var entry = searchString[i];\r\n            if ((Object.prototype.toString.call(entry) === '[object Array]') || (entry.length !== 2)) {\r\n              this.append(entry[0], entry[1]);\r\n            } else {\r\n              throw new TypeError('Expected [string, any] as entry at index ' + i + ' of URLSearchParams\\'s input');\r\n            }\r\n          }\r\n        } else {\r\n          for (var key in searchString) {\r\n            if (searchString.hasOwnProperty(key)) {\r\n              this.append(key, searchString[key]);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        throw new TypeError('Unsupported input\\'s type for URLSearchParams');\r\n      }\r\n    };\r\n\r\n    var proto = URLSearchParams.prototype;\r\n\r\n    proto.append = function(name, value) {\r\n      if (name in this._entries) {\r\n        this._entries[name].push(String(value));\r\n      } else {\r\n        this._entries[name] = [String(value)];\r\n      }\r\n    };\r\n\r\n    proto.delete = function(name) {\r\n      delete this._entries[name];\r\n    };\r\n\r\n    proto.get = function(name) {\r\n      return (name in this._entries) ? this._entries[name][0] : null;\r\n    };\r\n\r\n    proto.getAll = function(name) {\r\n      return (name in this._entries) ? this._entries[name].slice(0) : [];\r\n    };\r\n\r\n    proto.has = function(name) {\r\n      return (name in this._entries);\r\n    };\r\n\r\n    proto.set = function(name, value) {\r\n      this._entries[name] = [String(value)];\r\n    };\r\n\r\n    proto.forEach = function(callback, thisArg) {\r\n      var entries;\r\n      for (var name in this._entries) {\r\n        if (this._entries.hasOwnProperty(name)) {\r\n          entries = this._entries[name];\r\n          for (var i = 0; i < entries.length; i++) {\r\n            callback.call(thisArg, entries[i], name, this);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    proto.keys = function() {\r\n      var items = [];\r\n      this.forEach(function(value, name) {\r\n        items.push(name);\r\n      });\r\n      return createIterator(items);\r\n    };\r\n\r\n    proto.values = function() {\r\n      var items = [];\r\n      this.forEach(function(value) {\r\n        items.push(value);\r\n      });\r\n      return createIterator(items);\r\n    };\r\n\r\n    proto.entries = function() {\r\n      var items = [];\r\n      this.forEach(function(value, name) {\r\n        items.push([name, value]);\r\n      });\r\n      return createIterator(items);\r\n    };\r\n\r\n    if (iteratorSupported) {\r\n      proto[Symbol.iterator] = proto.entries;\r\n    }\r\n\r\n    proto.toString = function() {\r\n      var searchArray = [];\r\n      this.forEach(function(value, name) {\r\n        searchArray.push(serializeParam(name) + '=' + serializeParam(value));\r\n      });\r\n      return searchArray.join('&');\r\n    };\r\n\r\n\r\n    global.URLSearchParams = URLSearchParams;\r\n  };\r\n\r\n  var checkIfURLSearchParamsSupported = function() {\r\n    try {\r\n      var URLSearchParams = global.URLSearchParams;\r\n\r\n      return (\r\n        (new URLSearchParams('?a=1').toString() === 'a=1') &&\r\n        (typeof URLSearchParams.prototype.set === 'function') &&\r\n        (typeof URLSearchParams.prototype.entries === 'function')\r\n      );\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  if (!checkIfURLSearchParamsSupported()) {\r\n    polyfillURLSearchParams();\r\n  }\r\n\r\n  var proto = global.URLSearchParams.prototype;\r\n\r\n  if (typeof proto.sort !== 'function') {\r\n    proto.sort = function() {\r\n      var _this = this;\r\n      var items = [];\r\n      this.forEach(function(value, name) {\r\n        items.push([name, value]);\r\n        if (!_this._entries) {\r\n          _this.delete(name);\r\n        }\r\n      });\r\n      items.sort(function(a, b) {\r\n        if (a[0] < b[0]) {\r\n          return -1;\r\n        } else if (a[0] > b[0]) {\r\n          return +1;\r\n        } else {\r\n          return 0;\r\n        }\r\n      });\r\n      if (_this._entries) { // force reset because IE keeps keys index\r\n        _this._entries = {};\r\n      }\r\n      for (var i = 0; i < items.length; i++) {\r\n        this.append(items[i][0], items[i][1]);\r\n      }\r\n    };\r\n  }\r\n\r\n  if (typeof proto._fromString !== 'function') {\r\n    Object.defineProperty(proto, '_fromString', {\r\n      enumerable: false,\r\n      configurable: false,\r\n      writable: false,\r\n      value: function(searchString) {\r\n        if (this._entries) {\r\n          this._entries = {};\r\n        } else {\r\n          var keys = [];\r\n          this.forEach(function(value, name) {\r\n            keys.push(name);\r\n          });\r\n          for (var i = 0; i < keys.length; i++) {\r\n            this.delete(keys[i]);\r\n          }\r\n        }\r\n\r\n        searchString = searchString.replace(/^\\?/, '');\r\n        var attributes = searchString.split('&');\r\n        var attribute;\r\n        for (var i = 0; i < attributes.length; i++) {\r\n          attribute = attributes[i].split('=');\r\n          this.append(\r\n            deserializeParam(attribute[0]),\r\n            (attribute.length > 1) ? deserializeParam(attribute[1]) : ''\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // HTMLAnchorElement\r\n\r\n})(\r\n  (typeof global !== 'undefined') ? global\r\n    : ((typeof window !== 'undefined') ? window\r\n    : ((typeof self !== 'undefined') ? self : this))\r\n);\r\n\r\n(function(global) {\r\n  /**\r\n   * Polyfill URL\r\n   *\r\n   * Inspired from : https://github.com/arv/DOM-URL-Polyfill/blob/master/src/url.js\r\n   */\r\n\r\n  var checkIfURLIsSupported = function() {\r\n    try {\r\n      var u = new global.URL('b', 'http://a');\r\n      u.pathname = 'c d';\r\n      return (u.href === 'http://a/c%20d') && u.searchParams;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n\r\n  var polyfillURL = function() {\r\n    var _URL = global.URL;\r\n\r\n    var URL = function(url, base) {\r\n      if (typeof url !== 'string') url = String(url);\r\n      if (base && typeof base !== 'string') base = String(base);\r\n\r\n      // Only create another document if the base is different from current location.\r\n      var doc = document, baseElement;\r\n      if (base && (global.location === void 0 || base !== global.location.href)) {\r\n        base = base.toLowerCase();\r\n        doc = document.implementation.createHTMLDocument('');\r\n        baseElement = doc.createElement('base');\r\n        baseElement.href = base;\r\n        doc.head.appendChild(baseElement);\r\n        try {\r\n          if (baseElement.href.indexOf(base) !== 0) throw new Error(baseElement.href);\r\n        } catch (err) {\r\n          throw new Error('URL unable to set base ' + base + ' due to ' + err);\r\n        }\r\n      }\r\n\r\n      var anchorElement = doc.createElement('a');\r\n      anchorElement.href = url;\r\n      if (baseElement) {\r\n        doc.body.appendChild(anchorElement);\r\n        anchorElement.href = anchorElement.href; // force href to refresh\r\n      }\r\n\r\n      var inputElement = doc.createElement('input');\r\n      inputElement.type = 'url';\r\n      inputElement.value = url;\r\n\r\n      if (anchorElement.protocol === ':' || !/:/.test(anchorElement.href) || (!inputElement.checkValidity() && !base)) {\r\n        throw new TypeError('Invalid URL');\r\n      }\r\n\r\n      Object.defineProperty(this, '_anchorElement', {\r\n        value: anchorElement\r\n      });\r\n\r\n\r\n      // create a linked searchParams which reflect its changes on URL\r\n      var searchParams = new global.URLSearchParams(this.search);\r\n      var enableSearchUpdate = true;\r\n      var enableSearchParamsUpdate = true;\r\n      var _this = this;\r\n      ['append', 'delete', 'set'].forEach(function(methodName) {\r\n        var method = searchParams[methodName];\r\n        searchParams[methodName] = function() {\r\n          method.apply(searchParams, arguments);\r\n          if (enableSearchUpdate) {\r\n            enableSearchParamsUpdate = false;\r\n            _this.search = searchParams.toString();\r\n            enableSearchParamsUpdate = true;\r\n          }\r\n        };\r\n      });\r\n\r\n      Object.defineProperty(this, 'searchParams', {\r\n        value: searchParams,\r\n        enumerable: true\r\n      });\r\n\r\n      var search = void 0;\r\n      Object.defineProperty(this, '_updateSearchParams', {\r\n        enumerable: false,\r\n        configurable: false,\r\n        writable: false,\r\n        value: function() {\r\n          if (this.search !== search) {\r\n            search = this.search;\r\n            if (enableSearchParamsUpdate) {\r\n              enableSearchUpdate = false;\r\n              this.searchParams._fromString(this.search);\r\n              enableSearchUpdate = true;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    var proto = URL.prototype;\r\n\r\n    var linkURLWithAnchorAttribute = function(attributeName) {\r\n      Object.defineProperty(proto, attributeName, {\r\n        get: function() {\r\n          return this._anchorElement[attributeName];\r\n        },\r\n        set: function(value) {\r\n          this._anchorElement[attributeName] = value;\r\n        },\r\n        enumerable: true\r\n      });\r\n    };\r\n\r\n    ['hash', 'host', 'hostname', 'port', 'protocol']\r\n      .forEach(function(attributeName) {\r\n        linkURLWithAnchorAttribute(attributeName);\r\n      });\r\n\r\n    Object.defineProperty(proto, 'search', {\r\n      get: function() {\r\n        return this._anchorElement['search'];\r\n      },\r\n      set: function(value) {\r\n        this._anchorElement['search'] = value;\r\n        this._updateSearchParams();\r\n      },\r\n      enumerable: true\r\n    });\r\n\r\n    Object.defineProperties(proto, {\r\n\r\n      'toString': {\r\n        get: function() {\r\n          var _this = this;\r\n          return function() {\r\n            return _this.href;\r\n          };\r\n        }\r\n      },\r\n\r\n      'href': {\r\n        get: function() {\r\n          return this._anchorElement.href.replace(/\\?$/, '');\r\n        },\r\n        set: function(value) {\r\n          this._anchorElement.href = value;\r\n          this._updateSearchParams();\r\n        },\r\n        enumerable: true\r\n      },\r\n\r\n      'pathname': {\r\n        get: function() {\r\n          return this._anchorElement.pathname.replace(/(^\\/?)/, '/');\r\n        },\r\n        set: function(value) {\r\n          this._anchorElement.pathname = value;\r\n        },\r\n        enumerable: true\r\n      },\r\n\r\n      'origin': {\r\n        get: function() {\r\n          // get expected port from protocol\r\n          var expectedPort = { 'http:': 80, 'https:': 443, 'ftp:': 21 }[this._anchorElement.protocol];\r\n          // add port to origin if, expected port is different than actual port\r\n          // and it is not empty f.e http://foo:8080\r\n          // 8080 != 80 && 8080 != ''\r\n          var addPortToOrigin = this._anchorElement.port != expectedPort &&\r\n            this._anchorElement.port !== '';\r\n\r\n          return this._anchorElement.protocol +\r\n            '//' +\r\n            this._anchorElement.hostname +\r\n            (addPortToOrigin ? (':' + this._anchorElement.port) : '');\r\n        },\r\n        enumerable: true\r\n      },\r\n\r\n      'password': { // TODO\r\n        get: function() {\r\n          return '';\r\n        },\r\n        set: function(value) {\r\n        },\r\n        enumerable: true\r\n      },\r\n\r\n      'username': { // TODO\r\n        get: function() {\r\n          return '';\r\n        },\r\n        set: function(value) {\r\n        },\r\n        enumerable: true\r\n      },\r\n    });\r\n\r\n    URL.createObjectURL = function(blob) {\r\n      return _URL.createObjectURL.apply(_URL, arguments);\r\n    };\r\n\r\n    URL.revokeObjectURL = function(url) {\r\n      return _URL.revokeObjectURL.apply(_URL, arguments);\r\n    };\r\n\r\n    global.URL = URL;\r\n\r\n  };\r\n\r\n  if (!checkIfURLIsSupported()) {\r\n    polyfillURL();\r\n  }\r\n\r\n  if ((global.location !== void 0) && !('origin' in global.location)) {\r\n    var getOrigin = function() {\r\n      return global.location.protocol + '//' + global.location.hostname + (global.location.port ? (':' + global.location.port) : '');\r\n    };\r\n\r\n    try {\r\n      Object.defineProperty(global.location, 'origin', {\r\n        get: getOrigin,\r\n        enumerable: true\r\n      });\r\n    } catch (e) {\r\n      setInterval(function() {\r\n        global.location.origin = getOrigin();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n})(\r\n  (typeof global !== 'undefined') ? global\r\n    : ((typeof window !== 'undefined') ? window\r\n    : ((typeof self !== 'undefined') ? self : this))\r\n);\r\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var $ = require('../internals/export');\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n$({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var defaults={addCSS:!0,thumbWidth:15,watch:!0};function matches(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function trigger(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var getConstructor=function(e){return null!=e?e.constructor:null},instanceOf=function(e,t){return!!(e&&t&&e instanceof t)},isNullOrUndefined=function(e){return null==e},isObject=function(e){return getConstructor(e)===Object},isNumber=function(e){return getConstructor(e)===Number&&!Number.isNaN(e)},isString=function(e){return getConstructor(e)===String},isBoolean=function(e){return getConstructor(e)===Boolean},isFunction=function(e){return getConstructor(e)===Function},isArray=function(e){return Array.isArray(e)},isNodeList=function(e){return instanceOf(e,NodeList)},isElement=function(e){return instanceOf(e,Element)},isEvent=function(e){return instanceOf(e,Event)},isEmpty=function(e){return isNullOrUndefined(e)||(isString(e)||isArray(e)||isNodeList(e))&&!e.length||isObject(e)&&!Object.keys(e).length},is={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,nodeList:isNodeList,element:isElement,event:isEvent,empty:isEmpty};function getDecimalPlaces(e){var t=\"\".concat(e).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function round(e,t){if(1>t){var n=getDecimalPlaces(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var RangeTouch=function(){function e(t,n){_classCallCheck(this,e),is.element(t)?this.element=t:is.string(t)&&(this.element=document.querySelector(t)),is.element(this.element)&&is.empty(this.element.rangeTouch)&&(this.config=_objectSpread2({},defaults,{},n),this.init())}return _createClass(e,[{key:\"init\",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect=\"none\",this.element.style.webKitUserSelect=\"none\",this.element.style.touchAction=\"manipulation\"),this.listeners(!0),this.element.rangeTouch=this)}},{key:\"destroy\",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect=\"\",this.element.style.webKitUserSelect=\"\",this.element.style.touchAction=\"\"),this.listeners(!1),this.element.rangeTouch=null)}},{key:\"listeners\",value:function(e){var t=this,n=e?\"addEventListener\":\"removeEventListener\";[\"touchstart\",\"touchmove\",\"touchend\"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:\"get\",value:function(t){if(!e.enabled||!is.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute(\"min\"))||0,s=parseFloat(r.getAttribute(\"max\"))||100,u=parseFloat(r.getAttribute(\"step\"))||1,c=r.getBoundingClientRect(),a=100/c.width*(this.config.thumbWidth/2)/100;return 0>(n=100/c.width*(i.clientX-c.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*a:50<n&&(n+=2*(n-50)*a),o+round(n/100*(s-o),u)}},{key:\"set\",value:function(t){e.enabled&&is.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),trigger(t.target,\"touchend\"===t.type?\"change\":\"input\"))}}],[{key:\"setup\",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(is.empty(t)||is.string(t)?r=Array.from(document.querySelectorAll(is.string(t)?t:'input[type=\"range\"]')):is.element(t)?r=[t]:is.nodeList(t)?r=Array.from(t):is.array(t)&&(r=t.filter(is.element)),is.empty(r))return null;var i=_objectSpread2({},defaults,{},n);if(is.string(t)&&i.watch){var o=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){is.element(n)&&matches(n,t)&&new e(n,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,n)}))}},{key:\"enabled\",get:function(){return\"ontouchstart\"in document.documentElement}}]),e}();export default RangeTouch;","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","// ==========================================================================\n// Type checking utils\n// ==========================================================================\n\nconst getConstructor = input => (input !== null && typeof input !== 'undefined' ? input.constructor : null);\nconst instanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\nconst isNullOrUndefined = input => input === null || typeof input === 'undefined';\nconst isObject = input => getConstructor(input) === Object;\nconst isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\nconst isString = input => getConstructor(input) === String;\nconst isBoolean = input => getConstructor(input) === Boolean;\nconst isFunction = input => getConstructor(input) === Function;\nconst isArray = input => Array.isArray(input);\nconst isWeakMap = input => instanceOf(input, WeakMap);\nconst isNodeList = input => instanceOf(input, NodeList);\nconst isElement = input => instanceOf(input, Element);\nconst isTextNode = input => getConstructor(input) === Text;\nconst isEvent = input => instanceOf(input, Event);\nconst isKeyboardEvent = input => instanceOf(input, KeyboardEvent);\nconst isCue = input => instanceOf(input, window.TextTrackCue) || instanceOf(input, window.VTTCue);\nconst isTrack = input => instanceOf(input, TextTrack) || (!isNullOrUndefined(input) && isString(input.kind));\nconst isPromise = input => instanceOf(input, Promise) && isFunction(input.then);\n\nconst isEmpty = input =>\n  isNullOrUndefined(input) ||\n  ((isString(input) || isArray(input) || isNodeList(input)) && !input.length) ||\n  (isObject(input) && !Object.keys(input).length);\n\nconst isUrl = input => {\n  // Accept a URL object\n  if (instanceOf(input, window.URL)) {\n    return true;\n  }\n\n  // Must be string from here\n  if (!isString(input)) {\n    return false;\n  }\n\n  // Add the protocol if required\n  let string = input;\n  if (!input.startsWith('http://') || !input.startsWith('https://')) {\n    string = `http://${input}`;\n  }\n\n  try {\n    return !isEmpty(new URL(string).hostname);\n  } catch (e) {\n    return false;\n  }\n};\n\nexport default {\n  nullOrUndefined: isNullOrUndefined,\n  object: isObject,\n  number: isNumber,\n  string: isString,\n  boolean: isBoolean,\n  function: isFunction,\n  array: isArray,\n  weakMap: isWeakMap,\n  nodeList: isNodeList,\n  element: isElement,\n  textNode: isTextNode,\n  event: isEvent,\n  keyboardEvent: isKeyboardEvent,\n  cue: isCue,\n  track: isTrack,\n  promise: isPromise,\n  url: isUrl,\n  empty: isEmpty,\n};\n","// ==========================================================================\n// Animation utils\n// ==========================================================================\n\nimport is from './is';\n\nexport const transitionEndEvent = (() => {\n  const element = document.createElement('span');\n\n  const events = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd otransitionend',\n    transition: 'transitionend',\n  };\n\n  const type = Object.keys(events).find(event => element.style[event] !== undefined);\n\n  return is.string(type) ? events[type] : false;\n})();\n\n// Force repaint of element\nexport function repaint(element, delay) {\n  setTimeout(() => {\n    try {\n      // eslint-disable-next-line no-param-reassign\n      element.hidden = true;\n\n      // eslint-disable-next-line no-unused-expressions\n      element.offsetHeight;\n\n      // eslint-disable-next-line no-param-reassign\n      element.hidden = false;\n    } catch (e) {\n      // Do nothing\n    }\n  }, delay);\n}\n","// ==========================================================================\n// Browser sniffing\n// Unfortunately, due to mixed support, UA sniffing is required\n// ==========================================================================\n\nconst browser = {\n  isIE: /* @cc_on!@ */ false || !!document.documentMode,\n  isEdge: window.navigator.userAgent.includes('Edge'),\n  isWebkit: 'WebkitAppearance' in document.documentElement.style && !/Edge/.test(navigator.userAgent),\n  isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),\n  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform),\n};\n\nexport default browser;\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// ==========================================================================\n// Object utils\n// ==========================================================================\n\nimport is from './is';\n\n// Clone nested objects\nexport function cloneDeep(object) {\n  return JSON.parse(JSON.stringify(object));\n}\n\n// Get a nested value in an object\nexport function getDeep(object, path) {\n  return path.split('.').reduce((obj, key) => obj && obj[key], object);\n}\n\n// Deep extend destination object with N more objects\nexport function extend(target = {}, ...sources) {\n  if (!sources.length) {\n    return target;\n  }\n\n  const source = sources.shift();\n\n  if (!is.object(source)) {\n    return target;\n  }\n\n  Object.keys(source).forEach(key => {\n    if (is.object(source[key])) {\n      if (!Object.keys(target).includes(key)) {\n        Object.assign(target, { [key]: {} });\n      }\n\n      extend(target[key], source[key]);\n    } else {\n      Object.assign(target, { [key]: source[key] });\n    }\n  });\n\n  return extend(target, ...sources);\n}\n","// ==========================================================================\n// Element utils\n// ==========================================================================\n\nimport is from './is';\nimport { extend } from './objects';\n\n// Wrap an element\nexport function wrap(elements, wrapper) {\n  // Convert `elements` to an array, if necessary.\n  const targets = elements.length ? elements : [elements];\n\n  // Loops backwards to prevent having to clone the wrapper on the\n  // first element (see `child` below).\n  Array.from(targets)\n    .reverse()\n    .forEach((element, index) => {\n      const child = index > 0 ? wrapper.cloneNode(true) : wrapper;\n      // Cache the current parent and sibling.\n      const parent = element.parentNode;\n      const sibling = element.nextSibling;\n\n      // Wrap the element (is automatically removed from its current\n      // parent).\n      child.appendChild(element);\n\n      // If the element had a sibling, insert the wrapper before\n      // the sibling to maintain the HTML structure; otherwise, just\n      // append it to the parent.\n      if (sibling) {\n        parent.insertBefore(child, sibling);\n      } else {\n        parent.appendChild(child);\n      }\n    });\n}\n\n// Set attributes\nexport function setAttributes(element, attributes) {\n  if (!is.element(element) || is.empty(attributes)) {\n    return;\n  }\n\n  // Assume null and undefined attributes should be left out,\n  // Setting them would otherwise convert them to \"null\" and \"undefined\"\n  Object.entries(attributes)\n    .filter(([, value]) => !is.nullOrUndefined(value))\n    .forEach(([key, value]) => element.setAttribute(key, value));\n}\n\n// Create a DocumentFragment\nexport function createElement(type, attributes, text) {\n  // Create a new <element>\n  const element = document.createElement(type);\n\n  // Set all passed attributes\n  if (is.object(attributes)) {\n    setAttributes(element, attributes);\n  }\n\n  // Add text node\n  if (is.string(text)) {\n    element.innerText = text;\n  }\n\n  // Return built element\n  return element;\n}\n\n// Inaert an element after another\nexport function insertAfter(element, target) {\n  if (!is.element(element) || !is.element(target)) {\n    return;\n  }\n\n  target.parentNode.insertBefore(element, target.nextSibling);\n}\n\n// Insert a DocumentFragment\nexport function insertElement(type, parent, attributes, text) {\n  if (!is.element(parent)) {\n    return;\n  }\n\n  parent.appendChild(createElement(type, attributes, text));\n}\n\n// Remove element(s)\nexport function removeElement(element) {\n  if (is.nodeList(element) || is.array(element)) {\n    Array.from(element).forEach(removeElement);\n    return;\n  }\n\n  if (!is.element(element) || !is.element(element.parentNode)) {\n    return;\n  }\n\n  element.parentNode.removeChild(element);\n}\n\n// Remove all child elements\nexport function emptyElement(element) {\n  if (!is.element(element)) {\n    return;\n  }\n\n  let { length } = element.childNodes;\n\n  while (length > 0) {\n    element.removeChild(element.lastChild);\n    length -= 1;\n  }\n}\n\n// Replace element\nexport function replaceElement(newChild, oldChild) {\n  if (!is.element(oldChild) || !is.element(oldChild.parentNode) || !is.element(newChild)) {\n    return null;\n  }\n\n  oldChild.parentNode.replaceChild(newChild, oldChild);\n\n  return newChild;\n}\n\n// Get an attribute object from a string selector\nexport function getAttributesFromSelector(sel, existingAttributes) {\n  // For example:\n  // '.test' to { class: 'test' }\n  // '#test' to { id: 'test' }\n  // '[data-test=\"test\"]' to { 'data-test': 'test' }\n\n  if (!is.string(sel) || is.empty(sel)) {\n    return {};\n  }\n\n  const attributes = {};\n  const existing = extend({}, existingAttributes);\n\n  sel.split(',').forEach(s => {\n    // Remove whitespace\n    const selector = s.trim();\n    const className = selector.replace('.', '');\n    const stripped = selector.replace(/[[\\]]/g, '');\n    // Get the parts and value\n    const parts = stripped.split('=');\n    const [key] = parts;\n    const value = parts.length > 1 ? parts[1].replace(/[\"']/g, '') : '';\n    // Get the first character\n    const start = selector.charAt(0);\n\n    switch (start) {\n      case '.':\n        // Add to existing classname\n        if (is.string(existing.class)) {\n          attributes.class = `${existing.class} ${className}`;\n        } else {\n          attributes.class = className;\n        }\n        break;\n\n      case '#':\n        // ID selector\n        attributes.id = selector.replace('#', '');\n        break;\n\n      case '[':\n        // Attribute selector\n        attributes[key] = value;\n\n        break;\n\n      default:\n        break;\n    }\n  });\n\n  return extend(existing, attributes);\n}\n\n// Toggle hidden\nexport function toggleHidden(element, hidden) {\n  if (!is.element(element)) {\n    return;\n  }\n\n  let hide = hidden;\n\n  if (!is.boolean(hide)) {\n    hide = !element.hidden;\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  element.hidden = hide;\n}\n\n// Mirror Element.classList.toggle, with IE compatibility for \"force\" argument\nexport function toggleClass(element, className, force) {\n  if (is.nodeList(element)) {\n    return Array.from(element).map(e => toggleClass(e, className, force));\n  }\n\n  if (is.element(element)) {\n    let method = 'toggle';\n    if (typeof force !== 'undefined') {\n      method = force ? 'add' : 'remove';\n    }\n\n    element.classList[method](className);\n    return element.classList.contains(className);\n  }\n\n  return false;\n}\n\n// Has class name\nexport function hasClass(element, className) {\n  return is.element(element) && element.classList.contains(className);\n}\n\n// Element matches selector\nexport function matches(element, selector) {\n  const { prototype } = Element;\n\n  function match() {\n    return Array.from(document.querySelectorAll(selector)).includes(this);\n  }\n\n  const method =\n    prototype.matches ||\n    prototype.webkitMatchesSelector ||\n    prototype.mozMatchesSelector ||\n    prototype.msMatchesSelector ||\n    match;\n\n  return method.call(element, selector);\n}\n\n// Closest ancestor element matching selector (also tests element itself)\nexport function closest(element, selector) {\n  const { prototype } = Element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n  function closestElement() {\n    let el = this;\n\n    do {\n      if (matches.matches(el, selector)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  }\n\n  const method = prototype.closest || closestElement;\n\n  return method.call(element, selector);\n}\n\n// Find all elements\nexport function getElements(selector) {\n  return this.elements.container.querySelectorAll(selector);\n}\n\n// Find a single element\nexport function getElement(selector) {\n  return this.elements.container.querySelector(selector);\n}\n\n// Set focus and tab focus class\nexport function setFocus(element = null, tabFocus = false) {\n  if (!is.element(element)) {\n    return;\n  }\n\n  // Set regular focus\n  element.focus({ preventScroll: true });\n\n  // If we want to mimic keyboard focus via tab\n  if (tabFocus) {\n    toggleClass(element, this.config.classNames.tabFocus);\n  }\n}\n","// ==========================================================================\n// WassPlayer support checks\n// ==========================================================================\n\nimport { transitionEndEvent } from './utils/animation';\nimport browser from './utils/browser';\nimport { createElement } from './utils/elements';\nimport is from './utils/is';\n\n// Default codecs for checking mimetype support\nconst defaultCodecs = {\n  'audio/ogg': 'vorbis',\n  'audio/wav': '1',\n  'video/webm': 'vp8, vorbis',\n  'video/mp4': 'avc1.42E01E, mp4a.40.2',\n  'video/ogg': 'theora',\n};\n\n// Check for feature support\nconst support = {\n  // Basic support\n  audio: 'canPlayType' in document.createElement('audio'),\n  video: 'canPlayType' in document.createElement('video'),\n\n  // Check for support\n  // Basic functionality vs full UI\n  check(type, provider, playsinline) {\n    const canPlayInline = browser.isIPhone && playsinline && support.playsinline;\n    const api = support[type] || provider !== 'html5';\n    const ui = api && support.rangeInput && (type !== 'video' || !browser.isIPhone || canPlayInline);\n\n    return {\n      api,\n      ui,\n    };\n  },\n\n  // Picture-in-picture support\n  // Safari & Chrome only currently\n  pip: (() => {\n    if (browser.isIPhone) {\n      return false;\n    }\n\n    // Safari\n    // https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n    if (is.function(createElement('video').webkitSetPresentationMode)) {\n      return true;\n    }\n\n    // Chrome\n    // https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n    if (document.pictureInPictureEnabled && !createElement('video').disablePictureInPicture) {\n      return true;\n    }\n\n    return false;\n  })(),\n\n  // Airplay support\n  // Safari only currently\n  airplay: is.function(window.WebKitPlaybackTargetAvailabilityEvent),\n\n  // Inline playback support\n  // https://webkit.org/blog/6784/new-video-policies-for-ios/\n  playsinline: 'playsInline' in document.createElement('video'),\n\n  // Check for mime type support against a player instance\n  // Credits: http://diveintohtml5.info/everything.html\n  // Related: http://www.leanbackplayer.com/test/h5mt.html\n  mime(input) {\n    if (is.empty(input)) {\n      return false;\n    }\n\n    const [mediaType] = input.split('/');\n    let type = input;\n\n    // Verify we're using HTML5 and there's no media type mismatch\n    if (!this.isHTML5 || mediaType !== this.type) {\n      return false;\n    }\n\n    // Add codec if required\n    if (Object.keys(defaultCodecs).includes(type)) {\n      type += `; codecs=\"${defaultCodecs[input]}\"`;\n    }\n\n    try {\n      return Boolean(type && this.media.canPlayType(type).replace(/no/, ''));\n    } catch (e) {\n      return false;\n    }\n  },\n\n  // Check for textTracks support\n  textTracks: 'textTracks' in document.createElement('video'),\n\n  // <input type=\"range\"> Sliders\n  rangeInput: (() => {\n    const range = document.createElement('input');\n    range.type = 'range';\n    return range.type === 'range';\n  })(),\n\n  // Touch\n  // NOTE: Remember a device can be mouse + touch enabled so we check on first touch event\n  touch: 'ontouchstart' in document.documentElement,\n\n  // Detect transitions support\n  transitions: transitionEndEvent !== false,\n\n  // Reduced motion iOS & MacOS setting\n  // https://webkit.org/blog/7551/responsive-design-for-motion/\n  reducedMotion: 'matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches,\n};\n\nexport default support;\n","// ==========================================================================\n// Event utils\n// ==========================================================================\n\nimport is from './is';\n\n// Check for passive event listener support\n// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n// https://www.youtube.com/watch?v=NPM6172J22g\nconst supportsPassiveListeners = (() => {\n  // Test via a getter in the options object to see if the passive property is accessed\n  let supported = false;\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get() {\n        supported = true;\n        return null;\n      },\n    });\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n    // Do nothing\n  }\n\n  return supported;\n})();\n\n// Toggle event listener\nexport function toggleListener(element, event, callback, toggle = false, passive = true, capture = false) {\n  // Bail if no element, event, or callback\n  if (!element || !('addEventListener' in element) || is.empty(event) || !is.function(callback)) {\n    return;\n  }\n\n  // Allow multiple events\n  const events = event.split(' ');\n  // Build options\n  // Default to just the capture boolean for browsers with no passive listener support\n  let options = capture;\n\n  // If passive events listeners are supported\n  if (supportsPassiveListeners) {\n    options = {\n      // Whether the listener can be passive (i.e. default never prevented)\n      passive,\n      // Whether the listener is a capturing listener or not\n      capture,\n    };\n  }\n\n  // If a single node is passed, bind the event listener\n  events.forEach(type => {\n    if (this && this.eventListeners && toggle) {\n      // Cache event listener\n      this.eventListeners.push({ element, type, callback, options });\n    }\n\n    element[toggle ? 'addEventListener' : 'removeEventListener'](type, callback, options);\n  });\n}\n\n// Bind event handler\nexport function on(element, events = '', callback, passive = true, capture = false) {\n  toggleListener.call(this, element, events, callback, true, passive, capture);\n}\n\n// Unbind event handler\nexport function off(element, events = '', callback, passive = true, capture = false) {\n  toggleListener.call(this, element, events, callback, false, passive, capture);\n}\n\n// Bind once-only event handler\nexport function once(element, events = '', callback, passive = true, capture = false) {\n  const onceCallback = (...args) => {\n    off(element, events, onceCallback, passive, capture);\n    callback.apply(this, args);\n  };\n\n  toggleListener.call(this, element, events, onceCallback, true, passive, capture);\n}\n\n// Trigger event\nexport function triggerEvent(element, type = '', bubbles = false, detail = {}) {\n  // Bail if no element\n  if (!is.element(element) || is.empty(type)) {\n    return;\n  }\n\n  // Create and dispatch the event\n  const event = new CustomEvent(type, {\n    bubbles,\n    detail: { ...detail, plyr: this },\n  });\n\n  // Dispatch the event\n  element.dispatchEvent(event);\n}\n\n// Unbind all cached event listeners\nexport function unbindListeners() {\n  if (this && this.eventListeners) {\n    this.eventListeners.forEach(item => {\n      const { element, type, callback, options } = item;\n      element.removeEventListener(type, callback, options);\n    });\n\n    this.eventListeners = [];\n  }\n}\n\n// Run method when / if player is ready\nexport function ready() {\n  return new Promise(resolve =>\n    this.ready ? setTimeout(resolve, 0) : on.call(this, this.elements.container, 'ready', resolve),\n  ).then(() => {});\n}\n","import is from './is';\n/**\n * Silence a Promise-like object.\n * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n * play promise\" rejection error messages.\n * @param  {Object} value An object that may or may not be `Promise`-like.\n */\nexport function silencePromise(value) {\n  if (is.promise(value)) {\n    value.then(null, () => {});\n  }\n}\n\nexport default { silencePromise };\n","// ==========================================================================\n// Style utils\n// ==========================================================================\n\nimport is from './is';\n\nexport function validateRatio(input) {\n  if (!is.array(input) && (!is.string(input) || !input.includes(':'))) {\n    return false;\n  }\n\n  const ratio = is.array(input) ? input : input.split(':');\n\n  return ratio.map(Number).every(is.number);\n}\n\nexport function reduceAspectRatio(ratio) {\n  if (!is.array(ratio) || !ratio.every(is.number)) {\n    return null;\n  }\n\n  const [width, height] = ratio;\n  const getDivider = (w, h) => (h === 0 ? w : getDivider(h, w % h));\n  const divider = getDivider(width, height);\n\n  return [width / divider, height / divider];\n}\n\nexport function getAspectRatio(input) {\n  const parse = ratio => (validateRatio(ratio) ? ratio.split(':').map(Number) : null);\n  // Try provided ratio\n  let ratio = parse(input);\n\n  // Get from config\n  if (ratio === null) {\n    ratio = parse(this.config.ratio);\n  }\n\n  // Get from embed\n  if (ratio === null && !is.empty(this.embed) && is.array(this.embed.ratio)) {\n    ({ ratio } = this.embed);\n  }\n\n  // Get from HTML5 video\n  if (ratio === null && this.isHTML5) {\n    const { videoWidth, videoHeight } = this.media;\n    ratio = reduceAspectRatio([videoWidth, videoHeight]);\n  }\n\n  return ratio;\n}\n\n// Set aspect ratio for responsive container\nexport function setAspectRatio(input) {\n  if (!this.isVideo) {\n    return {};\n  }\n\n  const { wrapper } = this.elements;\n  const ratio = getAspectRatio.call(this, input);\n  const [w, h] = is.array(ratio) ? ratio : [0, 0];\n  const padding = (100 / w) * h;\n\n  wrapper.style.paddingBottom = `${padding}%`;\n\n  // For Vimeo we have an extra <div> to hide the standard controls and UI\n  if (this.isVimeo && !this.config.vimeo.premium && this.supported.ui) {\n    const height = (100 / this.media.offsetWidth) * parseInt(window.getComputedStyle(this.media).paddingBottom, 10);\n    const offset = (height - padding) / (height / 50);\n\n    this.media.style.transform = `translateY(-${offset}%)`;\n  } else if (this.isHTML5) {\n    wrapper.classList.toggle(this.config.classNames.videoFixedRatio, ratio !== null);\n  }\n\n  return { padding, ratio };\n}\n\nexport default { setAspectRatio };\n","// ==========================================================================\n// WassPlayer HTML5 helpers\n// ==========================================================================\n\nimport support from './support';\nimport { removeElement } from './utils/elements';\nimport { triggerEvent } from './utils/events';\nimport is from './utils/is';\nimport { silencePromise } from './utils/promise';\nimport { setAspectRatio } from './utils/style';\n\nconst html5 = {\n  getSources() {\n    if (!this.isHTML5) {\n      return [];\n    }\n\n    const sources = Array.from(this.media.querySelectorAll('source'));\n\n    // Filter out unsupported sources (if type is specified)\n    return sources.filter(source => {\n      const type = source.getAttribute('type');\n\n      if (is.empty(type)) {\n        return true;\n      }\n\n      return support.mime.call(this, type);\n    });\n  },\n\n  // Get quality levels\n  getQualityOptions() {\n    // Whether we're forcing all options (e.g. for streaming)\n    if (this.config.quality.forced) {\n      return this.config.quality.options;\n    }\n\n    // Get sizes from <source> elements\n    return html5.getSources\n      .call(this)\n      .map(source => Number(source.getAttribute('size')))\n      .filter(Boolean);\n  },\n\n  setup() {\n    if (!this.isHTML5) {\n      return;\n    }\n\n    const player = this;\n\n    // Set speed options from config\n    player.options.speed = player.config.speed.options;\n\n    // Set aspect ratio if fixed\n    if (!is.empty(this.config.ratio)) {\n      setAspectRatio.call(player);\n    }\n\n    // Quality\n    Object.defineProperty(player.media, 'quality', {\n      get() {\n        // Get sources\n        const sources = html5.getSources.call(player);\n        const source = sources.find(s => s.getAttribute('src') === player.source);\n\n        // Return size, if match is found\n        return source && Number(source.getAttribute('size'));\n      },\n      set(input) {\n        if (player.quality === input) {\n          return;\n        }\n\n        // If we're using an an external handler...\n        if (player.config.quality.forced && is.function(player.config.quality.onChange)) {\n          player.config.quality.onChange(input);\n        } else {\n          // Get sources\n          const sources = html5.getSources.call(player);\n          // Get first match for requested size\n          const source = sources.find(s => Number(s.getAttribute('size')) === input);\n\n          // No matching source found\n          if (!source) {\n            return;\n          }\n\n          // Get current state\n          const { currentTime, paused, preload, readyState, playbackRate } = player.media;\n\n          // Set new source\n          player.media.src = source.getAttribute('src');\n\n          // Prevent loading if preload=\"none\" and the current source isn't loaded (#1044)\n          if (preload !== 'none' || readyState) {\n            // Restore time\n            player.once('loadedmetadata', () => {\n              player.speed = playbackRate;\n              player.currentTime = currentTime;\n\n              // Resume playing\n              if (!paused) {\n                silencePromise(player.play());\n              }\n            });\n\n            // Load new source\n            player.media.load();\n          }\n        }\n\n        // Trigger change event\n        triggerEvent.call(player, player.media, 'qualitychange', false, {\n          quality: input,\n        });\n      },\n    });\n  },\n\n  // Cancel current network requests\n  // See https://github.com/sampotts/WassPlayer/issues/174\n  cancelRequests() {\n    if (!this.isHTML5) {\n      return;\n    }\n\n    // Remove child sources\n    removeElement(html5.getSources.call(this));\n\n    // Set blank video src attribute\n    // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error\n    // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection\n    this.media.setAttribute('src', this.config.blankVideo);\n\n    // Load the new empty source\n    // This will cancel existing requests\n    // See https://github.com/sampotts/WassPlayer/issues/174\n    this.media.load();\n\n    // Debugging\n    this.debug.log('Cancelled network requests');\n  },\n};\n\nexport default html5;\n","// ==========================================================================\n// Array utils\n// ==========================================================================\n\nimport is from './is';\n\n// Remove duplicates in an array\nexport function dedupe(array) {\n  if (!is.array(array)) {\n    return array;\n  }\n\n  return array.filter((item, index) => array.indexOf(item) === index);\n}\n\n// Get the closest value in an array\nexport function closest(array, value) {\n  if (!is.array(array) || !array.length) {\n    return null;\n  }\n\n  return array.reduce((prev, curr) => (Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev));\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","// ==========================================================================\n// String utils\n// ==========================================================================\n\nimport is from './is';\n\n// Generate a random ID\nexport function generateId(prefix) {\n  return `${prefix}-${Math.floor(Math.random() * 10000)}`;\n}\n\n// Format string\nexport function format(input, ...args) {\n  if (is.empty(input)) {\n    return input;\n  }\n\n  return input.toString().replace(/{(\\d+)}/g, (match, i) => args[i].toString());\n}\n\n// Get percentage\nexport function getPercentage(current, max) {\n  if (current === 0 || max === 0 || Number.isNaN(current) || Number.isNaN(max)) {\n    return 0;\n  }\n\n  return ((current / max) * 100).toFixed(2);\n}\n\n// Replace all occurances of a string in a string\nexport const replaceAll = (input = '', find = '', replace = '') =>\n  input.replace(new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1'), 'g'), replace.toString());\n\n// Convert to title case\nexport const toTitleCase = (input = '') =>\n  input.toString().replace(/\\w\\S*/g, text => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase());\n\n// Convert string to pascalCase\nexport function toPascalCase(input = '') {\n  let string = input.toString();\n\n  // Convert kebab case\n  string = replaceAll(string, '-', ' ');\n\n  // Convert snake case\n  string = replaceAll(string, '_', ' ');\n\n  // Convert to title case\n  string = toTitleCase(string);\n\n  // Convert to pascal case\n  return replaceAll(string, ' ', '');\n}\n\n// Convert string to pascalCase\nexport function toCamelCase(input = '') {\n  let string = input.toString();\n\n  // Convert to pascal case\n  string = toPascalCase(string);\n\n  // Convert first character to lowercase\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\n// Remove HTML from a string\nexport function stripHTML(source) {\n  const fragment = document.createDocumentFragment();\n  const element = document.createElement('div');\n  fragment.appendChild(element);\n  element.innerHTML = source;\n  return fragment.firstChild.innerText;\n}\n\n// Like outerHTML, but also works for DocumentFragment\nexport function getHTML(element) {\n  const wrapper = document.createElement('div');\n  wrapper.appendChild(element);\n  return wrapper.innerHTML;\n}\n","// ==========================================================================\n// Plyr internationalization\n// ==========================================================================\n\nimport is from './is';\nimport { getDeep } from './objects';\nimport { replaceAll } from './strings';\n\n// Skip i18n for abbreviations and brand names\nconst resources = {\n  pip: 'PIP',\n  airplay: 'AirPlay',\n  html5: 'HTML5',\n  vimeo: 'Vimeo',\n  youtube: 'YouTube',\n};\n\nconst i18n = {\n  get(key = '', config = {}) {\n    if (is.empty(key) || is.empty(config)) {\n      return '';\n    }\n\n    let string = getDeep(config.i18n, key);\n\n    if (is.empty(string)) {\n      if (Object.keys(resources).includes(key)) {\n        return resources[key];\n      }\n\n      return '';\n    }\n\n    const replace = {\n      '{seektime}': config.seekTime,\n      '{title}': config.title,\n    };\n\n    Object.entries(replace).forEach(([k, v]) => {\n      string = replaceAll(string, k, v);\n    });\n\n    return string;\n  },\n};\n\nexport default i18n;\n","// ==========================================================================\n// WassPlayer storage\n// ==========================================================================\n\nimport is from './utils/is';\nimport { extend } from './utils/objects';\n\nclass Storage {\n  constructor(player) {\n    this.enabled = player.config.storage.enabled;\n    this.key = player.config.storage.key;\n  }\n\n  // Check for actual support (see if we can use it)\n  static get supported() {\n    try {\n      if (!('localStorage' in window)) {\n        return false;\n      }\n\n      const test = '___test';\n\n      // Try to use it (it might be disabled, e.g. user is in private mode)\n      // see: https://github.com/sampotts/WassPlayer/issues/131\n      window.localStorage.setItem(test, test);\n      window.localStorage.removeItem(test);\n\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  get(key) {\n    if (!Storage.supported || !this.enabled) {\n      return null;\n    }\n\n    const store = window.localStorage.getItem(this.key);\n\n    if (is.empty(store)) {\n      return null;\n    }\n\n    const json = JSON.parse(store);\n\n    return is.string(key) && key.length ? json[key] : json;\n  }\n\n  set(object) {\n    // Bail if we don't have localStorage support or it's disabled\n    if (!Storage.supported || !this.enabled) {\n      return;\n    }\n\n    // Can only store objectst\n    if (!is.object(object)) {\n      return;\n    }\n\n    // Get current storage\n    let storage = this.get();\n\n    // Default to empty object\n    if (is.empty(storage)) {\n      storage = {};\n    }\n\n    // Update the working copy of the values\n    extend(storage, object);\n\n    // Update storage\n    window.localStorage.setItem(this.key, JSON.stringify(storage));\n  }\n}\n\nexport default Storage;\n","// ==========================================================================\n// Fetch wrapper\n// Using XHR to avoid issues with older browsers\n// ==========================================================================\n\nexport default function fetch(url, responseType = 'text') {\n  return new Promise((resolve, reject) => {\n    try {\n      const request = new XMLHttpRequest();\n\n      // Check for CORS support\n      if (!('withCredentials' in request)) {\n        return;\n      }\n\n      request.addEventListener('load', () => {\n        if (responseType === 'text') {\n          try {\n            resolve(JSON.parse(request.responseText));\n          } catch (e) {\n            resolve(request.responseText);\n          }\n        } else {\n          resolve(request.response);\n        }\n      });\n\n      request.addEventListener('error', () => {\n        throw new Error(request.status);\n      });\n\n      request.open('GET', url, true);\n\n      // Set the required response type\n      request.responseType = responseType;\n\n      request.send();\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n","// ==========================================================================\n// Sprite loader\n// ==========================================================================\n\nimport Storage from '../storage';\nimport fetch from './fetch';\nimport is from './is';\n\n// Load an external SVG sprite\nexport default function loadSprite(url, id) {\n  if (!is.string(url)) {\n    return;\n  }\n\n  const prefix = 'cache';\n  const hasId = is.string(id);\n  let isCached = false;\n  const exists = () => document.getElementById(id) !== null;\n\n  const update = (container, data) => {\n    // eslint-disable-next-line no-param-reassign\n    container.innerHTML = data;\n\n    // Check again incase of race condition\n    if (hasId && exists()) {\n      return;\n    }\n\n    // Inject the SVG to the body\n    document.body.insertAdjacentElement('afterbegin', container);\n  };\n\n  // Only load once if ID set\n  if (!hasId || !exists()) {\n    const useStorage = Storage.supported;\n    // Create container\n    const container = document.createElement('div');\n    container.setAttribute('hidden', '');\n\n    if (hasId) {\n      container.setAttribute('id', id);\n    }\n\n    // Check in cache\n    if (useStorage) {\n      const cached = window.localStorage.getItem(`${prefix}-${id}`);\n      isCached = cached !== null;\n\n      if (isCached) {\n        const data = JSON.parse(cached);\n        update(container, data.content);\n      }\n    }\n\n    // Get the sprite\n    fetch(url)\n      .then(result => {\n        if (is.empty(result)) {\n          return;\n        }\n\n        if (useStorage) {\n          window.localStorage.setItem(\n            `${prefix}-${id}`,\n            JSON.stringify({\n              content: result,\n            }),\n          );\n        }\n\n        update(container, result);\n      })\n      .catch(() => {});\n  }\n}\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","// ==========================================================================\n// Time utils\n// ==========================================================================\n\nimport is from './is';\n\n// Time helpers\nexport const getHours = value => Math.trunc((value / 60 / 60) % 60, 10);\nexport const getMinutes = value => Math.trunc((value / 60) % 60, 10);\nexport const getSeconds = value => Math.trunc(value % 60, 10);\n\n// Format time to UI friendly string\nexport function formatTime(time = 0, displayHours = false, inverted = false) {\n  // Bail if the value isn't a number\n  if (!is.number(time)) {\n    return formatTime(undefined, displayHours, inverted);\n  }\n\n  // Format time component to add leading zero\n  const format = value => `0${value}`.slice(-2);\n  // Breakdown to hours, mins, secs\n  let hours = getHours(time);\n  const mins = getMinutes(time);\n  const secs = getSeconds(time);\n\n  // Do we need to display hours?\n  if (displayHours || hours > 0) {\n    hours = `${hours}:`;\n  } else {\n    hours = '';\n  }\n\n  // Render\n  return `${inverted && time > 0 ? '-' : ''}${hours}${format(mins)}:${format(secs)}`;\n}\n","// ==========================================================================\n// WassPlayer controls\n// ==========================================================================\n\nimport RangeTouch from 'rangetouch';\n\n// eslint-disable-next-line import/no-cycle\nimport captions from './captions';\nimport html5 from './html5';\nimport support from './support';\nimport { repaint, transitionEndEvent } from './utils/animation';\nimport { dedupe } from './utils/arrays';\nimport browser from './utils/browser';\nimport {\n  createElement,\n  emptyElement,\n  getAttributesFromSelector,\n  getElement,\n  getElements,\n  hasClass,\n  matches,\n  removeElement,\n  setAttributes,\n  setFocus,\n  toggleClass,\n  toggleHidden,\n} from './utils/elements';\nimport { off, on } from './utils/events';\nimport i18n from './utils/i18n';\nimport is from './utils/is';\nimport loadSprite from './utils/load-sprite';\nimport { extend } from './utils/objects';\nimport { getPercentage, replaceAll, toCamelCase, toTitleCase } from './utils/strings';\nimport { formatTime, getHours } from './utils/time';\n\n// TODO: Don't export a massive object - break down and create class\nconst controls = {\n  // Get icon URL\n  getIconUrl() {\n    const url = new URL(this.config.iconUrl, window.location);\n    const cors = url.host !== window.location.host || (browser.isIE && !window.svg4everybody);\n\n    return {\n      url: this.config.iconUrl,\n      cors,\n    };\n  },\n\n  // Find the UI controls\n  findElements() {\n    try {\n      this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper);\n\n      // Buttons\n      this.elements.buttons = {\n        play: getElements.call(this, this.config.selectors.buttons.play),\n        pause: getElement.call(this, this.config.selectors.buttons.pause),\n        restart: getElement.call(this, this.config.selectors.buttons.restart),\n        rewind: getElement.call(this, this.config.selectors.buttons.rewind),\n        fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),\n        mute: getElement.call(this, this.config.selectors.buttons.mute),\n        pip: getElement.call(this, this.config.selectors.buttons.pip),\n        airplay: getElement.call(this, this.config.selectors.buttons.airplay),\n        settings: getElement.call(this, this.config.selectors.buttons.settings),\n        captions: getElement.call(this, this.config.selectors.buttons.captions),\n        fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen),\n      };\n\n      // Progress\n      this.elements.progress = getElement.call(this, this.config.selectors.progress);\n\n      // Inputs\n      this.elements.inputs = {\n        seek: getElement.call(this, this.config.selectors.inputs.seek),\n        volume: getElement.call(this, this.config.selectors.inputs.volume),\n      };\n\n      // Display\n      this.elements.display = {\n        buffer: getElement.call(this, this.config.selectors.display.buffer),\n        currentTime: getElement.call(this, this.config.selectors.display.currentTime),\n        duration: getElement.call(this, this.config.selectors.display.duration),\n      };\n\n      // Seek tooltip\n      if (is.element(this.elements.progress)) {\n        this.elements.display.seekTooltip = this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`);\n      }\n\n      return true;\n    } catch (error) {\n      // Log it\n      this.debug.warn('It looks like there is a problem with your custom controls HTML', error);\n\n      // Restore native video controls\n      this.toggleNativeControls(true);\n\n      return false;\n    }\n  },\n\n  // Create <svg> icon\n  createIcon(type, attributes) {\n    const namespace = 'http://www.w3.org/2000/svg';\n    const iconUrl = controls.getIconUrl.call(this);\n    const iconPath = `${!iconUrl.cors ? iconUrl.url : ''}#${this.config.iconPrefix}`;\n    // Create <svg>\n    const icon = document.createElementNS(namespace, 'svg');\n    setAttributes(\n      icon,\n      extend(attributes, {\n        'aria-hidden': 'true',\n        focusable: 'false',\n      }),\n    );\n\n    // Create the <use> to reference sprite\n    const use = document.createElementNS(namespace, 'use');\n    const path = `${iconPath}-${type}`;\n\n    // Set `href` attributes\n    // https://github.com/sampotts/WassPlayer/issues/460\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xlink:href\n    if ('href' in use) {\n      use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n    }\n\n    // Always set the older attribute even though it's \"deprecated\" (it'll be around for ages)\n    use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path);\n\n    // Add <use> to <svg>\n    icon.appendChild(use);\n\n    return icon;\n  },\n\n  // Create hidden text label\n  createLabel(key, attr = {}) {\n    const text = i18n.get(key, this.config);\n    const attributes = { ...attr, class: [attr.class, this.config.classNames.hidden].filter(Boolean).join(' ') };\n\n    return createElement('span', attributes, text);\n  },\n\n  // Create a badge\n  createBadge(text) {\n    if (is.empty(text)) {\n      return null;\n    }\n\n    const badge = createElement('span', {\n      class: this.config.classNames.menu.value,\n    });\n\n    badge.appendChild(\n      createElement(\n        'span',\n        {\n          class: this.config.classNames.menu.badge,\n        },\n        text,\n      ),\n    );\n\n    return badge;\n  },\n\n  // Create a <button>\n  createButton(buttonType, attr) {\n    const attributes = extend({}, attr);\n    let type = toCamelCase(buttonType);\n\n    const props = {\n      element: 'button',\n      toggle: false,\n      label: null,\n      icon: null,\n      labelPressed: null,\n      iconPressed: null,\n    };\n\n    ['element', 'icon', 'label'].forEach(key => {\n      if (Object.keys(attributes).includes(key)) {\n        props[key] = attributes[key];\n        delete attributes[key];\n      }\n    });\n\n    // Default to 'button' type to prevent form submission\n    if (props.element === 'button' && !Object.keys(attributes).includes('type')) {\n      attributes.type = 'button';\n    }\n\n    // Set class name\n    if (Object.keys(attributes).includes('class')) {\n      if (!attributes.class.split(' ').some(c => c === this.config.classNames.control)) {\n        extend(attributes, {\n          class: `${attributes.class} ${this.config.classNames.control}`,\n        });\n      }\n    } else {\n      attributes.class = this.config.classNames.control;\n    }\n\n    // Large play button\n    switch (buttonType) {\n      case 'play':\n        props.toggle = true;\n        props.label = 'play';\n        props.labelPressed = 'pause';\n        props.icon = 'play';\n        props.iconPressed = 'pause';\n        break;\n\n      case 'mute':\n        props.toggle = true;\n        props.label = 'mute';\n        props.labelPressed = 'unmute';\n        props.icon = 'volume';\n        props.iconPressed = 'muted';\n        break;\n\n      case 'captions':\n        props.toggle = true;\n        props.label = 'enableCaptions';\n        props.labelPressed = 'disableCaptions';\n        props.icon = 'captions-off';\n        props.iconPressed = 'captions-on';\n        break;\n\n      case 'fullscreen':\n        props.toggle = true;\n        props.label = 'enterFullscreen';\n        props.labelPressed = 'exitFullscreen';\n        props.icon = 'enter-fullscreen';\n        props.iconPressed = 'exit-fullscreen';\n        break;\n\n      case 'play-large':\n        attributes.class += ` ${this.config.classNames.control}--overlaid`;\n        type = 'play';\n        props.label = 'play';\n        props.icon = 'play';\n        break;\n\n      default:\n        if (is.empty(props.label)) {\n          props.label = type;\n        }\n        if (is.empty(props.icon)) {\n          props.icon = buttonType;\n        }\n    }\n\n    const button = createElement(props.element);\n\n    // Setup toggle icon and labels\n    if (props.toggle) {\n      // Icon\n      button.appendChild(\n        controls.createIcon.call(this, props.iconPressed, {\n          class: 'icon--pressed',\n        }),\n      );\n      button.appendChild(\n        controls.createIcon.call(this, props.icon, {\n          class: 'icon--not-pressed',\n        }),\n      );\n\n      // Label/Tooltip\n      button.appendChild(\n        controls.createLabel.call(this, props.labelPressed, {\n          class: 'label--pressed',\n        }),\n      );\n      button.appendChild(\n        controls.createLabel.call(this, props.label, {\n          class: 'label--not-pressed',\n        }),\n      );\n    } else {\n      button.appendChild(controls.createIcon.call(this, props.icon));\n      button.appendChild(controls.createLabel.call(this, props.label));\n    }\n\n    // Merge and set attributes\n    extend(attributes, getAttributesFromSelector(this.config.selectors.buttons[type], attributes));\n    setAttributes(button, attributes);\n\n    // We have multiple play buttons\n    if (type === 'play') {\n      if (!is.array(this.elements.buttons[type])) {\n        this.elements.buttons[type] = [];\n      }\n\n      this.elements.buttons[type].push(button);\n    } else {\n      this.elements.buttons[type] = button;\n    }\n\n    return button;\n  },\n\n  // Create an <input type='range'>\n  createRange(type, attributes) {\n    // Seek input\n    const input = createElement(\n      'input',\n      extend(\n        getAttributesFromSelector(this.config.selectors.inputs[type]),\n        {\n          type: 'range',\n          min: 0,\n          max: 100,\n          step: 0.01,\n          value: 0,\n          autocomplete: 'off',\n          // A11y fixes for https://github.com/sampotts/WassPlayer/issues/905\n          role: 'slider',\n          'aria-label': i18n.get(type, this.config),\n          'aria-valuemin': 0,\n          'aria-valuemax': 100,\n          'aria-valuenow': 0,\n        },\n        attributes,\n      ),\n    );\n\n    this.elements.inputs[type] = input;\n\n    // Set the fill for webkit now\n    controls.updateRangeFill.call(this, input);\n\n    // Improve support on touch devices\n    RangeTouch.setup(input);\n\n    return input;\n  },\n\n  // Create a <progress>\n  createProgress(type, attributes) {\n    const progress = createElement(\n      'progress',\n      extend(\n        getAttributesFromSelector(this.config.selectors.display[type]),\n        {\n          min: 0,\n          max: 100,\n          value: 0,\n          role: 'progressbar',\n          'aria-hidden': true,\n        },\n        attributes,\n      ),\n    );\n\n    // Create the label inside\n    if (type !== 'volume') {\n      progress.appendChild(createElement('span', null, '0'));\n\n      const suffixKey = {\n        played: 'played',\n        buffer: 'buffered',\n      }[type];\n      const suffix = suffixKey ? i18n.get(suffixKey, this.config) : '';\n\n      progress.innerText = `% ${suffix.toLowerCase()}`;\n    }\n\n    this.elements.display[type] = progress;\n\n    return progress;\n  },\n\n  // Create time display\n  createTime(type, attrs) {\n    const attributes = getAttributesFromSelector(this.config.selectors.display[type], attrs);\n\n    const container = createElement(\n      'div',\n      extend(attributes, {\n        class: `${attributes.class ? attributes.class : ''} ${this.config.classNames.display.time} `.trim(),\n        'aria-label': i18n.get(type, this.config),\n      }),\n      '00:00',\n    );\n\n    // Reference for updates\n    this.elements.display[type] = container;\n\n    return container;\n  },\n\n  // Bind keyboard shortcuts for a menu item\n  // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n  bindMenuItemShortcuts(menuItem, type) {\n    // Navigate through menus via arrow keys and space\n    on.call(\n      this,\n      menuItem,\n      'keydown keyup',\n      event => {\n        // We only care about space and   \n        if (![32, 38, 39, 40].includes(event.which)) {\n          return;\n        }\n\n        // Prevent play / seek\n        event.preventDefault();\n        event.stopPropagation();\n\n        // We're just here to prevent the keydown bubbling\n        if (event.type === 'keydown') {\n          return;\n        }\n\n        const isRadioButton = matches(menuItem, '[role=\"menuitemradio\"]');\n\n        // Show the respective menu\n        if (!isRadioButton && [32, 39].includes(event.which)) {\n          controls.showMenuPanel.call(this, type, true);\n        } else {\n          let target;\n\n          if (event.which !== 32) {\n            if (event.which === 40 || (isRadioButton && event.which === 39)) {\n              target = menuItem.nextElementSibling;\n\n              if (!is.element(target)) {\n                target = menuItem.parentNode.firstElementChild;\n              }\n            } else {\n              target = menuItem.previousElementSibling;\n\n              if (!is.element(target)) {\n                target = menuItem.parentNode.lastElementChild;\n              }\n            }\n\n            setFocus.call(this, target, true);\n          }\n        }\n      },\n      false,\n    );\n\n    // Enter will fire a `click` event but we still need to manage focus\n    // So we bind to keyup which fires after and set focus here\n    on.call(this, menuItem, 'keyup', event => {\n      if (event.which !== 13) {\n        return;\n      }\n\n      controls.focusFirstMenuItem.call(this, null, true);\n    });\n  },\n\n  // Create a settings menu item\n  createMenuItem({ value, list, type, title, badge = null, checked = false }) {\n    const attributes = getAttributesFromSelector(this.config.selectors.inputs[type]);\n\n    const menuItem = createElement(\n      'button',\n      extend(attributes, {\n        type: 'button',\n        role: 'menuitemradio',\n        class: `${this.config.classNames.control} ${attributes.class ? attributes.class : ''}`.trim(),\n        'aria-checked': checked,\n        value,\n      }),\n    );\n\n    const flex = createElement('span');\n\n    // We have to set as HTML incase of special characters\n    flex.innerHTML = title;\n\n    if (is.element(badge)) {\n      flex.appendChild(badge);\n    }\n\n    menuItem.appendChild(flex);\n\n    // Replicate radio button behaviour\n    Object.defineProperty(menuItem, 'checked', {\n      enumerable: true,\n      get() {\n        return menuItem.getAttribute('aria-checked') === 'true';\n      },\n      set(check) {\n        // Ensure exclusivity\n        if (check) {\n          Array.from(menuItem.parentNode.children)\n            .filter(node => matches(node, '[role=\"menuitemradio\"]'))\n            .forEach(node => node.setAttribute('aria-checked', 'false'));\n        }\n\n        menuItem.setAttribute('aria-checked', check ? 'true' : 'false');\n      },\n    });\n\n    this.listeners.bind(\n      menuItem,\n      'click keyup',\n      event => {\n        if (is.keyboardEvent(event) && event.which !== 32) {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        menuItem.checked = true;\n\n        switch (type) {\n          case 'language':\n            this.currentTrack = Number(value);\n            break;\n\n          case 'quality':\n            this.quality = value;\n            break;\n\n          case 'speed':\n            this.speed = parseFloat(value);\n            break;\n\n          default:\n            break;\n        }\n\n        controls.showMenuPanel.call(this, 'home', is.keyboardEvent(event));\n      },\n      type,\n      false,\n    );\n\n    controls.bindMenuItemShortcuts.call(this, menuItem, type);\n\n    list.appendChild(menuItem);\n  },\n\n  // Format a time for display\n  formatTime(time = 0, inverted = false) {\n    // Bail if the value isn't a number\n    if (!is.number(time)) {\n      return time;\n    }\n\n    // Always display hours if duration is over an hour\n    const forceHours = getHours(this.duration) > 0;\n\n    return formatTime(time, forceHours, inverted);\n  },\n\n  // Update the displayed time\n  updateTimeDisplay(target = null, time = 0, inverted = false) {\n    // Bail if there's no element to display or the value isn't a number\n    if (!is.element(target) || !is.number(time)) {\n      return;\n    }\n\n    // eslint-disable-next-line no-param-reassign\n    target.innerText = controls.formatTime(time, inverted);\n  },\n\n  // Update volume UI and storage\n  updateVolume() {\n    if (!this.supported.ui) {\n      return;\n    }\n\n    // Update range\n    if (is.element(this.elements.inputs.volume)) {\n      controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume);\n    }\n\n    // Update mute state\n    if (is.element(this.elements.buttons.mute)) {\n      this.elements.buttons.mute.pressed = this.muted || this.volume === 0;\n    }\n  },\n\n  // Update seek value and lower fill\n  setRange(target, value = 0) {\n    if (!is.element(target)) {\n      return;\n    }\n\n    // eslint-disable-next-line\n    target.value = value;\n\n    // Webkit range fill\n    controls.updateRangeFill.call(this, target);\n  },\n\n  // Update <progress> elements\n  updateProgress(event) {\n    if (!this.supported.ui || !is.event(event)) {\n      return;\n    }\n\n    let value = 0;\n\n    const setProgress = (target, input) => {\n      const val = is.number(input) ? input : 0;\n      const progress = is.element(target) ? target : this.elements.display.buffer;\n\n      // Update value and label\n      if (is.element(progress)) {\n        progress.value = val;\n\n        // Update text label inside\n        const label = progress.getElementsByTagName('span')[0];\n        if (is.element(label)) {\n          label.childNodes[0].nodeValue = val;\n        }\n      }\n    };\n\n    if (event) {\n      switch (event.type) {\n        // Video playing\n        case 'timeupdate':\n        case 'seeking':\n        case 'seeked':\n          value = getPercentage(this.currentTime, this.duration);\n\n          // Set seek range value only if it's a 'natural' time event\n          if (event.type === 'timeupdate') {\n            controls.setRange.call(this, this.elements.inputs.seek, value);\n          }\n\n          break;\n\n        // Check buffer status\n        case 'playing':\n        case 'progress':\n          setProgress(this.elements.display.buffer, this.buffered * 100);\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  },\n\n  // Webkit polyfill for lower fill range\n  updateRangeFill(target) {\n    // Get range from event if event passed\n    const range = is.event(target) ? target.target : target;\n\n    // Needs to be a valid <input type='range'>\n    if (!is.element(range) || range.getAttribute('type') !== 'range') {\n      return;\n    }\n\n    // Set aria values for https://github.com/sampotts/WassPlayer/issues/905\n    if (matches(range, this.config.selectors.inputs.seek)) {\n      range.setAttribute('aria-valuenow', this.currentTime);\n      const currentTime = controls.formatTime(this.currentTime);\n      const duration = controls.formatTime(this.duration);\n      const format = i18n.get('seekLabel', this.config);\n      range.setAttribute(\n        'aria-valuetext',\n        format.replace('{currentTime}', currentTime).replace('{duration}', duration),\n      );\n    } else if (matches(range, this.config.selectors.inputs.volume)) {\n      const percent = range.value * 100;\n      range.setAttribute('aria-valuenow', percent);\n      range.setAttribute('aria-valuetext', `${percent.toFixed(1)}%`);\n    } else {\n      range.setAttribute('aria-valuenow', range.value);\n    }\n\n    // WebKit only\n    if (!browser.isWebkit) {\n      return;\n    }\n\n    // Set CSS custom property\n    range.style.setProperty('--value', `${(range.value / range.max) * 100}%`);\n  },\n\n  // Update hover tooltip for seeking\n  updateSeekTooltip(event) {\n    // Bail if setting not true\n    if (\n      !this.config.tooltips.seek ||\n      !is.element(this.elements.inputs.seek) ||\n      !is.element(this.elements.display.seekTooltip) ||\n      this.duration === 0\n    ) {\n      return;\n    }\n\n    const visible = `${this.config.classNames.tooltip}--visible`;\n    const toggle = show => toggleClass(this.elements.display.seekTooltip, visible, show);\n\n    // Hide on touch\n    if (this.touch) {\n      toggle(false);\n      return;\n    }\n\n    // Determine percentage, if already visible\n    let percent = 0;\n    const clientRect = this.elements.progress.getBoundingClientRect();\n\n    if (is.event(event)) {\n      percent = (100 / clientRect.width) * (event.pageX - clientRect.left);\n    } else if (hasClass(this.elements.display.seekTooltip, visible)) {\n      percent = parseFloat(this.elements.display.seekTooltip.style.left, 10);\n    } else {\n      return;\n    }\n\n    // Set bounds\n    if (percent < 0) {\n      percent = 0;\n    } else if (percent > 100) {\n      percent = 100;\n    }\n\n    // Display the time a click would seek to\n    controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, (this.duration / 100) * percent);\n\n    // Set position\n    this.elements.display.seekTooltip.style.left = `${percent}%`;\n\n    // Show/hide the tooltip\n    // If the event is a moues in/out and percentage is inside bounds\n    if (is.event(event) && ['mouseenter', 'mouseleave'].includes(event.type)) {\n      toggle(event.type === 'mouseenter');\n    }\n  },\n\n  // Handle time change event\n  timeUpdate(event) {\n    // Only invert if only one time element is displayed and used for both duration and currentTime\n    const invert = !is.element(this.elements.display.duration) && this.config.invertTime;\n\n    // Duration\n    controls.updateTimeDisplay.call(\n      this,\n      this.elements.display.currentTime,\n      invert ? this.duration - this.currentTime : this.currentTime,\n      invert,\n    );\n\n    // Ignore updates while seeking\n    if (event && event.type === 'timeupdate' && this.media.seeking) {\n      return;\n    }\n\n    // Playing progress\n    controls.updateProgress.call(this, event);\n  },\n\n  // Show the duration on metadataloaded or durationchange events\n  durationUpdate() {\n    // Bail if no UI or durationchange event triggered after playing/seek when invertTime is false\n    if (!this.supported.ui || (!this.config.invertTime && this.currentTime)) {\n      return;\n    }\n\n    // If duration is the 2**32 (shaka), Infinity (HLS), DASH-IF (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE) indicating live we hide the currentTime and progressbar.\n    // https://github.com/video-dev/hls.js/blob/5820d29d3c4c8a46e8b75f1e3afa3e68c1a9a2db/src/controller/buffer-controller.js#L415\n    // https://github.com/google/shaka-player/blob/4d889054631f4e1cf0fbd80ddd2b71887c02e232/lib/media/streaming_engine.js#L1062\n    // https://github.com/Dash-Industry-Forum/dash.js/blob/69859f51b969645b234666800d4cb596d89c602d/src/dash/models/DashManifestModel.js#L338\n    if (this.duration >= 2 ** 32) {\n      toggleHidden(this.elements.display.currentTime, true);\n      toggleHidden(this.elements.progress, true);\n      return;\n    }\n\n    // Update ARIA values\n    if (is.element(this.elements.inputs.seek)) {\n      this.elements.inputs.seek.setAttribute('aria-valuemax', this.duration);\n    }\n\n    // If there's a spot to display duration\n    const hasDuration = is.element(this.elements.display.duration);\n\n    // If there's only one time display, display duration there\n    if (!hasDuration && this.config.displayDuration && this.paused) {\n      controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration);\n    }\n\n    // If there's a duration element, update content\n    if (hasDuration) {\n      controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration);\n    }\n\n    // Update the tooltip (if visible)\n    controls.updateSeekTooltip.call(this);\n  },\n\n  // Hide/show a tab\n  toggleMenuButton(setting, toggle) {\n    toggleHidden(this.elements.settings.buttons[setting], !toggle);\n  },\n\n  // Update the selected setting\n  updateSetting(setting, container, input) {\n    const pane = this.elements.settings.panels[setting];\n    let value = null;\n    let list = container;\n\n    if (setting === 'captions') {\n      value = this.currentTrack;\n    } else {\n      value = !is.empty(input) ? input : this[setting];\n\n      // Get default\n      if (is.empty(value)) {\n        value = this.config[setting].default;\n      }\n\n      // Unsupported value\n      if (!is.empty(this.options[setting]) && !this.options[setting].includes(value)) {\n        this.debug.warn(`Unsupported value of '${value}' for ${setting}`);\n        return;\n      }\n\n      // Disabled value\n      if (!this.config[setting].options.includes(value)) {\n        this.debug.warn(`Disabled value of '${value}' for ${setting}`);\n        return;\n      }\n    }\n\n    // Get the list if we need to\n    if (!is.element(list)) {\n      list = pane && pane.querySelector('[role=\"menu\"]');\n    }\n\n    // If there's no list it means it's not been rendered...\n    if (!is.element(list)) {\n      return;\n    }\n\n    // Update the label\n    const label = this.elements.settings.buttons[setting].querySelector(`.${this.config.classNames.menu.value}`);\n    label.innerHTML = controls.getLabel.call(this, setting, value);\n\n    // Find the radio option and check it\n    const target = list && list.querySelector(`[value=\"${value}\"]`);\n\n    if (is.element(target)) {\n      target.checked = true;\n    }\n  },\n\n  // Translate a value into a nice label\n  getLabel(setting, value) {\n    switch (setting) {\n      case 'speed':\n        return value === 1 ? i18n.get('normal', this.config) : `${value}&times;`;\n\n      case 'quality':\n        if (is.number(value)) {\n          const label = i18n.get(`qualityLabel.${value}`, this.config);\n\n          if (!label.length) {\n            return `${value}p`;\n          }\n\n          return label;\n        }\n\n        return toTitleCase(value);\n\n      case 'captions':\n        return captions.getLabel.call(this);\n\n      default:\n        return null;\n    }\n  },\n\n  // Set the quality menu\n  setQualityMenu(options) {\n    // Menu required\n    if (!is.element(this.elements.settings.panels.quality)) {\n      return;\n    }\n\n    const type = 'quality';\n    const list = this.elements.settings.panels.quality.querySelector('[role=\"menu\"]');\n\n    // Set options if passed and filter based on uniqueness and config\n    if (is.array(options)) {\n      this.options.quality = dedupe(options).filter(quality => this.config.quality.options.includes(quality));\n    }\n\n    // Toggle the pane and tab\n    const toggle = !is.empty(this.options.quality) && this.options.quality.length > 1;\n    controls.toggleMenuButton.call(this, type, toggle);\n\n    // Empty the menu\n    emptyElement(list);\n\n    // Check if we need to toggle the parent\n    controls.checkMenu.call(this);\n\n    // If we're hiding, nothing more to do\n    if (!toggle) {\n      return;\n    }\n\n    // Get the badge HTML for HD, 4K etc\n    const getBadge = quality => {\n      const label = i18n.get(`qualityBadge.${quality}`, this.config);\n\n      if (!label.length) {\n        return null;\n      }\n\n      return controls.createBadge.call(this, label);\n    };\n\n    // Sort options by the config and then render options\n    this.options.quality\n      .sort((a, b) => {\n        const sorting = this.config.quality.options;\n        return sorting.indexOf(a) > sorting.indexOf(b) ? 1 : -1;\n      })\n      .forEach(quality => {\n        controls.createMenuItem.call(this, {\n          value: quality,\n          list,\n          type,\n          title: controls.getLabel.call(this, 'quality', quality),\n          badge: getBadge(quality),\n        });\n      });\n\n    controls.updateSetting.call(this, type, list);\n  },\n\n  // Set the looping options\n  /* setLoopMenu() {\n        // Menu required\n        if (!is.element(this.elements.settings.panels.loop)) {\n            return;\n        }\n\n        const options = ['start', 'end', 'all', 'reset'];\n        const list = this.elements.settings.panels.loop.querySelector('[role=\"menu\"]');\n\n        // Show the pane and tab\n        toggleHidden(this.elements.settings.buttons.loop, false);\n        toggleHidden(this.elements.settings.panels.loop, false);\n\n        // Toggle the pane and tab\n        const toggle = !is.empty(this.loop.options);\n        controls.toggleMenuButton.call(this, 'loop', toggle);\n\n        // Empty the menu\n        emptyElement(list);\n\n        options.forEach(option => {\n            const item = createElement('li');\n\n            const button = createElement(\n                'button',\n                extend(getAttributesFromSelector(this.config.selectors.buttons.loop), {\n                    type: 'button',\n                    class: this.config.classNames.control,\n                    'data-wassPlayer-loop-action': option,\n                }),\n                i18n.get(option, this.config)\n            );\n\n            if (['start', 'end'].includes(option)) {\n                const badge = controls.createBadge.call(this, '00:00');\n                button.appendChild(badge);\n            }\n\n            item.appendChild(button);\n            list.appendChild(item);\n        });\n    }, */\n\n  // Get current selected caption language\n\n  // Set a list of available captions languages\n  setCaptionsMenu() {\n    // Menu required\n    if (!is.element(this.elements.settings.panels.captions)) {\n      return;\n    }\n\n    const type = 'captions';\n    const list = this.elements.settings.panels.captions.querySelector('[role=\"menu\"]');\n    const tracks = captions.getTracks.call(this);\n    const toggle = Boolean(tracks.length);\n\n    // Toggle the pane and tab\n    controls.toggleMenuButton.call(this, type, toggle);\n\n    // Empty the menu\n    emptyElement(list);\n\n    // Check if we need to toggle the parent\n    controls.checkMenu.call(this);\n\n    // If there's no captions, bail\n    if (!toggle) {\n      return;\n    }\n\n    // Generate options data\n    const options = tracks.map((track, value) => ({\n      value,\n      checked: this.captions.toggled && this.currentTrack === value,\n      title: captions.getLabel.call(this, track),\n      badge: track.language && controls.createBadge.call(this, track.language.toUpperCase()),\n      list,\n      type: 'language',\n    }));\n\n    // Add the \"Disabled\" option to turn off captions\n    options.unshift({\n      value: -1,\n      checked: !this.captions.toggled,\n      title: i18n.get('disabled', this.config),\n      list,\n      type: 'language',\n    });\n\n    // Generate options\n    options.forEach(controls.createMenuItem.bind(this));\n\n    controls.updateSetting.call(this, type, list);\n  },\n\n  // Set a list of available captions languages\n  setSpeedMenu() {\n    // Menu required\n    if (!is.element(this.elements.settings.panels.speed)) {\n      return;\n    }\n\n    const type = 'speed';\n    const list = this.elements.settings.panels.speed.querySelector('[role=\"menu\"]');\n\n    // Filter out invalid speeds\n    this.options.speed = this.options.speed.filter(o => o >= this.minimumSpeed && o <= this.maximumSpeed);\n\n    // Toggle the pane and tab\n    const toggle = !is.empty(this.options.speed) && this.options.speed.length > 1;\n    controls.toggleMenuButton.call(this, type, toggle);\n\n    // Empty the menu\n    emptyElement(list);\n\n    // Check if we need to toggle the parent\n    controls.checkMenu.call(this);\n\n    // If we're hiding, nothing more to do\n    if (!toggle) {\n      return;\n    }\n\n    // Create items\n    this.options.speed.forEach(speed => {\n      controls.createMenuItem.call(this, {\n        value: speed,\n        list,\n        type,\n        title: controls.getLabel.call(this, 'speed', speed),\n      });\n    });\n\n    controls.updateSetting.call(this, type, list);\n  },\n\n  // Check if we need to hide/show the settings menu\n  checkMenu() {\n    const { buttons } = this.elements.settings;\n    const visible = !is.empty(buttons) && Object.values(buttons).some(button => !button.hidden);\n\n    toggleHidden(this.elements.settings.menu, !visible);\n  },\n\n  // Focus the first menu item in a given (or visible) menu\n  focusFirstMenuItem(pane, tabFocus = false) {\n    if (this.elements.settings.popup.hidden) {\n      return;\n    }\n\n    let target = pane;\n\n    if (!is.element(target)) {\n      target = Object.values(this.elements.settings.panels).find(p => !p.hidden);\n    }\n\n    const firstItem = target.querySelector('[role^=\"menuitem\"]');\n\n    setFocus.call(this, firstItem, tabFocus);\n  },\n\n  // Show/hide menu\n  toggleMenu(input) {\n    const { popup } = this.elements.settings;\n    const button = this.elements.buttons.settings;\n\n    // Menu and button are required\n    if (!is.element(popup) || !is.element(button)) {\n      return;\n    }\n\n    // True toggle by default\n    const { hidden } = popup;\n    let show = hidden;\n\n    if (is.boolean(input)) {\n      show = input;\n    } else if (is.keyboardEvent(input) && input.which === 27) {\n      show = false;\n    } else if (is.event(input)) {\n      // If WassPlayer is in a shadowDOM, the event target is set to the component, instead of the\n      // Element in the shadowDOM. The path, if available, is complete.\n      const target = is.function(input.composedPath) ? input.composedPath()[0] : input.target;\n      const isMenuItem = popup.contains(target);\n\n      // If the click was inside the menu or if the click\n      // wasn't the button or menu item and we're trying to\n      // show the menu (a doc click shouldn't show the menu)\n      if (isMenuItem || (!isMenuItem && input.target !== button && show)) {\n        return;\n      }\n    }\n\n    // Set button attributes\n    button.setAttribute('aria-expanded', show);\n\n    // Show the actual popup\n    toggleHidden(popup, !show);\n\n    // Add class hook\n    toggleClass(this.elements.container, this.config.classNames.menu.open, show);\n\n    // Focus the first item if key interaction\n    if (show && is.keyboardEvent(input)) {\n      controls.focusFirstMenuItem.call(this, null, true);\n    } else if (!show && !hidden) {\n      // If closing, re-focus the button\n      setFocus.call(this, button, is.keyboardEvent(input));\n    }\n  },\n\n  // Get the natural size of a menu panel\n  getMenuSize(tab) {\n    const clone = tab.cloneNode(true);\n    clone.style.position = 'absolute';\n    clone.style.opacity = 0;\n    clone.removeAttribute('hidden');\n\n    // Append to parent so we get the \"real\" size\n    tab.parentNode.appendChild(clone);\n\n    // Get the sizes before we remove\n    const width = clone.scrollWidth;\n    const height = clone.scrollHeight;\n\n    // Remove from the DOM\n    removeElement(clone);\n\n    return {\n      width,\n      height,\n    };\n  },\n\n  // Show a panel in the menu\n  showMenuPanel(type = '', tabFocus = false) {\n    const target = this.elements.container.querySelector(`#wassPlayer-settings-${this.id}-${type}`);\n\n    // Nothing to show, bail\n    if (!is.element(target)) {\n      return;\n    }\n\n    // Hide all other panels\n    const container = target.parentNode;\n    const current = Array.from(container.children).find(node => !node.hidden);\n\n    // If we can do fancy animations, we'll animate the height/width\n    if (support.transitions && !support.reducedMotion) {\n      // Set the current width as a base\n      container.style.width = `${current.scrollWidth}px`;\n      container.style.height = `${current.scrollHeight}px`;\n\n      // Get potential sizes\n      const size = controls.getMenuSize.call(this, target);\n\n      // Restore auto height/width\n      const restore = event => {\n        // We're only bothered about height and width on the container\n        if (event.target !== container || !['width', 'height'].includes(event.propertyName)) {\n          return;\n        }\n\n        // Revert back to auto\n        container.style.width = '';\n        container.style.height = '';\n\n        // Only listen once\n        off.call(this, container, transitionEndEvent, restore);\n      };\n\n      // Listen for the transition finishing and restore auto height/width\n      on.call(this, container, transitionEndEvent, restore);\n\n      // Set dimensions to target\n      container.style.width = `${size.width}px`;\n      container.style.height = `${size.height}px`;\n    }\n\n    // Set attributes on current tab\n    toggleHidden(current, true);\n\n    // Set attributes on target\n    toggleHidden(target, false);\n\n    // Focus the first item\n    controls.focusFirstMenuItem.call(this, target, tabFocus);\n  },\n\n  // Set the download URL\n  setDownloadUrl() {\n    const button = this.elements.buttons.download;\n\n    // Bail if no button\n    if (!is.element(button)) {\n      return;\n    }\n\n    // Set attribute\n    button.setAttribute('href', this.download);\n  },\n\n  // Build the default HTML\n  create(data) {\n    const {\n      bindMenuItemShortcuts,\n      createButton,\n      createProgress,\n      createRange,\n      createTime,\n      setQualityMenu,\n      setSpeedMenu,\n      showMenuPanel,\n    } = controls;\n    this.elements.controls = null;\n\n    // Larger overlaid play button\n    if (is.array(this.config.controls) && this.config.controls.includes('play-large')) {\n      this.elements.container.appendChild(createButton.call(this, 'play-large'));\n    }\n\n    // Create the container\n    const container = createElement('div', getAttributesFromSelector(this.config.selectors.controls.wrapper));\n    this.elements.controls = container;\n\n    // Default item attributes\n    const defaultAttributes = { class: 'wassPlayer__controls__item' };\n\n    // Loop through controls in order\n    dedupe(is.array(this.config.controls) ? this.config.controls: []).forEach(control => {\n      // Restart button\n      if (control === 'restart') {\n        container.appendChild(createButton.call(this, 'restart', defaultAttributes));\n      }\n\n      // Rewind button\n      if (control === 'rewind') {\n        container.appendChild(createButton.call(this, 'rewind', defaultAttributes));\n      }\n\n      // Play/Pause button\n      if (control === 'play') {\n        container.appendChild(createButton.call(this, 'play', defaultAttributes));\n      }\n\n      // Fast forward button\n      if (control === 'fast-forward') {\n        container.appendChild(createButton.call(this, 'fast-forward', defaultAttributes));\n      }\n\n      // Progress\n      if (control === 'progress') {\n        const progressContainer = createElement('div', {\n          class: `${defaultAttributes.class} wassPlayer__progress__container`,\n        });\n\n        const progress = createElement('div', getAttributesFromSelector(this.config.selectors.progress));\n\n        // Seek range slider\n        progress.appendChild(\n          createRange.call(this, 'seek', {\n            id: `wassPlayer-seek-${data.id}`,\n          }),\n        );\n\n        // Buffer progress\n        progress.appendChild(createProgress.call(this, 'buffer'));\n\n        // Seek tooltip\n        if (this.config.tooltips.seek) {\n          const tooltip = createElement(\n            'span',\n            {\n              class: this.config.classNames.tooltip,\n            },\n            '00:00',\n          );\n\n          progress.appendChild(tooltip);\n          this.elements.display.seekTooltip = tooltip;\n        }\n\n        this.elements.progress = progress;\n        progressContainer.appendChild(this.elements.progress);\n        container.appendChild(progressContainer);\n      }\n\n      // Media current time display\n      if (control === 'current-time') {\n        container.appendChild(createTime.call(this, 'currentTime', defaultAttributes));\n      }\n\n      // Media duration display\n      if (control === 'duration') {\n        container.appendChild(createTime.call(this, 'duration', defaultAttributes));\n      }\n\n      // Volume controls\n      if (control === 'mute' || control === 'volume') {\n        let { volume } = this.elements;\n\n        // Create the volume container if needed\n        if (!is.element(volume) || !container.contains(volume)) {\n          volume = createElement(\n            'div',\n            extend({}, defaultAttributes, {\n              class: `${defaultAttributes.class} wassPlayer__volume`.trim(),\n            }),\n          );\n\n          this.elements.volume = volume;\n\n          container.appendChild(volume);\n        }\n\n        // Toggle mute button\n        if (control === 'mute') {\n          volume.appendChild(createButton.call(this, 'mute'));\n        }\n\n        // Volume range control\n        // Ignored on iOS as it's handled globally\n        // https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html\n        if (control === 'volume' && !browser.isIos) {\n          // Set the attributes\n          const attributes = {\n            max: 1,\n            step: 0.05,\n            value: this.config.volume,\n          };\n\n          // Create the volume range slider\n          volume.appendChild(\n            createRange.call(\n              this,\n              'volume',\n              extend(attributes, {\n                id: `wassPlayer-volume-${data.id}`,\n              }),\n            ),\n          );\n        }\n      }\n\n      // Toggle captions button\n      if (control === 'captions') {\n        container.appendChild(createButton.call(this, 'captions', defaultAttributes));\n      }\n\n      // Settings button / menu\n      if (control === 'settings' && !is.empty(this.config.settings)) {\n        const wrapper = createElement(\n          'div',\n          extend({}, defaultAttributes, {\n            class: `${defaultAttributes.class} wassPlayer__menu`.trim(),\n            hidden: '',\n          }),\n        );\n\n        wrapper.appendChild(\n          createButton.call(this, 'settings', {\n            'aria-haspopup': true,\n            'aria-controls': `wassPlayer-settings-${data.id}`,\n            'aria-expanded': false,\n          }),\n        );\n\n        const popup = createElement('div', {\n          class: 'wassPlayer__menu__container',\n          id: `wassPlayer-settings-${data.id}`,\n          hidden: '',\n        });\n\n        const inner = createElement('div');\n\n        const home = createElement('div', {\n          id: `wassPlayer-settings-${data.id}-home`,\n        });\n\n        // Create the menu\n        const menu = createElement('div', {\n          role: 'menu',\n        });\n\n        home.appendChild(menu);\n        inner.appendChild(home);\n        this.elements.settings.panels.home = home;\n\n        // Build the menu items\n        this.config.settings.forEach(type => {\n          const menuItem = createElement(\n            'button',\n            extend(getAttributesFromSelector(this.config.selectors.buttons.settings), {\n              type: 'button',\n              class: `${this.config.classNames.control} ${this.config.classNames.control}--forward`,\n              role: 'menuitem',\n              'aria-haspopup': true,\n              hidden: '',\n            }),\n          );\n\n          // Bind menu shortcuts for keyboard users\n          bindMenuItemShortcuts.call(this, menuItem, type);\n\n          // Show menu on click\n          on.call(this, menuItem, 'click', () => {\n            showMenuPanel.call(this, type, false);\n          });\n\n          const flex = createElement('span', null, i18n.get(type, this.config));\n\n          const value = createElement('span', {\n            class: this.config.classNames.menu.value,\n          });\n\n          // Speed contains HTML entities\n          value.innerHTML = data[type];\n\n          flex.appendChild(value);\n          menuItem.appendChild(flex);\n          menu.appendChild(menuItem);\n\n          // Build the panes\n          const pane = createElement('div', {\n            id: `wassPlayer-settings-${data.id}-${type}`,\n            hidden: '',\n          });\n\n          // Back button\n          const backButton = createElement('button', {\n            type: 'button',\n            class: `${this.config.classNames.control} ${this.config.classNames.control}--back`,\n          });\n\n          // Visible label\n          backButton.appendChild(\n            createElement(\n              'span',\n              {\n                'aria-hidden': true,\n              },\n              i18n.get(type, this.config),\n            ),\n          );\n\n          // Screen reader label\n          backButton.appendChild(\n            createElement(\n              'span',\n              {\n                class: this.config.classNames.hidden,\n              },\n              i18n.get('menuBack', this.config),\n            ),\n          );\n\n          // Go back via keyboard\n          on.call(\n            this,\n            pane,\n            'keydown',\n            event => {\n              // We only care about <-\n              if (event.which !== 37) {\n                return;\n              }\n\n              // Prevent seek\n              event.preventDefault();\n              event.stopPropagation();\n\n              // Show the respective menu\n              showMenuPanel.call(this, 'home', true);\n            },\n            false,\n          );\n\n          // Go back via button click\n          on.call(this, backButton, 'click', () => {\n            showMenuPanel.call(this, 'home', false);\n          });\n\n          // Add to pane\n          pane.appendChild(backButton);\n\n          // Menu\n          pane.appendChild(\n            createElement('div', {\n              role: 'menu',\n            }),\n          );\n\n          inner.appendChild(pane);\n\n          this.elements.settings.buttons[type] = menuItem;\n          this.elements.settings.panels[type] = pane;\n        });\n\n        popup.appendChild(inner);\n        wrapper.appendChild(popup);\n        container.appendChild(wrapper);\n\n        this.elements.settings.popup = popup;\n        this.elements.settings.menu = wrapper;\n      }\n\n      // Picture in picture button\n      if (control === 'pip' && support.pip) {\n        container.appendChild(createButton.call(this, 'pip', defaultAttributes));\n      }\n\n      // Airplay button\n      if (control === 'airplay' && support.airplay) {\n        container.appendChild(createButton.call(this, 'airplay', defaultAttributes));\n      }\n\n      // Download button\n      if (control === 'download') {\n        const attributes = extend({}, defaultAttributes, {\n          element: 'a',\n          href: this.download,\n          target: '_blank',\n        });\n\n        // Set download attribute for HTML5 only\n        if (this.isHTML5) {\n          attributes.download = '';\n        }\n\n        const { download } = this.config.urls;\n\n        if (!is.url(download) && this.isEmbed) {\n          extend(attributes, {\n            icon: `logo-${this.provider}`,\n            label: this.provider,\n          });\n        }\n\n        container.appendChild(createButton.call(this, 'download', attributes));\n      }\n\n      // Toggle fullscreen button\n      if (control === 'fullscreen') {\n        container.appendChild(createButton.call(this, 'fullscreen', defaultAttributes));\n      }\n    });\n\n    // Set available quality levels\n    if (this.isHTML5) {\n      setQualityMenu.call(this, html5.getQualityOptions.call(this));\n    }\n\n    setSpeedMenu.call(this);\n\n    return container;\n  },\n\n  // Insert controls\n  inject() {\n    // Sprite\n    if (this.config.loadSprite) {\n      const icon = controls.getIconUrl.call(this);\n\n      // Only load external sprite using AJAX\n      if (icon.cors) {\n        loadSprite(icon.url, 'sprite-wassPlayer');\n      }\n    }\n\n    // Create a unique ID\n    this.id = Math.floor(Math.random() * 10000);\n\n    // Null by default\n    let container = null;\n    this.elements.controls = null;\n\n    // Set template properties\n    const props = {\n      id: this.id,\n      seektime: this.config.seekTime,\n      title: this.config.title,\n    };\n    let update = true;\n\n    // If function, run it and use output\n    if (is.function(this.config.controls)) {\n      this.config.controls = this.config.controls.call(this, props);\n    }\n\n    // Convert falsy controls to empty array (primarily for empty strings)\n    if (!this.config.controls) {\n      this.config.controls = [];\n    }\n\n    if (is.element(this.config.controls) || is.string(this.config.controls)) {\n      // HTMLElement or Non-empty string passed as the option\n      container = this.config.controls;\n    } else {\n      // Create controls\n      container = controls.create.call(this, {\n        id: this.id,\n        seektime: this.config.seekTime,\n        speed: this.speed,\n        quality: this.quality,\n        captions: captions.getLabel.call(this),\n        // loop: 'None',\n      });\n      update = false;\n    }\n\n    // Replace props with their value\n    const replace = input => {\n      let result = input;\n\n      Object.entries(props).forEach(([key, value]) => {\n        result = replaceAll(result, `{${key}}`, value);\n      });\n\n      return result;\n    };\n\n    // Update markup\n    if (update) {\n      if (is.string(this.config.controls)) {\n        container = replace(container);\n      }\n    }\n\n    // Controls container\n    let target;\n\n    // Inject to custom location\n    if (is.string(this.config.selectors.controls.container)) {\n      target = document.querySelector(this.config.selectors.controls.container);\n    }\n\n    // Inject into the container by default\n    if (!is.element(target)) {\n      target = this.elements.container;\n    }\n\n    // Inject controls HTML (needs to be before captions, hence \"afterbegin\")\n    const insertMethod = is.element(container) ? 'insertAdjacentElement' : 'insertAdjacentHTML';\n    target[insertMethod]('afterbegin', container);\n\n    // Find the elements if need be\n    if (!is.element(this.elements.controls)) {\n      controls.findElements.call(this);\n    }\n\n    // Add pressed property to buttons\n    if (!is.empty(this.elements.buttons)) {\n      const addProperty = button => {\n        const className = this.config.classNames.controlPressed;\n        Object.defineProperty(button, 'pressed', {\n          enumerable: true,\n          get() {\n            return hasClass(button, className);\n          },\n          set(pressed = false) {\n            toggleClass(button, className, pressed);\n          },\n        });\n      };\n\n      // Toggle classname when pressed property is set\n      Object.values(this.elements.buttons)\n        .filter(Boolean)\n        .forEach(button => {\n          if (is.array(button) || is.nodeList(button)) {\n            Array.from(button)\n              .filter(Boolean)\n              .forEach(addProperty);\n          } else {\n            addProperty(button);\n          }\n        });\n    }\n\n    // Edge sometimes doesn't finish the paint so force a repaint\n    if (browser.isEdge) {\n      repaint(target);\n    }\n\n    // Setup tooltips\n    if (this.config.tooltips.controls) {\n      const { classNames, selectors } = this.config;\n      const selector = `${selectors.controls.wrapper} ${selectors.labels} .${classNames.hidden}`;\n      const labels = getElements.call(this, selector);\n\n      Array.from(labels).forEach(label => {\n        toggleClass(label, this.config.classNames.hidden, false);\n        toggleClass(label, this.config.classNames.tooltip, true);\n      });\n    }\n  },\n};\n\nexport default controls;\n","// ==========================================================================\n// URL utils\n// ==========================================================================\n\nimport is from './is';\n\n/**\n * Parse a string to a URL object\n * @param {String} input - the URL to be parsed\n * @param {Boolean} safe - failsafe parsing\n */\nexport function parseUrl(input, safe = true) {\n  let url = input;\n\n  if (safe) {\n    const parser = document.createElement('a');\n    parser.href = url;\n    url = parser.href;\n  }\n\n  try {\n    return new URL(url);\n  } catch (e) {\n    return null;\n  }\n}\n\n// Convert object to URLSearchParams\nexport function buildUrlParams(input) {\n  const params = new URLSearchParams();\n\n  if (is.object(input)) {\n    Object.entries(input).forEach(([key, value]) => {\n      params.set(key, value);\n    });\n  }\n\n  return params;\n}\n","// ==========================================================================\n// WassPlayer Captions\n// ==========================================================================\n\n// eslint-disable-next-line import/no-cycle\nimport controls from './controls';\nimport support from './support';\nimport { dedupe } from './utils/arrays';\nimport browser from './utils/browser';\nimport {\n  createElement,\n  emptyElement,\n  getAttributesFromSelector,\n  insertAfter,\n  removeElement,\n  toggleClass,\n} from './utils/elements';\nimport { on, triggerEvent } from './utils/events';\nimport fetch from './utils/fetch';\nimport i18n from './utils/i18n';\nimport is from './utils/is';\nimport { getHTML } from './utils/strings';\nimport { parseUrl } from './utils/urls';\n\nconst captions = {\n  // Setup captions\n  setup() {\n    // Requires UI support\n    if (!this.supported.ui) {\n      return;\n    }\n\n    // Only Vimeo and HTML5 video supported at this point\n    if (!this.isVideo || this.isYouTube || (this.isHTML5 && !support.textTracks)) {\n      // Clear menu and hide\n      if (\n        is.array(this.config.controls) &&\n        this.config.controls.includes('settings') &&\n        this.config.settings.includes('captions')\n      ) {\n        controls.setCaptionsMenu.call(this);\n      }\n\n      return;\n    }\n\n    // Inject the container\n    if (!is.element(this.elements.captions)) {\n      this.elements.captions = createElement('div', getAttributesFromSelector(this.config.selectors.captions));\n\n      insertAfter(this.elements.captions, this.elements.wrapper);\n    }\n\n    // Fix IE captions if CORS is used\n    // Fetch captions and inject as blobs instead (data URIs not supported!)\n    if (browser.isIE && window.URL) {\n      const elements = this.media.querySelectorAll('track');\n\n      Array.from(elements).forEach(track => {\n        const src = track.getAttribute('src');\n        const url = parseUrl(src);\n\n        if (\n          url !== null &&\n          url.hostname !== window.location.href.hostname &&\n          ['http:', 'https:'].includes(url.protocol)\n        ) {\n          fetch(src, 'blob')\n            .then(blob => {\n              track.setAttribute('src', window.URL.createObjectURL(blob));\n            })\n            .catch(() => {\n              removeElement(track);\n            });\n        }\n      });\n    }\n\n    const browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage || 'en'];\n    const languages = dedupe(browserLanguages.map(language => language.split('-')[0]));\n    let language = (this.storage.get('language') || this.config.captions.language || 'auto').toLowerCase();\n\n    // Use first browser language when language is 'auto'\n    if (language === 'auto') {\n      [language] = languages;\n    }\n\n    let active = this.storage.get('captions');\n    if (!is.boolean(active)) {\n      ({ active } = this.config.captions);\n    }\n\n    Object.assign(this.captions, {\n      toggled: false,\n      active,\n      language,\n      languages,\n    });\n\n    // Watch changes to textTracks and update captions menu\n    if (this.isHTML5) {\n      const trackEvents = this.config.captions.update ? 'addtrack removetrack' : 'removetrack';\n      on.call(this, this.media.textTracks, trackEvents, captions.update.bind(this));\n    }\n\n    // Update available languages in list next tick (the event must not be triggered before the listeners)\n    setTimeout(captions.update.bind(this), 0);\n  },\n\n  // Update available language options in settings based on tracks\n  update() {\n    const tracks = captions.getTracks.call(this, true);\n    // Get the wanted language\n    const { active, language, meta, currentTrackNode } = this.captions;\n    const languageExists = Boolean(tracks.find(track => track.language === language));\n\n    // Handle tracks (add event listener and \"pseudo\"-default)\n    if (this.isHTML5 && this.isVideo) {\n      tracks\n        .filter(track => !meta.get(track))\n        .forEach(track => {\n          this.debug.log('Track added', track);\n\n          // Attempt to store if the original dom element was \"default\"\n          meta.set(track, {\n            default: track.mode === 'showing',\n          });\n\n          // eslint-disable-next-line no-param-reassign\n          if (track.mode === 'showing') {\n            // eslint-disable-next-line no-param-reassign\n            track.mode = 'hidden';\n          }\n\n          // Add event listener for cue changes\n          on.call(this, track, 'cuechange', () => captions.updateCues.call(this));\n        });\n    }\n\n    // Update language first time it matches, or if the previous matching track was removed\n    if ((languageExists && this.language !== language) || !tracks.includes(currentTrackNode)) {\n      captions.setLanguage.call(this, language);\n      captions.toggle.call(this, active && languageExists);\n    }\n\n    // Enable or disable captions based on track length\n    toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is.empty(tracks));\n\n    // Update available languages in list\n    if (\n      is.array(this.config.controls) &&\n      this.config.controls.includes('settings') &&\n      this.config.settings.includes('captions')\n    ) {\n      controls.setCaptionsMenu.call(this);\n    }\n  },\n\n  // Toggle captions display\n  // Used internally for the toggleCaptions method, with the passive option forced to false\n  toggle(input, passive = true) {\n    // If there's no full support\n    if (!this.supported.ui) {\n      return;\n    }\n\n    const { toggled } = this.captions; // Current state\n    const activeClass = this.config.classNames.captions.active;\n    // Get the next state\n    // If the method is called without parameter, toggle based on current value\n    const active = is.nullOrUndefined(input) ? !toggled : input;\n\n    // Update state and trigger event\n    if (active !== toggled) {\n      // When passive, don't override user preferences\n      if (!passive) {\n        this.captions.active = active;\n        this.storage.set({ captions: active });\n      }\n\n      // Force language if the call isn't passive and there is no matching language to toggle to\n      if (!this.language && active && !passive) {\n        const tracks = captions.getTracks.call(this);\n        const track = captions.findTrack.call(this, [this.captions.language, ...this.captions.languages], true);\n\n        // Override user preferences to avoid switching languages if a matching track is added\n        this.captions.language = track.language;\n\n        // Set caption, but don't store in localStorage as user preference\n        captions.set.call(this, tracks.indexOf(track));\n        return;\n      }\n\n      // Toggle button if it's enabled\n      if (this.elements.buttons.captions) {\n        this.elements.buttons.captions.pressed = active;\n      }\n\n      // Add class hook\n      toggleClass(this.elements.container, activeClass, active);\n\n      this.captions.toggled = active;\n\n      // Update settings menu\n      controls.updateSetting.call(this, 'captions');\n\n      // Trigger event (not used internally)\n      triggerEvent.call(this, this.media, active ? 'captionsenabled' : 'captionsdisabled');\n    }\n\n    // on the active track - forcing the browser to download it\n    setTimeout(() => {\n      if (active && this.captions.toggled) {\n        this.captions.currentTrackNode.mode = 'hidden';\n      }\n    });\n  },\n\n  // Set captions by track index\n  // Used internally for the currentTrack setter with the passive option forced to false\n  set(index, passive = true) {\n    const tracks = captions.getTracks.call(this);\n\n    // Disable captions if setting to -1\n    if (index === -1) {\n      captions.toggle.call(this, false, passive);\n      return;\n    }\n\n    if (!is.number(index)) {\n      this.debug.warn('Invalid caption argument', index);\n      return;\n    }\n\n    if (!(index in tracks)) {\n      this.debug.warn('Track not found', index);\n      return;\n    }\n\n    if (this.captions.currentTrack !== index) {\n      this.captions.currentTrack = index;\n      const track = tracks[index];\n      const { language } = track || {};\n\n      // Store reference to node for invalidation on remove\n      this.captions.currentTrackNode = track;\n\n      // Update settings menu\n      controls.updateSetting.call(this, 'captions');\n\n      // When passive, don't override user preferences\n      if (!passive) {\n        this.captions.language = language;\n        this.storage.set({ language });\n      }\n\n      // Handle Vimeo captions\n      if (this.isVimeo) {\n        this.embed.enableTextTrack(language);\n      }\n\n      // Trigger event\n      triggerEvent.call(this, this.media, 'languagechange');\n    }\n\n    // Show captions\n    captions.toggle.call(this, true, passive);\n\n    if (this.isHTML5 && this.isVideo) {\n      // If we change the active track while a cue is already displayed we need to update it\n      captions.updateCues.call(this);\n    }\n  },\n\n  // Set captions by language\n  // Used internally for the language setter with the passive option forced to false\n  setLanguage(input, passive = true) {\n    if (!is.string(input)) {\n      this.debug.warn('Invalid language argument', input);\n      return;\n    }\n    // Normalize\n    const language = input.toLowerCase();\n    this.captions.language = language;\n\n    // Set currentTrack\n    const tracks = captions.getTracks.call(this);\n    const track = captions.findTrack.call(this, [language]);\n    captions.set.call(this, tracks.indexOf(track), passive);\n  },\n\n  // Get current valid caption tracks\n  // If update is false it will also ignore tracks without metadata\n  // This is used to \"freeze\" the language options when captions.update is false\n  getTracks(update = false) {\n    // Handle media or textTracks missing or null\n    const tracks = Array.from((this.media || {}).textTracks || []);\n    // For HTML5, use cache instead of current tracks when it exists (if captions.update is false)\n    // Filter out removed tracks and tracks that aren't captions/subtitles (for example metadata)\n    return tracks\n      .filter(track => !this.isHTML5 || update || this.captions.meta.has(track))\n      .filter(track => ['captions', 'subtitles'].includes(track.kind));\n  },\n\n  // Match tracks based on languages and get the first\n  findTrack(languages, force = false) {\n    const tracks = captions.getTracks.call(this);\n    const sortIsDefault = track => Number((this.captions.meta.get(track) || {}).default);\n    const sorted = Array.from(tracks).sort((a, b) => sortIsDefault(b) - sortIsDefault(a));\n    let track;\n\n    languages.every(language => {\n      track = sorted.find(t => t.language === language);\n      return !track; // Break iteration if there is a match\n    });\n\n    // If no match is found but is required, get first\n    return track || (force ? sorted[0] : undefined);\n  },\n\n  // Get the current track\n  getCurrentTrack() {\n    return captions.getTracks.call(this)[this.currentTrack];\n  },\n\n  // Get UI label for track\n  getLabel(track) {\n    let currentTrack = track;\n\n    if (!is.track(currentTrack) && support.textTracks && this.captions.toggled) {\n      currentTrack = captions.getCurrentTrack.call(this);\n    }\n\n    if (is.track(currentTrack)) {\n      if (!is.empty(currentTrack.label)) {\n        return currentTrack.label;\n      }\n\n      if (!is.empty(currentTrack.language)) {\n        return track.language.toUpperCase();\n      }\n\n      return i18n.get('enabled', this.config);\n    }\n\n    return i18n.get('disabled', this.config);\n  },\n\n  // Update captions using current track's active cues\n  // Also optional array argument in case there isn't any track (ex: vimeo)\n  updateCues(input) {\n    // Requires UI\n    if (!this.supported.ui) {\n      return;\n    }\n\n    if (!is.element(this.elements.captions)) {\n      this.debug.warn('No captions element to render to');\n      return;\n    }\n\n    // Only accept array or empty input\n    if (!is.nullOrUndefined(input) && !Array.isArray(input)) {\n      this.debug.warn('updateCues: Invalid input', input);\n      return;\n    }\n\n    let cues = input;\n\n    // Get cues from track\n    if (!cues) {\n      const track = captions.getCurrentTrack.call(this);\n\n      cues = Array.from((track || {}).activeCues || [])\n        .map(cue => cue.getCueAsHTML())\n        .map(getHTML);\n    }\n\n    // Set new caption text\n    const content = cues.map(cueText => cueText.trim()).join('\\n');\n    const changed = content !== this.elements.captions.innerHTML;\n\n    if (changed) {\n      // Empty the container and create a new child element\n      emptyElement(this.elements.captions);\n      const caption = createElement('span', getAttributesFromSelector(this.config.selectors.caption));\n      caption.innerHTML = content;\n      this.elements.captions.appendChild(caption);\n\n      // Trigger event\n      triggerEvent.call(this, this.media, 'cuechange');\n    }\n  },\n};\n\nexport default captions;\n","// ==========================================================================\n// WassPlayer default config file\n// ==========================================================================\n\nconst defaults = {\n  // Disable\n  enabled: true,\n\n  // Custom media title\n  title: '',\n\n  // Logging to console\n  debug: false,\n\n  // Auto play (if supported)\n  autoplay: false,\n\n  // Only allow one media playing at once\n  autopause: true,\n\n  // Allow inline playback on iOS\n  playsinline: true,\n\n  // Default time to skip when rewind/fast forward\n  seekTime: 10,\n\n  // Default volume\n  volume: 1,\n  muted: false,\n\n  // Pass a custom duration\n  duration: null,\n\n  // Display the media duration on load in the current time position\n  // If you have opted to display both duration and currentTime, this is ignored\n  displayDuration: true,\n\n  // Invert the current time to be a countdown\n  invertTime: true,\n\n  // Clicking the currentTime inverts it's value to show time left rather than elapsed\n  toggleInvert: true,\n\n  // Force an aspect ratio\n  // The format must be `'w:h'` (e.g. `'16:9'`)\n  ratio: null,\n\n  // Click video container to play/pause\n  clickToPlay: true,\n\n  // Auto hide the controls\n  hideControls: true,\n\n  // Reset to start when playback ended\n  resetOnEnd: false,\n\n  // Disable the standard context menu\n  disableContextMenu: true,\n\n  // Sprite (for icons)\n  loadSprite: true,\n  iconPrefix: 'wassPlayer',\n  iconUrl: 'http://code4stack.com/wassplayer.svg',\n\n  // Quality default\n  quality: {\n    default: 576,\n    // The options to display in the UI, if available for the source media\n    options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240],\n    forced: false,\n    onChange: null,\n  },\n\n  // Set loops\n  loop: {\n    active: false,\n    // start: null,\n    // end: null,\n  },\n\n  // Speed default and options to display\n  speed: {\n    selected: 1,\n    // The options to display in the UI, if available for the source media\n    options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2, 4],\n  },\n\n  // Keyboard shortcut settings\n  keyboard: {\n    focused: true,\n    global: false,\n  },\n\n  // Display tooltips\n  tooltips: {\n    controls: false,\n    seek: true,\n  },\n\n  // Captions settings\n  captions: {\n    active: false,\n    language: 'auto',\n    // Listen to new tracks added after Plyr is initialized.\n    // This is needed for streaming captions, but may result in unselectable options\n    update: false,\n  },\n\n  // Fullscreen settings\n  fullscreen: {\n    enabled: true, // Allow fullscreen?\n    fallback: true, // Fallback using full viewport/window\n    iosNative: false, // Use the native fullscreen in iOS (disables custom controls)\n    // Selector for the fullscreen container so contextual / non-player content can remain visible in fullscreen mode\n    // Non-ancestors of the player element will be ignored\n    // container: null, // defaults to the player element\n  },\n\n  // Local storage\n  storage: {\n    enabled: true,\n    key: 'wassPlayer',\n  },\n\n  // Default controls\n  controls: [\n    'play-large',\n    // 'restart',\n    'rewind',\n    'play',\n    'fast-forward',\n    'progress',\n    'current-time',\n    // 'duration',\n    'mute',\n    'volume',\n    'captions',\n    'settings',\n    'pip',\n    'airplay',\n    // 'download',\n    'fullscreen',\n  ],\n  settings: ['captions', 'quality', 'speed'],\n\n  // Localisation\n  i18n: {\n    restart: 'Restart',\n    rewind: 'Rewind {seektime}s',\n    play: 'Play',\n    pause: 'Pause',\n    fastForward: 'Forward {seektime}s',\n    seek: 'Seek',\n    seekLabel: '{currentTime} of {duration}',\n    played: 'Played',\n    buffered: 'Buffered',\n    currentTime: 'Current time',\n    duration: 'Duration',\n    volume: 'Volume',\n    mute: 'Mute',\n    unmute: 'Unmute',\n    enableCaptions: 'Enable captions',\n    disableCaptions: 'Disable captions',\n    download: 'Download',\n    enterFullscreen: 'Enter fullscreen',\n    exitFullscreen: 'Exit fullscreen',\n    frameTitle: 'Player for {title}',\n    captions: 'Captions',\n    settings: 'Settings',\n    pip: 'PIP',\n    menuBack: 'Go back to previous menu',\n    speed: 'Speed',\n    normal: 'Normal',\n    quality: 'Quality',\n    loop: 'Loop',\n    start: 'Start',\n    end: 'End',\n    all: 'All',\n    reset: 'Reset',\n    disabled: 'Disabled',\n    enabled: 'Enabled',\n    advertisement: 'Ad',\n    qualityBadge: {\n      2160: '4K',\n      1440: 'HD',\n      1080: 'HD',\n      720: 'HD',\n      576: 'SD',\n      480: 'SD',\n    },\n  },\n\n  // Custom control listeners\n  listeners: {\n    seek: null,\n    play: null,\n    pause: null,\n    restart: null,\n    rewind: null,\n    fastForward: null,\n    mute: null,\n    volume: null,\n    captions: null,\n    download: null,\n    fullscreen: null,\n    pip: null,\n    airplay: null,\n    speed: null,\n    quality: null,\n    loop: null,\n    language: null,\n  },\n\n  // Events to watch and bubble\n  events: [\n    // Events to watch on HTML5 media elements and bubble\n    // https://developer.mozilla.org/en/docs/Web/Guide/Events/Media_events\n    'ended',\n    'progress',\n    'stalled',\n    'playing',\n    'waiting',\n    'canplay',\n    'canplaythrough',\n    'loadstart',\n    'loadeddata',\n    'loadedmetadata',\n    'timeupdate',\n    'volumechange',\n    'play',\n    'pause',\n    'error',\n    'seeking',\n    'seeked',\n    'emptied',\n    'ratechange',\n    'cuechange',\n\n    // Custom events\n    'download',\n    'enterfullscreen',\n    'exitfullscreen',\n    'captionsenabled',\n    'captionsdisabled',\n    'languagechange',\n    'controlshidden',\n    'controlsshown',\n    'ready',\n\n    // Quality\n    'qualitychange',\n  ],\n\n  // Selectors\n  // Change these to match your template if using custom HTML\n  selectors: {\n    editable: 'input, textarea, select, [contenteditable]',\n    container: '.wassPlayer',\n    controls: {\n      container: null,\n      wrapper: '.wassPlayer__controls',\n    },\n    labels: '[data-wassPlayer]',\n    buttons: {\n      play: '[data-wassPlayer=\"play\"]',\n      pause: '[data-wassPlayer=\"pause\"]',\n      restart: '[data-wassPlayer=\"restart\"]',\n      rewind: '[data-wassPlayer=\"rewind\"]',\n      fastForward: '[data-wassPlayer=\"fast-forward\"]',\n      mute: '[data-wassPlayer=\"mute\"]',\n      captions: '[data-wassPlayer=\"captions\"]',\n      download: '[data-wassPlayer=\"download\"]',\n      fullscreen: '[data-wassPlayer=\"fullscreen\"]',\n      pip: '[data-wassPlayer=\"pip\"]',\n      airplay: '[data-wassPlayer=\"airplay\"]',\n      settings: '[data-wassPlayer=\"settings\"]',\n      loop: '[data-wassPlayer=\"loop\"]',\n    },\n    inputs: {\n      seek: '[data-wassPlayer=\"seek\"]',\n      volume: '[data-wassPlayer=\"volume\"]',\n      speed: '[data-wassPlayer=\"speed\"]',\n      language: '[data-wassPlayer=\"language\"]',\n      quality: '[data-wassPlayer=\"quality\"]',\n    },\n    display: {\n      currentTime: '.wassPlayer__time--current',\n      duration: '.wassPlayer__time--duration',\n      buffer: '.wassPlayer__progress__buffer',\n      loop: '.wassPlayer__progress__loop', // Used later\n      volume: '.wassPlayer__volume--display',\n    },\n    progress: '.wassPlayer__progress',\n    captions: '.wassPlayer__captions',\n    caption: '.wassPlayer__caption',\n  },\n\n  // Class hooks added to the player in different states\n  classNames: {\n    type: 'wassPlayer--{0}',\n    provider: 'wassPlayer--{0}',\n    video: 'wassPlayer__video-wrapper',\n    embed: 'wassPlayer__video-embed',\n    videoFixedRatio: 'wassPlayer__video-wrapper--fixed-ratio',\n    embedContainer: 'wassPlayer__video-embed__container',\n    poster: 'wassPlayer__poster',\n    posterEnabled: 'wassPlayer__poster-enabled',\n    control: 'wassPlayer__control',\n    controlPressed: 'wassPlayer__control--pressed',\n    playing: 'wassPlayer--playing',\n    paused: 'wassPlayer--paused',\n    stopped: 'wassPlayer--stopped',\n    loading: 'wassPlayer--loading',\n    hover: 'wassPlayer--hover',\n    tooltip: 'wassPlayer__tooltip',\n    cues: 'wassPlayer__cues',\n    hidden: 'wassPlayer__sr-only',\n    hideControls: 'wassPlayer--hide-controls',\n    isIos: 'wassPlayer--is-ios',\n    isTouch: 'wassPlayer--is-touch',\n    uiSupported: 'wassPlayer--full-ui',\n    noTransition: 'wassPlayer--no-transition',\n    display: {\n      time: 'wassPlayer__time',\n    },\n    menu: {\n      value: 'wassPlayer__menu__value',\n      badge: 'wassPlayer__badge',\n      open: 'wassPlayer--menu-open',\n    },\n    captions: {\n      enabled: 'wassPlayer--captions-enabled',\n      active: 'wassPlayer--captions-active',\n    },\n    fullscreen: {\n      enabled: 'wassPlayer--fullscreen-enabled',\n      fallback: 'wassPlayer--fullscreen-fallback',\n    },\n    pip: {\n      supported: 'wassPlayer--pip-supported',\n      active: 'wassPlayer--pip-active',\n    },\n    airplay: {\n      supported: 'wassPlayer--airplay-supported',\n      active: 'wassPlayer--airplay-active',\n    },\n    tabFocus: 'wassPlayer__tab-focus',\n    previewThumbnails: {\n      // Tooltip thumbs\n      thumbContainer: 'wassPlayer__preview-thumb',\n      thumbContainerShown: 'wassPlayer__preview-thumb--is-shown',\n      imageContainer: 'wassPlayer__preview-thumb__image-container',\n      timeContainer: 'wassPlayer__preview-thumb__time-container',\n      // Scrubbing\n      scrubbingContainer: 'wassPlayer__preview-scrubbing',\n      scrubbingContainerShown: 'wassPlayer__preview-scrubbing--is-shown',\n    },\n  },\n\n  // Embed attributes\n  attributes: {\n    embed: {\n      provider: 'data-wassPlayer-provider',\n      id: 'data-wassPlayer-embed-id',\n    },\n  },\n\n  // Preview Thumbnails plugin\n  previewThumbnails: {\n    enabled: false,\n    src: '',\n  },\n};\n\nexport default defaults;\n","// ==========================================================================\n// WassPlayer states\n// ==========================================================================\n\nexport const pip = {\n  active: 'picture-in-picture',\n  inactive: 'inline',\n};\n\nexport default { pip };\n","// ==========================================================================\n// WassPlayer supported types and providers\n// ==========================================================================\n\nexport const providers = {\n  html5: 'html5',\n};\n\nexport const types = {\n  video: 'video',\n};\n\n/**\n * Get provider by URL\n * @param {String} url\n */\nexport function getProviderByUrl() {\n  return null;\n}\n\nexport default { providers, types };\n","// ==========================================================================\n// Console wrapper\n// ==========================================================================\n\nconst noop = () => {};\n\nexport default class Console {\n  constructor(enabled = false) {\n    this.enabled = window.console && enabled;\n\n    if (this.enabled) {\n      this.log('Debugging enabled');\n    }\n  }\n\n  get log() {\n    // eslint-disable-next-line no-console\n    return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n  }\n\n  get warn() {\n    // eslint-disable-next-line no-console\n    return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n  }\n\n  get error() {\n    // eslint-disable-next-line no-console\n    return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n  }\n}\n","// ==========================================================================\n// Fullscreen wrapper\n// https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API#prefixing\n// https://webkit.org/blog/7929/designing-websites-for-iphone-x/\n// ==========================================================================\n\nimport browser from './utils/browser';\nimport { closest,getElements, hasClass, toggleClass } from './utils/elements';\nimport { on, triggerEvent } from './utils/events';\nimport is from './utils/is';\nimport { silencePromise } from './utils/promise';\n\nclass Fullscreen {\n  constructor(player) {\n    // Keep reference to parent\n    this.player = player;\n\n    // Get prefix\n    this.prefix = Fullscreen.prefix;\n    this.property = Fullscreen.property;\n\n    // Scroll position\n    this.scrollPosition = { x: 0, y: 0 };\n\n    // Force the use of 'full window/browser' rather than fullscreen\n    this.forceFallback = player.config.fullscreen.fallback === 'force';\n\n    // Get the fullscreen element\n    // Checks container is an ancestor, defaults to null\n    this.player.elements.fullscreen =\n      player.config.fullscreen.container && closest(this.player.elements.container, player.config.fullscreen.container);\n\n    // Register event listeners\n    // Handle event (incase user presses escape etc)\n    on.call(\n      this.player,\n      document,\n      this.prefix === 'ms' ? 'MSFullscreenChange' : `${this.prefix}fullscreenchange`,\n      () => {\n        this.onChange();\n      },\n    );\n\n    // Fullscreen toggle on double click\n    on.call(this.player, this.player.elements.container, 'dblclick', event => {\n      // Ignore double click in controls\n      if (is.element(this.player.elements.controls) && this.player.elements.controls.contains(event.target)) {\n        return;\n      }\n\n      this.toggle();\n    });\n\n    // Tap focus when in fullscreen\n    on.call(this, this.player.elements.container, 'keydown', event => this.trapFocus(event));\n\n    // Update the UI\n    this.update();\n  }\n\n  // Determine if native supported\n  static get native() {\n    return !!(\n      document.fullscreenEnabled ||\n      document.webkitFullscreenEnabled ||\n      document.mozFullScreenEnabled ||\n      document.msFullscreenEnabled\n    );\n  }\n\n  // If we're actually using native\n  get usingNative() {\n    return Fullscreen.native && !this.forceFallback;\n  }\n\n  // Get the prefix for handlers\n  static get prefix() {\n    // No prefix\n    if (is.function(document.exitFullscreen)) {\n      return '';\n    }\n\n    // Check for fullscreen support by vendor prefix\n    let value = '';\n    const prefixes = ['webkit', 'moz', 'ms'];\n\n    prefixes.some(pre => {\n      if (is.function(document[`${pre}ExitFullscreen`]) || is.function(document[`${pre}CancelFullScreen`])) {\n        value = pre;\n        return true;\n      }\n\n      return false;\n    });\n\n    return value;\n  }\n\n  static get property() {\n    return this.prefix === 'moz' ? 'FullScreen' : 'Fullscreen';\n  }\n\n  // Determine if fullscreen is enabled\n  get enabled() {\n    return (\n      (Fullscreen.native || this.player.config.fullscreen.fallback) &&\n      this.player.config.fullscreen.enabled &&\n      this.player.supported.ui &&\n      this.player.isVideo\n    );\n  }\n\n  // Get active state\n  get active() {\n    if (!this.enabled) {\n      return false;\n    }\n\n    // Fallback using classname\n    if (!Fullscreen.native || this.forceFallback) {\n      return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);\n    }\n\n    const element = !this.prefix ? document.fullscreenElement : document[`${this.prefix}${this.property}Element`];\n\n    return element && element.shadowRoot ? element === this.target.getRootNode().host : element === this.target;\n  }\n\n  // Get target element\n  get target() {\n    return browser.isIos && this.player.config.fullscreen.iosNative ? this.player.media\n      : this.player.elements.fullscreen || this.player.elements.container;\n  }\n\n  onChange() {\n    if (!this.enabled) {\n      return;\n    }\n\n    // Update toggle button\n    const button = this.player.elements.buttons.fullscreen;\n    if (is.element(button)) {\n      button.pressed = this.active;\n    }\n\n    // Trigger an event\n    triggerEvent.call(this.player, this.target, this.active ? 'enterfullscreen' : 'exitfullscreen', true);\n  }\n\n  toggleFallback(toggle = false) {\n    // Store or restore scroll position\n    if (toggle) {\n      this.scrollPosition = {\n        x: window.scrollX || 0,\n        y: window.scrollY || 0,\n      };\n    } else {\n      window.scrollTo(this.scrollPosition.x, this.scrollPosition.y);\n    }\n\n    // Toggle scroll\n    document.body.style.overflow = toggle ? 'hidden' : '';\n\n    // Toggle class hook\n    toggleClass(this.target, this.player.config.classNames.fullscreen.fallback, toggle);\n\n    // Force full viewport on iPhone X+\n    if (browser.isIos) {\n      let viewport = document.head.querySelector('meta[name=\"viewport\"]');\n      const property = 'viewport-fit=cover';\n\n      // Inject the viewport meta if required\n      if (!viewport) {\n        viewport = document.createElement('meta');\n        viewport.setAttribute('name', 'viewport');\n      }\n\n      // Check if the property already exists\n      const hasProperty = is.string(viewport.content) && viewport.content.includes(property);\n\n      if (toggle) {\n        this.cleanupViewport = !hasProperty;\n\n        if (!hasProperty) {\n          viewport.content += `,${property}`;\n        }\n      } else if (this.cleanupViewport) {\n        viewport.content = viewport.content\n          .split(',')\n          .filter(part => part.trim() !== property)\n          .join(',');\n      }\n    }\n\n    // Toggle button and fire events\n    this.onChange();\n  }\n\n  // Trap focus inside container\n  trapFocus(event) {\n    // Bail if iOS, not active, not the tab key\n    if (browser.isIos || !this.active || event.key !== 'Tab' || event.keyCode !== 9) {\n      return;\n    }\n\n    // Get the current focused element\n    const focused = document.activeElement;\n    const focusable = getElements.call(this.player, 'a[href], button:not(:disabled), input:not(:disabled), [tabindex]');\n    const [first] = focusable;\n    const last = focusable[focusable.length - 1];\n\n    if (focused === last && !event.shiftKey) {\n      // Move focus to first element that can be tabbed if Shift isn't used\n      first.focus();\n      event.preventDefault();\n    } else if (focused === first && event.shiftKey) {\n      // Move focus to last element that can be tabbed if Shift is used\n      last.focus();\n      event.preventDefault();\n    }\n  }\n\n  // Update UI\n  update() {\n    if (this.enabled) {\n      let mode;\n\n      if (this.forceFallback) {\n        mode = 'Fallback (forced)';\n      } else if (Fullscreen.native) {\n        mode = 'Native';\n      } else {\n        mode = 'Fallback';\n      }\n\n      this.player.debug.log(`${mode} fullscreen enabled`);\n    } else {\n      this.player.debug.log('Fullscreen not supported and fallback disabled');\n    }\n\n    // Add styling hook to show button\n    toggleClass(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled);\n  }\n\n  // Make an element fullscreen\n  enter() {\n    if (!this.enabled) {\n      return;\n    }\n\n    // iOS native fullscreen doesn't need the request step\n    if (browser.isIos && this.player.config.fullscreen.iosNative) {\n      this.target.webkitEnterFullscreen();\n    } else if (!Fullscreen.native || this.forceFallback) {\n      this.toggleFallback(true);\n    } else if (!this.prefix) {\n      this.target.requestFullscreen({ navigationUI: 'hide' });\n    } else if (!is.empty(this.prefix)) {\n      this.target[`${this.prefix}Request${this.property}`]();\n    }\n  }\n\n  // Bail from fullscreen\n  exit() {\n    if (!this.enabled) {\n      return;\n    }\n\n    // iOS native fullscreen\n    if (browser.isIos && this.player.config.fullscreen.iosNative) {\n      this.target.webkitExitFullscreen();\n      silencePromise(this.player.play());\n    } else if (!Fullscreen.native || this.forceFallback) {\n      this.toggleFallback(false);\n    } else if (!this.prefix) {\n      (document.cancelFullScreen || document.exitFullscreen).call(document);\n    } else if (!is.empty(this.prefix)) {\n      const action = this.prefix === 'moz' ? 'Cancel' : 'Exit';\n      document[`${this.prefix}${action}${this.property}`]();\n    }\n  }\n\n  // Toggle state\n  toggle() {\n    if (!this.active) {\n      this.enter();\n    } else {\n      this.exit();\n    }\n  }\n}\n\nexport default Fullscreen;\n","// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","// ==========================================================================\n// Load image avoiding xhr/fetch CORS issues\n// Server status can't be obtained this way unfortunately, so this uses \"naturalWidth\" to determine if the image has loaded\n// By default it checks if it is at least 1px, but you can add a second argument to change this\n// ==========================================================================\n\nexport default function loadImage(src, minWidth = 1) {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n\n    const handler = () => {\n      delete image.onload;\n      delete image.onerror;\n      (image.naturalWidth >= minWidth ? resolve : reject)(image);\n    };\n\n    Object.assign(image, { onload: handler, onerror: handler, src });\n  });\n}\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n$({ target: 'Math', stat: true }, {\n  sign: sign\n});\n","// ==========================================================================\n// WassPlayer UI\n// ==========================================================================\n\nimport captions from './captions';\nimport controls from './controls';\nimport support from './support';\nimport browser from './utils/browser';\nimport { getElement, toggleClass } from './utils/elements';\nimport { ready, triggerEvent } from './utils/events';\nimport i18n from './utils/i18n';\nimport is from './utils/is';\nimport loadImage from './utils/load-image';\n\nconst ui = {\n  addStyleHook() {\n    toggleClass(this.elements.container, this.config.selectors.container.replace('.', ''), true);\n    toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);\n  },\n\n  // Toggle native HTML5 media controls\n  toggleNativeControls(toggle = false) {\n    if (toggle && this.isHTML5) {\n      this.media.setAttribute('controls', '');\n    } else {\n      this.media.removeAttribute('controls');\n    }\n  },\n\n  // Setup the UI\n  build() {\n    // Re-attach media element listeners\n    // TODO: Use event bubbling?\n    this.listeners.media();\n\n    // Don't setup interface if no support\n    if (!this.supported.ui) {\n      this.debug.warn(`Basic support only for ${this.provider} ${this.type}`);\n\n      // Restore native controls\n      ui.toggleNativeControls.call(this, true);\n\n      // Bail\n      return;\n    }\n\n    // Inject custom controls if not present\n    if (!is.element(this.elements.controls)) {\n      // Inject custom controls\n      controls.inject.call(this);\n\n      // Re-attach control listeners\n      this.listeners.controls();\n    }\n\n    // Remove native controls\n    ui.toggleNativeControls.call(this);\n\n    // Setup captions for HTML5\n    if (this.isHTML5) {\n      captions.setup.call(this);\n    }\n\n    // Reset volume\n    this.volume = null;\n\n    // Reset mute state\n    this.muted = null;\n\n    // Reset loop state\n    this.loop = null;\n\n    // Reset quality setting\n    this.quality = null;\n\n    // Reset speed\n    this.speed = null;\n\n    // Reset volume display\n    controls.updateVolume.call(this);\n\n    // Reset time display\n    controls.timeUpdate.call(this);\n\n    // Update the UI\n    ui.checkPlaying.call(this);\n\n    // Check for picture-in-picture support\n    toggleClass(\n      this.elements.container,\n      this.config.classNames.pip.supported,\n      support.pip && this.isHTML5 && this.isVideo,\n    );\n\n    // Check for airplay support\n    toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5);\n\n    // Add iOS class\n    toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos);\n\n    // Add touch class\n    toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch);\n\n    // Ready for API calls\n    this.ready = true;\n\n    // Ready event at end of execution stack\n    setTimeout(() => {\n      triggerEvent.call(this, this.media, 'ready');\n    }, 0);\n\n    // Set the title\n    ui.setTitle.call(this);\n\n    // Assure the poster image is set, if the property was added before the element was created\n    if (this.poster) {\n      ui.setPoster.call(this, this.poster, false).catch(() => {});\n    }\n\n    // Manually set the duration if user has overridden it.\n    // The event listeners for it doesn't get called if preload is disabled (#701)\n    if (this.config.duration) {\n      controls.durationUpdate.call(this);\n    }\n  },\n\n  // Setup aria attribute for play and iframe title\n  setTitle() {\n    // Find the current text\n    let label = i18n.get('play', this.config);\n\n    // If there's a media title set, use that for the label\n    if (is.string(this.config.title) && !is.empty(this.config.title)) {\n      label += `, ${this.config.title}`;\n    }\n\n    // If there's a play button, set label\n    Array.from(this.elements.buttons.play || []).forEach(button => {\n      button.setAttribute('aria-label', label);\n    });\n\n    // Set iframe title\n    // https://github.com/sampotts/WassPlayer/issues/124\n    if (this.isEmbed) {\n      const iframe = getElement.call(this, 'iframe');\n\n      if (!is.element(iframe)) {\n        return;\n      }\n\n      // Default to media type\n      const title = !is.empty(this.config.title) ? this.config.title : 'video';\n      const format = i18n.get('frameTitle', this.config);\n\n      iframe.setAttribute('title', format.replace('{title}', title));\n    }\n  },\n\n  // Toggle poster\n  togglePoster(enable) {\n    toggleClass(this.elements.container, this.config.classNames.posterEnabled, enable);\n  },\n\n  // Set the poster image (async)\n  // Used internally for the poster setter, with the passive option forced to false\n  setPoster(poster, passive = true) {\n    // Don't override if call is passive\n    if (passive && this.poster) {\n      return Promise.reject(new Error('Poster already set'));\n    }\n\n    // Set property synchronously to respect the call order\n    this.media.setAttribute('data-poster', poster);\n\n    // Wait until ui is ready\n    return (\n      ready\n        .call(this)\n        // Load image\n        .then(() => loadImage(poster))\n        .catch(err => {\n          // Hide poster on error unless it's been set by another call\n          if (poster === this.poster) {\n            ui.togglePoster.call(this, false);\n          }\n          // Rethrow\n          throw err;\n        })\n        .then(() => {\n          // Prevent race conditions\n          if (poster !== this.poster) {\n            throw new Error('setPoster cancelled by later call to setPoster');\n          }\n        })\n        .then(() => {\n          Object.assign(this.elements.poster.style, {\n            backgroundImage: `url('${poster}')`,\n            // Reset backgroundSize as well (since it can be set to \"cover\" for padded thumbnails for youtube)\n            backgroundSize: '',\n          });\n\n          ui.togglePoster.call(this, true);\n\n          return poster;\n        })\n    );\n  },\n\n  // Check playing state\n  checkPlaying(event) {\n    // Class hooks\n    toggleClass(this.elements.container, this.config.classNames.playing, this.playing);\n    toggleClass(this.elements.container, this.config.classNames.paused, this.paused);\n    toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped);\n\n    // Set state\n    Array.from(this.elements.buttons.play || []).forEach(target => {\n      Object.assign(target, { pressed: this.playing });\n      target.setAttribute('aria-label', i18n.get(this.playing ? 'pause' : 'play', this.config));\n    });\n\n    // Only update controls on non timeupdate events\n    if (is.event(event) && event.type === 'timeupdate') {\n      return;\n    }\n\n    // Toggle controls\n    ui.toggleControls.call(this);\n  },\n\n  // Check if media is loading\n  checkLoading(event) {\n    this.loading = ['stalled', 'waiting'].includes(event.type);\n\n    // Clear timer\n    clearTimeout(this.timers.loading);\n\n    // Timer to prevent flicker when seeking\n    this.timers.loading = setTimeout(\n      () => {\n        // Update progress bar loading class state\n        toggleClass(this.elements.container, this.config.classNames.loading, this.loading);\n\n        // Update controls visibility\n        ui.toggleControls.call(this);\n      },\n      this.loading ? 250 : 0,\n    );\n  },\n\n  // Toggle controls based on state and `force` argument\n  toggleControls(force) {\n    const { controls: controlsElement } = this.elements;\n\n    if (controlsElement && this.config.hideControls) {\n      // Don't hide controls if a touch-device user recently seeked. (Must be limited to touch devices, or it occasionally prevents desktop controls from hiding.)\n      const recentTouchSeek = this.touch && this.lastSeekTime + 2000 > Date.now();\n\n      // Show controls if force, loading, paused, button interaction, or recent seek, otherwise hide\n      this.toggleControls(\n        Boolean(\n          force || this.loading || this.paused || controlsElement.pressed || controlsElement.hover || recentTouchSeek,\n        ),\n      );\n    }\n  },\n\n  // Migrate any custom properties from the media to the parent\n  migrateStyles() {\n    // Loop through values (as they are the keys when the object is spread )\n    Object.values({ ...this.media.style })\n      // We're only fussed about WassPlayer specific properties\n      .filter(key => !is.empty(key) && key.startsWith('--wassPlayer'))\n      .forEach(key => {\n        // Set on the container\n        this.elements.container.style.setProperty(key, this.media.style.getPropertyValue(key));\n\n        // Clean up from media element\n        this.media.style.removeProperty(key);\n      });\n\n    // Remove attribute if empty\n    if (is.empty(this.media.style)) {\n      this.media.removeAttribute('style');\n    }\n  },\n};\n\nexport default ui;\n","// ==========================================================================\n// WassPlayer Event Listeners\n// ==========================================================================\n\nimport controls from './controls';\nimport ui from './ui';\nimport { repaint } from './utils/animation';\nimport browser from './utils/browser';\nimport { getElement, getElements, matches, toggleClass } from './utils/elements';\nimport { off, on, once, toggleListener, triggerEvent } from './utils/events';\nimport is from './utils/is';\nimport { silencePromise } from './utils/promise';\nimport { getAspectRatio, setAspectRatio } from './utils/style';\n\nclass Listeners {\n  constructor(player) {\n    this.player = player;\n    this.lastKey = null;\n    this.focusTimer = null;\n    this.lastKeyDown = null;\n\n    this.handleKey = this.handleKey.bind(this);\n    this.toggleMenu = this.toggleMenu.bind(this);\n    this.setTabFocus = this.setTabFocus.bind(this);\n    this.firstTouch = this.firstTouch.bind(this);\n  }\n\n  // Handle key presses\n  handleKey(event) {\n    const { player } = this;\n    const { elements } = player;\n    const code = event.keyCode ? event.keyCode : event.which;\n    const pressed = event.type === 'keydown';\n    const repeat = pressed && code === this.lastKey;\n\n    // Bail if a modifier key is set\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    // If the event is bubbled from the media element\n    // Firefox doesn't get the keycode for whatever reason\n    if (!is.number(code)) {\n      return;\n    }\n\n    // Seek by the number keys\n    const seekByKey = () => {\n      // Divide the max duration into 10th's and times by the number value\n      player.currentTime = (player.duration / 10) * (code - 48);\n    };\n\n    // Handle the key on keydown\n    // Reset on keyup\n    if (pressed) {\n      // Check focused element\n      // and if the focused element is not editable (e.g. text input)\n      // and any that accept key input http://webaim.org/techniques/keyboard/\n      const focused = document.activeElement;\n      if (is.element(focused)) {\n        const { editable } = player.config.selectors;\n        const { seek } = elements.inputs;\n\n        if (focused !== seek && matches(focused, editable)) {\n          return;\n        }\n\n        if (event.which === 32 && matches(focused, 'button, [role^=\"menuitem\"]')) {\n          return;\n        }\n      }\n\n      // Which keycodes should we prevent default\n      const preventDefault = [32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79];\n\n      // If the code is found prevent default (e.g. prevent scrolling for arrows)\n      if (preventDefault.includes(code)) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      switch (code) {\n        case 48:\n        case 49:\n        case 50:\n        case 51:\n        case 52:\n        case 53:\n        case 54:\n        case 55:\n        case 56:\n        case 57:\n          // 0-9\n          if (!repeat) {\n            seekByKey();\n          }\n          break;\n\n        case 32:\n        case 75:\n          // Space and K key\n          if (!repeat) {\n            silencePromise(player.togglePlay());\n          }\n          break;\n\n        case 38:\n          // Arrow up\n          player.increaseVolume(0.1);\n          break;\n\n        case 40:\n          // Arrow down\n          player.decreaseVolume(0.1);\n          break;\n\n        case 77:\n          // M key\n          if (!repeat) {\n            player.muted = !player.muted;\n          }\n          break;\n\n        case 39:\n          // Arrow forward\n          player.forward();\n          break;\n\n        case 37:\n          // Arrow back\n          player.rewind();\n          break;\n\n        case 70:\n          // F key\n          player.fullscreen.toggle();\n          break;\n\n        case 67:\n          // C key\n          if (!repeat) {\n            player.toggleCaptions();\n          }\n          break;\n\n        case 76:\n          // L key\n          player.loop = !player.loop;\n          break;\n\n        /* case 73:\n                    this.setLoop('start');\n                    break;\n\n                case 76:\n                    this.setLoop();\n                    break;\n\n                case 79:\n                    this.setLoop('end');\n                    break; */\n\n        default:\n          break;\n      }\n\n      // Escape is handle natively when in full screen\n      // So we only need to worry about non native\n      if (code === 27 && !player.fullscreen.usingNative && player.fullscreen.active) {\n        player.fullscreen.toggle();\n      }\n\n      // Store last code for next cycle\n      this.lastKey = code;\n    } else {\n      this.lastKey = null;\n    }\n  }\n\n  // Toggle menu\n  toggleMenu(event) {\n    controls.toggleMenu.call(this.player, event);\n  }\n\n  // Device is touch enabled\n  firstTouch() {\n    const { player } = this;\n    const { elements } = player;\n\n    player.touch = true;\n\n    // Add touch class\n    toggleClass(elements.container, player.config.classNames.isTouch, true);\n  }\n\n  setTabFocus(event) {\n    const { player } = this;\n    const { elements } = player;\n\n    clearTimeout(this.focusTimer);\n\n    // Ignore any key other than tab\n    if (event.type === 'keydown' && event.which !== 9) {\n      return;\n    }\n\n    // Store reference to event timeStamp\n    if (event.type === 'keydown') {\n      this.lastKeyDown = event.timeStamp;\n    }\n\n    // Remove current classes\n    const removeCurrent = () => {\n      const className = player.config.classNames.tabFocus;\n      const current = getElements.call(player, `.${className}`);\n      toggleClass(current, className, false);\n    };\n\n    // Determine if a key was pressed to trigger this event\n    const wasKeyDown = event.timeStamp - this.lastKeyDown <= 20;\n\n    // Ignore focus events if a key was pressed prior\n    if (event.type === 'focus' && !wasKeyDown) {\n      return;\n    }\n\n    // Remove all current\n    removeCurrent();\n\n    // Delay the adding of classname until the focus has changed\n    // This event fires before the focusin event\n    if (event.type !== 'focusout') {\n      this.focusTimer = setTimeout(() => {\n        const focused = document.activeElement;\n\n        // Ignore if current focus element isn't inside the player\n        if (!elements.container.contains(focused)) {\n          return;\n        }\n\n        toggleClass(document.activeElement, player.config.classNames.tabFocus, true);\n      }, 10);\n    }\n  }\n\n  // Global window & document listeners\n  global(toggle = true) {\n    const { player } = this;\n\n    // Keyboard shortcuts\n    if (player.config.keyboard.global) {\n      toggleListener.call(player, window, 'keydown keyup', this.handleKey, toggle, false);\n    }\n\n    // Click anywhere closes menu\n    toggleListener.call(player, document.body, 'click', this.toggleMenu, toggle);\n\n    // Detect touch by events\n    once.call(player, document.body, 'touchstart', this.firstTouch);\n\n    // Tab focus detection\n    toggleListener.call(player, document.body, 'keydown focus blur focusout', this.setTabFocus, toggle, false, true);\n  }\n\n  // Container listeners\n  container() {\n    const { player } = this;\n    const { config, elements, timers } = player;\n\n    // Keyboard shortcuts\n    if (!config.keyboard.global && config.keyboard.focused) {\n      on.call(player, elements.container, 'keydown keyup', this.handleKey, false);\n    }\n\n    // Toggle controls on mouse events and entering fullscreen\n    on.call(\n      player,\n      elements.container,\n      'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen',\n      event => {\n        const { controls: controlsElement } = elements;\n\n        // Remove button states for fullscreen\n        if (controlsElement && event.type === 'enterfullscreen') {\n          controlsElement.pressed = false;\n          controlsElement.hover = false;\n        }\n\n        // Show, then hide after a timeout unless another control event occurs\n        const show = ['touchstart', 'touchmove', 'mousemove'].includes(event.type);\n        let delay = 0;\n\n        if (show) {\n          ui.toggleControls.call(player, true);\n          // Use longer timeout for touch devices\n          delay = player.touch ? 3000 : 2000;\n        }\n\n        // Clear timer\n        clearTimeout(timers.controls);\n\n        // Set new timer to prevent flicker when seeking\n        timers.controls = setTimeout(() => ui.toggleControls.call(player, false), delay);\n      },\n    );\n\n    // Set a gutter for Vimeo\n    const setGutter = (ratio, padding, toggle) => {\n      if (!player.isVimeo || player.config.vimeo.premium) {\n        return;\n      }\n\n      const target = player.elements.wrapper.firstChild;\n      const [, y] = ratio;\n      const [videoX, videoY] = getAspectRatio.call(player);\n\n      target.style.maxWidth = toggle ? `${(y / videoY) * videoX}px` : null;\n      target.style.margin = toggle ? '0 auto' : null;\n    };\n\n    // Resize on fullscreen change\n    const setPlayerSize = measure => {\n      // If we don't need to measure the viewport\n      if (!measure) {\n        return setAspectRatio.call(player);\n      }\n\n      const rect = elements.container.getBoundingClientRect();\n      const { width, height } = rect;\n\n      return setAspectRatio.call(player, `${width}:${height}`);\n    };\n\n    const resized = () => {\n      clearTimeout(timers.resized);\n      timers.resized = setTimeout(setPlayerSize, 50);\n    };\n\n    on.call(player, elements.container, 'enterfullscreen exitfullscreen', event => {\n      const { target, usingNative } = player.fullscreen;\n\n      // Ignore events not from target\n      if (target !== elements.container) {\n        return;\n      }\n\n      // If it's not an embed and no ratio specified\n      if (!player.isEmbed && is.empty(player.config.ratio)) {\n        return;\n      }\n\n      const isEnter = event.type === 'enterfullscreen';\n      // Set the player size when entering fullscreen to viewport size\n      const { padding, ratio } = setPlayerSize(isEnter);\n\n      // Set Vimeo gutter\n      setGutter(ratio, padding, isEnter);\n\n      // If not using native browser fullscreen API, we need to check for resizes of viewport\n      if (!usingNative) {\n        if (isEnter) {\n          on.call(player, window, 'resize', resized);\n        } else {\n          off.call(player, window, 'resize', resized);\n        }\n      }\n    });\n  }\n\n  // Listen for media events\n  media() {\n    const { player } = this;\n    const { elements } = player;\n\n    // Time change on media\n    on.call(player, player.media, 'timeupdate seeking seeked', event => controls.timeUpdate.call(player, event));\n\n    // Display duration\n    on.call(player, player.media, 'durationchange loadeddata loadedmetadata', event =>\n      controls.durationUpdate.call(player, event),\n    );\n\n    // Handle the media finishing\n    on.call(player, player.media, 'ended', () => {\n      // Show poster on end\n      if (player.isHTML5 && player.isVideo && player.config.resetOnEnd) {\n        // Restart\n        player.restart();\n\n        // Call pause otherwise IE11 will start playing the video again\n        player.pause();\n      }\n    });\n\n    // Check for buffer progress\n    on.call(player, player.media, 'progress playing seeking seeked', event =>\n      controls.updateProgress.call(player, event),\n    );\n\n    // Handle volume changes\n    on.call(player, player.media, 'volumechange', event => controls.updateVolume.call(player, event));\n\n    // Handle play/pause\n    on.call(player, player.media, 'playing play pause ended emptied timeupdate', event =>\n      ui.checkPlaying.call(player, event),\n    );\n\n    // Loading state\n    on.call(player, player.media, 'waiting canplay seeked playing', event => ui.checkLoading.call(player, event));\n\n    // Click video\n    if (player.supported.ui && player.config.clickToPlay && !player.isAudio) {\n      // Re-fetch the wrapper\n      const wrapper = getElement.call(player, `.${player.config.classNames.video}`);\n\n      // Bail if there's no wrapper (this should never happen)\n      if (!is.element(wrapper)) {\n        return;\n      }\n\n      // On click play, pause or restart\n      on.call(player, elements.container, 'click', event => {\n        const targets = [elements.container, wrapper];\n\n        // Ignore if click if not container or in video wrapper\n        if (!targets.includes(event.target) && !wrapper.contains(event.target)) {\n          return;\n        }\n\n        // Touch devices will just show controls (if hidden)\n        if (player.touch && player.config.hideControls) {\n          return;\n        }\n\n        if (player.ended) {\n          this.proxy(event, player.restart, 'restart');\n          this.proxy(\n            event,\n            () => {\n              silencePromise(player.play());\n            },\n            'play',\n          );\n        } else {\n          this.proxy(\n            event,\n            () => {\n              silencePromise(player.togglePlay());\n            },\n            'play',\n          );\n        }\n      });\n    }\n\n    // Disable right click\n    if (player.supported.ui && player.config.disableContextMenu) {\n      on.call(\n        player,\n        elements.wrapper,\n        'contextmenu',\n        event => {\n          event.preventDefault();\n        },\n        false,\n      );\n    }\n\n    // Volume change\n    on.call(player, player.media, 'volumechange', () => {\n      // Save to storage\n      player.storage.set({\n        volume: player.volume,\n        muted: player.muted,\n      });\n    });\n\n    // Speed change\n    on.call(player, player.media, 'ratechange', () => {\n      // Update UI\n      controls.updateSetting.call(player, 'speed');\n\n      // Save to storage\n      player.storage.set({ speed: player.speed });\n    });\n\n    // Quality change\n    on.call(player, player.media, 'qualitychange', event => {\n      // Update UI\n      controls.updateSetting.call(player, 'quality', null, event.detail.quality);\n    });\n\n    // Update download link when ready and if quality changes\n    on.call(player, player.media, 'ready qualitychange', () => {\n      controls.setDownloadUrl.call(player);\n    });\n\n    // Proxy events to container\n    // Bubble up key events for Edge\n    const proxyEvents = player.config.events.concat(['keyup', 'keydown']).join(' ');\n\n    on.call(player, player.media, proxyEvents, event => {\n      let { detail = {} } = event;\n\n      // Get error details from media\n      if (event.type === 'error') {\n        detail = player.media.error;\n      }\n\n      triggerEvent.call(player, elements.container, event.type, true, detail);\n    });\n  }\n\n  // Run default and custom handlers\n  proxy(event, defaultHandler, customHandlerKey) {\n    const { player } = this;\n    const customHandler = player.config.listeners[customHandlerKey];\n    const hasCustomHandler = is.function(customHandler);\n    let returned = true;\n\n    // Execute custom handler\n    if (hasCustomHandler) {\n      returned = customHandler.call(player, event);\n    }\n\n    // Only call default handler if not prevented in custom handler\n    if (returned !== false && is.function(defaultHandler)) {\n      defaultHandler.call(player, event);\n    }\n  }\n\n  // Trigger custom and default handlers\n  bind(element, type, defaultHandler, customHandlerKey, passive = true) {\n    const { player } = this;\n    const customHandler = player.config.listeners[customHandlerKey];\n    const hasCustomHandler = is.function(customHandler);\n\n    on.call(\n      player,\n      element,\n      type,\n      event => this.proxy(event, defaultHandler, customHandlerKey),\n      passive && !hasCustomHandler,\n    );\n  }\n\n  // Listen for control events\n  controls() {\n    const { player } = this;\n    const { elements } = player;\n    // IE doesn't support input event, so we fallback to change\n    const inputEvent = browser.isIE ? 'change' : 'input';\n\n    // Play/pause toggle\n    if (elements.buttons.play) {\n      Array.from(elements.buttons.play).forEach(button => {\n        this.bind(\n          button,\n          'click',\n          () => {\n            silencePromise(player.togglePlay());\n          },\n          'play',\n        );\n      });\n    }\n\n    // Pause\n    this.bind(elements.buttons.restart, 'click', player.restart, 'restart');\n\n    // Rewind\n    this.bind(elements.buttons.rewind, 'click', player.rewind, 'rewind');\n\n    // Rewind\n    this.bind(elements.buttons.fastForward, 'click', player.forward, 'fastForward');\n\n    // Mute toggle\n    this.bind(\n      elements.buttons.mute,\n      'click',\n      () => {\n        player.muted = !player.muted;\n      },\n      'mute',\n    );\n\n    // Captions toggle\n    this.bind(elements.buttons.captions, 'click', () => player.toggleCaptions());\n\n    // Download\n    this.bind(\n      elements.buttons.download,\n      'click',\n      () => {\n        triggerEvent.call(player, player.media, 'download');\n      },\n      'download',\n    );\n\n    // Fullscreen toggle\n    this.bind(\n      elements.buttons.fullscreen,\n      'click',\n      () => {\n        player.fullscreen.toggle();\n      },\n      'fullscreen',\n    );\n\n    // Picture-in-Picture\n    this.bind(\n      elements.buttons.pip,\n      'click',\n      () => {\n        player.pip = 'toggle';\n      },\n      'pip',\n    );\n\n    // Airplay\n    this.bind(elements.buttons.airplay, 'click', player.airplay, 'airplay');\n\n    // Settings menu - click toggle\n    this.bind(\n      elements.buttons.settings,\n      'click',\n      event => {\n        // Prevent the document click listener closing the menu\n        event.stopPropagation();\n        event.preventDefault();\n\n        controls.toggleMenu.call(player, event);\n      },\n      null,\n      false,\n    ); // Can't be passive as we're preventing default\n\n    // Settings menu - keyboard toggle\n    // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n    this.bind(\n      elements.buttons.settings,\n      'keyup',\n      event => {\n        const code = event.which;\n\n        // We only care about space and return\n        if (![13, 32].includes(code)) {\n          return;\n        }\n\n        // Because return triggers a click anyway, all we need to do is set focus\n        if (code === 13) {\n          controls.focusFirstMenuItem.call(player, null, true);\n          return;\n        }\n\n        // Prevent scroll\n        event.preventDefault();\n\n        // Prevent playing video (Firefox)\n        event.stopPropagation();\n\n        // Toggle menu\n        controls.toggleMenu.call(player, event);\n      },\n      null,\n      false, // Can't be passive as we're preventing default\n    );\n\n    // Escape closes menu\n    this.bind(elements.settings.menu, 'keydown', event => {\n      if (event.which === 27) {\n        controls.toggleMenu.call(player, event);\n      }\n    });\n\n    // Set range input alternative \"value\", which matches the tooltip time (#954)\n    this.bind(elements.inputs.seek, 'mousedown mousemove', event => {\n      const rect = elements.progress.getBoundingClientRect();\n      const percent = (100 / rect.width) * (event.pageX - rect.left);\n      event.currentTarget.setAttribute('seek-value', percent);\n    });\n\n    // Pause while seeking\n    this.bind(elements.inputs.seek, 'mousedown mouseup keydown keyup touchstart touchend', event => {\n      const seek = event.currentTarget;\n      const code = event.keyCode ? event.keyCode : event.which;\n      const attribute = 'play-on-seeked';\n\n      if (is.keyboardEvent(event) && code !== 39 && code !== 37) {\n        return;\n      }\n\n      // Record seek time so we can prevent hiding controls for a few seconds after seek\n      player.lastSeekTime = Date.now();\n\n      // Was playing before?\n      const play = seek.hasAttribute(attribute);\n      // Done seeking\n      const done = ['mouseup', 'touchend', 'keyup'].includes(event.type);\n\n      // If we're done seeking and it was playing, resume playback\n      if (play && done) {\n        seek.removeAttribute(attribute);\n        silencePromise(player.play());\n      } else if (!done && player.playing) {\n        seek.setAttribute(attribute, '');\n        player.pause();\n      }\n    });\n\n    // Fix range inputs on iOS\n    // Super weird iOS bug where after you interact with an <input type=\"range\">,\n    // it takes over further interactions on the page. This is a hack\n    if (browser.isIos) {\n      const inputs = getElements.call(player, 'input[type=\"range\"]');\n      Array.from(inputs).forEach(input => this.bind(input, inputEvent, event => repaint(event.target)));\n    }\n\n    // Seek\n    this.bind(\n      elements.inputs.seek,\n      inputEvent,\n      event => {\n        const seek = event.currentTarget;\n        // If it exists, use seek-value instead of \"value\" for consistency with tooltip time (#954)\n        let seekTo = seek.getAttribute('seek-value');\n\n        if (is.empty(seekTo)) {\n          seekTo = seek.value;\n        }\n\n        seek.removeAttribute('seek-value');\n\n        player.currentTime = (seekTo / seek.max) * player.duration;\n      },\n      'seek',\n    );\n\n    // Seek tooltip\n    this.bind(elements.progress, 'mouseenter mouseleave mousemove', event =>\n      controls.updateSeekTooltip.call(player, event),\n    );\n\n    // Preview thumbnails plugin\n    this.bind(elements.progress, 'mousemove touchmove', event => {\n      const { previewThumbnails } = player;\n\n      if (previewThumbnails && previewThumbnails.loaded) {\n        previewThumbnails.startMove(event);\n      }\n    });\n\n    // Hide thumbnail preview - on mouse click, mouse leave, and video play/seek. All four are required, e.g., for buffering\n    this.bind(elements.progress, 'mouseleave touchend click', () => {\n      const { previewThumbnails } = player;\n\n      if (previewThumbnails && previewThumbnails.loaded) {\n        previewThumbnails.endMove(false, true);\n      }\n    });\n\n    // Show scrubbing preview\n    this.bind(elements.progress, 'mousedown touchstart', event => {\n      const { previewThumbnails } = player;\n\n      if (previewThumbnails && previewThumbnails.loaded) {\n        previewThumbnails.startScrubbing(event);\n      }\n    });\n\n    this.bind(elements.progress, 'mouseup touchend', event => {\n      const { previewThumbnails } = player;\n\n      if (previewThumbnails && previewThumbnails.loaded) {\n        previewThumbnails.endScrubbing(event);\n      }\n    });\n\n    // Polyfill for lower fill in <input type=\"range\"> for webkit\n    if (browser.isWebkit) {\n      Array.from(getElements.call(player, 'input[type=\"range\"]')).forEach(element => {\n        this.bind(element, 'input', event => controls.updateRangeFill.call(player, event.target));\n      });\n    }\n\n    // Current time invert\n    // Only if one time element is used for both currentTime and duration\n    if (player.config.toggleInvert && !is.element(elements.display.duration)) {\n      this.bind(elements.display.currentTime, 'click', () => {\n        // Do nothing if we're at the start\n        if (player.currentTime === 0) {\n          return;\n        }\n\n        player.config.invertTime = !player.config.invertTime;\n\n        controls.timeUpdate.call(player);\n      });\n    }\n\n    // Volume\n    this.bind(\n      elements.inputs.volume,\n      inputEvent,\n      event => {\n        player.volume = event.target.value;\n      },\n      'volume',\n    );\n\n    // Update controls.hover state (used for ui.toggleControls to avoid hiding when interacting)\n    this.bind(elements.controls, 'mouseenter mouseleave', event => {\n      elements.controls.hover = !player.touch && event.type === 'mouseenter';\n    });\n\n    // Also update controls.hover state for any non-player children of fullscreen element (as above)\n    if (elements.fullscreen) {\n      Array.from(elements.fullscreen.children)\n        .filter(c => !c.contains(elements.container))\n        .forEach(child => {\n          this.bind(child, 'mouseenter mouseleave', event => {\n            elements.controls.hover = !player.touch && event.type === 'mouseenter';\n          });\n        });\n    }\n\n    // Update controls.pressed state (used for ui.toggleControls to avoid hiding when interacting)\n    this.bind(elements.controls, 'mousedown mouseup touchstart touchend touchcancel', event => {\n      elements.controls.pressed = ['mousedown', 'touchstart'].includes(event.type);\n    });\n\n    // Show controls when they receive focus (e.g., when using keyboard tab key)\n    this.bind(elements.controls, 'focusin', () => {\n      const { config, timers } = player;\n\n      // Skip transition to prevent focus from scrolling the parent element\n      toggleClass(elements.controls, config.classNames.noTransition, true);\n\n      // Toggle\n      ui.toggleControls.call(player, true);\n\n      // Restore transition\n      setTimeout(() => {\n        toggleClass(elements.controls, config.classNames.noTransition, false);\n      }, 0);\n\n      // Delay a little more for mouse users\n      const delay = this.touch ? 3000 : 4000;\n\n      // Clear timer\n      clearTimeout(timers.controls);\n\n      // Hide again after delay\n      timers.controls = setTimeout(() => ui.toggleControls.call(player, false), delay);\n    });\n\n    // Mouse wheel for volume\n    this.bind(\n      elements.inputs.volume,\n      'wheel',\n      event => {\n        // Detect \"natural\" scroll - suppored on OS X Safari only\n        // Other browsers on OS X will be inverted until support improves\n        const inverted = event.webkitDirectionInvertedFromDevice;\n        // Get delta from event. Invert if `inverted` is true\n        const [x, y] = [event.deltaX, -event.deltaY].map(value => (inverted ? -value : value));\n        // Using the biggest delta, normalize to 1 or -1 (or 0 if no delta)\n        const direction = Math.sign(Math.abs(x) > Math.abs(y) ? x : y);\n\n        // Change the volume by 2%\n        player.increaseVolume(direction / 50);\n\n        // Don't break page scrolling at max and min\n        const { volume } = player.media;\n        if ((direction === 1 && volume < 1) || (direction === -1 && volume > 0)) {\n          event.preventDefault();\n        }\n      },\n      'volume',\n      false,\n    );\n  }\n}\n\nexport default Listeners;\n","// ==========================================================================\n// WassPlayer Media\n// ==========================================================================\n\nimport html5 from './html5';\nimport { createElement, toggleClass, wrap } from './utils/elements';\n\nconst media = {\n  // Setup media\n  setup() {\n    // If there's no media, bail\n    if (!this.media) {\n      this.debug.warn('No media element found!');\n      return;\n    }\n\n    // Add type class\n    toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', this.type), true);\n\n    // Add provider class\n    toggleClass(this.elements.container, this.config.classNames.provider.replace('{0}', this.provider), true);\n\n    // Add video class for embeds\n    // This will require changes if audio embeds are added\n    if (this.isEmbed) {\n      toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', 'video'), true);\n    }\n\n    // Inject the player wrapper\n    if (this.isVideo) {\n      // Create the wrapper div\n      this.elements.wrapper = createElement('div', {\n        class: this.config.classNames.video,\n      });\n\n      // Wrap the video in a container\n      wrap(this.media, this.elements.wrapper);\n\n      // Poster image container\n      this.elements.poster = createElement('div', {\n        class: this.config.classNames.poster,\n      });\n\n      this.elements.wrapper.appendChild(this.elements.poster);\n    }\n\n    if (this.isHTML5) {\n      html5.setup.call(this);\n    }\n  },\n};\n\nexport default media;\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","import { createElement } from '../utils/elements';\nimport { once } from '../utils/events';\nimport fetch from '../utils/fetch';\nimport is from '../utils/is';\nimport { formatTime } from '../utils/time';\n\n// Arg: vttDataString example: \"WEBVTT\\n\\n1\\n00:00:05.000 --> 00:00:10.000\\n1080p-00001.jpg\"\nconst parseVtt = vttDataString => {\n  const processedList = [];\n  const frames = vttDataString.split(/\\r\\n\\r\\n|\\n\\n|\\r\\r/);\n\n  frames.forEach(frame => {\n    const result = {};\n    const lines = frame.split(/\\r\\n|\\n|\\r/);\n\n    lines.forEach(line => {\n      if (!is.number(result.startTime)) {\n        // The line with start and end times on it is the first line of interest\n        const matchTimes = line.match(\n          /([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/,\n        ); // Note that this currently ignores caption formatting directives that are optionally on the end of this line - fine for non-captions VTT\n\n        if (matchTimes) {\n          result.startTime =\n            Number(matchTimes[1] || 0) * 60 * 60 +\n            Number(matchTimes[2]) * 60 +\n            Number(matchTimes[3]) +\n            Number(`0.${matchTimes[4]}`);\n          result.endTime =\n            Number(matchTimes[6] || 0) * 60 * 60 +\n            Number(matchTimes[7]) * 60 +\n            Number(matchTimes[8]) +\n            Number(`0.${matchTimes[9]}`);\n        }\n      } else if (!is.empty(line.trim()) && is.empty(result.text)) {\n        // If we already have the startTime, then we're definitely up to the text line(s)\n        const lineSplit = line.trim().split('#xywh=');\n        [result.text] = lineSplit;\n\n        // If there's content in lineSplit[1], then we have sprites. If not, then it's just one frame per image\n        if (lineSplit[1]) {\n          [result.x, result.y, result.w, result.h] = lineSplit[1].split(',');\n        }\n      }\n    });\n\n    if (result.text) {\n      processedList.push(result);\n    }\n  });\n\n  return processedList;\n};\n\nconst fitRatio = (ratio, outer) => {\n  const targetRatio = outer.width / outer.height;\n  const result = {};\n  if (ratio > targetRatio) {\n    result.width = outer.width;\n    result.height = (1 / ratio) * outer.width;\n  } else {\n    result.height = outer.height;\n    result.width = ratio * outer.height;\n  }\n\n  return result;\n};\n\nclass PreviewThumbnails {\n  /**\n   * PreviewThumbnails constructor.\n   * @param {wassPlayer} player\n   * @return {PreviewThumbnails}\n   */\n  constructor(player) {\n    this.player = player;\n    this.thumbnails = [];\n    this.loaded = false;\n    this.lastMouseMoveTime = Date.now();\n    this.mouseDown = false;\n    this.loadedImages = [];\n\n    this.elements = {\n      thumb: {},\n      scrubbing: {},\n    };\n\n    this.load();\n  }\n\n  get enabled() {\n    return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled;\n  }\n\n  load() {\n    // Toggle the regular seek tooltip\n    if (this.player.elements.display.seekTooltip) {\n      this.player.elements.display.seekTooltip.hidden = this.enabled;\n    }\n\n    if (!this.enabled) {\n      return;\n    }\n\n    this.getThumbnails().then(() => {\n      if (!this.enabled) {\n        return;\n      }\n\n      // Render DOM elements\n      this.render();\n\n      // Check to see if thumb container size was specified manually in CSS\n      this.determineContainerAutoSizing();\n\n      this.loaded = true;\n    });\n  }\n\n  // Download VTT files and parse them\n  getThumbnails() {\n    return new Promise(resolve => {\n      const { src } = this.player.config.previewThumbnails;\n\n      if (is.empty(src)) {\n        throw new Error('Missing previewThumbnails.src config attribute');\n      }\n\n      // Resolve promise\n      const sortAndResolve = () => {\n        // Sort smallest to biggest (e.g., [120p, 480p, 1080p])\n        this.thumbnails.sort((x, y) => x.height - y.height);\n\n        this.player.debug.log('Preview thumbnails', this.thumbnails);\n\n        resolve();\n      };\n\n      // Via callback()\n      if (is.function(src)) {\n        src(thumbnails => {\n          this.thumbnails = thumbnails;\n          sortAndResolve();\n        });\n      }\n      // VTT urls\n      else {\n        // If string, convert into single-element list\n        const urls = is.string(src) ? [src] : src;\n        // Loop through each src URL. Download and process the VTT file, storing the resulting data in this.thumbnails\n        const promises = urls.map(u => this.getThumbnail(u));\n        // Resolve\n        Promise.all(promises).then(sortAndResolve);\n      }\n    });\n  }\n\n  // Process individual VTT file\n  getThumbnail(url) {\n    return new Promise(resolve => {\n      fetch(url).then(response => {\n        const thumbnail = {\n          frames: parseVtt(response),\n          height: null,\n          urlPrefix: '',\n        };\n\n        if (\n          !thumbnail.frames[0].text.startsWith('/') &&\n          !thumbnail.frames[0].text.startsWith('http://') &&\n          !thumbnail.frames[0].text.startsWith('https://')\n        ) {\n          thumbnail.urlPrefix = url.substring(0, url.lastIndexOf('/') + 1);\n        }\n\n        // Download the first frame, so that we can determine/set the height of this thumbnailsDef\n        const tempImage = new Image();\n\n        tempImage.onload = () => {\n          thumbnail.height = tempImage.naturalHeight;\n          thumbnail.width = tempImage.naturalWidth;\n\n          this.thumbnails.push(thumbnail);\n\n          resolve();\n        };\n\n        tempImage.src = thumbnail.urlPrefix + thumbnail.frames[0].text;\n      });\n    });\n  }\n\n  startMove(event) {\n    if (!this.loaded) {\n      return;\n    }\n\n    if (!is.event(event) || !['touchmove', 'mousemove'].includes(event.type)) {\n      return;\n    }\n\n    // Wait until media has a duration\n    if (!this.player.media.duration) {\n      return;\n    }\n\n    if (event.type === 'touchmove') {\n      // Calculate seek hover position as approx video seconds\n      this.seekTime = this.player.media.duration * (this.player.elements.inputs.seek.value / 100);\n    } else {\n      // Calculate seek hover position as approx video seconds\n      const clientRect = this.player.elements.progress.getBoundingClientRect();\n      const percentage = (100 / clientRect.width) * (event.pageX - clientRect.left);\n      this.seekTime = this.player.media.duration * (percentage / 100);\n\n      if (this.seekTime < 0) {\n        // The mousemove fires for 10+px out to the left\n        this.seekTime = 0;\n      }\n\n      if (this.seekTime > this.player.media.duration - 1) {\n        // Took 1 second off the duration for safety, because different players can disagree on the real duration of a video\n        this.seekTime = this.player.media.duration - 1;\n      }\n\n      this.mousePosX = event.pageX;\n\n      // Set time text inside image container\n      this.elements.thumb.time.innerText = formatTime(this.seekTime);\n    }\n\n    // Download and show image\n    this.showImageAtCurrentTime();\n  }\n\n  endMove() {\n    this.toggleThumbContainer(false, true);\n  }\n\n  startScrubbing(event) {\n    // Only act on left mouse button (0), or touch device (event.button does not exist or is false)\n    if (is.nullOrUndefined(event.button) || event.button === false || event.button === 0) {\n      this.mouseDown = true;\n\n      // Wait until media has a duration\n      if (this.player.media.duration) {\n        this.toggleScrubbingContainer(true);\n        this.toggleThumbContainer(false, true);\n\n        // Download and show image\n        this.showImageAtCurrentTime();\n      }\n    }\n  }\n\n  endScrubbing() {\n    this.mouseDown = false;\n\n    // Hide scrubbing preview. But wait until the video has successfully seeked before hiding the scrubbing preview\n    if (Math.ceil(this.lastTime) === Math.ceil(this.player.media.currentTime)) {\n      // The video was already seeked/loaded at the chosen time - hide immediately\n      this.toggleScrubbingContainer(false);\n    } else {\n      // The video hasn't seeked yet. Wait for that\n      once.call(this.player, this.player.media, 'timeupdate', () => {\n        // Re-check mousedown - we might have already started scrubbing again\n        if (!this.mouseDown) {\n          this.toggleScrubbingContainer(false);\n        }\n      });\n    }\n  }\n\n  /**\n   * Setup hooks for wassPlayer and window events\n   */\n  listeners() {\n    this.player.on('play', () => {\n      this.toggleThumbContainer(false, true);\n    });\n\n    this.player.on('seeked', () => {\n      this.toggleThumbContainer(false);\n    });\n\n    this.player.on('timeupdate', () => {\n      this.lastTime = this.player.media.currentTime;\n    });\n  }\n\n  /**\n   * Create HTML elements for image containers\n   */\n  render() {\n    // Create HTML element: wassPlayer__preview-thumbnail-container\n    this.elements.thumb.container = createElement('div', {\n      class: this.player.config.classNames.previewThumbnails.thumbContainer,\n    });\n\n    // Wrapper for the image for styling\n    this.elements.thumb.imageContainer = createElement('div', {\n      class: this.player.config.classNames.previewThumbnails.imageContainer,\n    });\n    this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);\n\n    // Create HTML element, parent+span: time text (e.g., 01:32:00)\n    const timeContainer = createElement('div', {\n      class: this.player.config.classNames.previewThumbnails.timeContainer,\n    });\n\n    this.elements.thumb.time = createElement('span', {}, '00:00');\n    timeContainer.appendChild(this.elements.thumb.time);\n\n    this.elements.thumb.container.appendChild(timeContainer);\n\n    // Inject the whole thumb\n    if (is.element(this.player.elements.progress)) {\n      this.player.elements.progress.appendChild(this.elements.thumb.container);\n    }\n\n    // Create HTML element: wassPlayer__preview-scrubbing-container\n    this.elements.scrubbing.container = createElement('div', {\n      class: this.player.config.classNames.previewThumbnails.scrubbingContainer,\n    });\n\n    this.player.elements.wrapper.appendChild(this.elements.scrubbing.container);\n  }\n\n  destroy() {\n    if (this.elements.thumb.container) {\n      this.elements.thumb.container.remove();\n    }\n    if (this.elements.scrubbing.container) {\n      this.elements.scrubbing.container.remove();\n    }\n  }\n\n  showImageAtCurrentTime() {\n    if (this.mouseDown) {\n      this.setScrubbingContainerSize();\n    } else {\n      this.setThumbContainerSizeAndPos();\n    }\n\n    // Find the desired thumbnail index\n    const thumbNum = this.thumbnails[0].frames.findIndex(\n      frame => this.seekTime >= frame.startTime && this.seekTime <= frame.endTime,\n    );\n    const hasThumb = thumbNum >= 0;\n    let qualityIndex = 0;\n\n    // Show the thumb container if we're not scrubbing\n    if (!this.mouseDown) {\n      this.toggleThumbContainer(hasThumb);\n    }\n\n    // No matching thumb found\n    if (!hasThumb) {\n      return;\n    }\n\n    // Check to see if we've already downloaded higher quality versions of this image\n    this.thumbnails.forEach((thumbnail, index) => {\n      if (this.loadedImages.includes(thumbnail.frames[thumbNum].text)) {\n        qualityIndex = index;\n      }\n    });\n\n    // Only proceed if either thumbnum or thumbfilename has changed\n    if (thumbNum !== this.showingThumb) {\n      this.showingThumb = thumbNum;\n      this.loadImage(qualityIndex);\n    }\n  }\n\n  // Show the image that's currently specified in this.showingThumb\n  loadImage(qualityIndex = 0) {\n    const thumbNum = this.showingThumb;\n    const thumbnail = this.thumbnails[qualityIndex];\n    const { urlPrefix } = thumbnail;\n    const frame = thumbnail.frames[thumbNum];\n    const thumbFilename = thumbnail.frames[thumbNum].text;\n    const thumbUrl = urlPrefix + thumbFilename;\n\n    if (!this.currentImageElement || this.currentImageElement.dataset.filename !== thumbFilename) {\n      if (this.loadingImage && this.usingSprites) {\n        this.loadingImage.onload = null;\n      }\n\n      const previewImage = new Image();\n      previewImage.src = thumbUrl;\n      previewImage.dataset.index = thumbNum;\n      previewImage.dataset.filename = thumbFilename;\n      this.showingThumbFilename = thumbFilename;\n\n      this.player.debug.log(`Loading image: ${thumbUrl}`);\n\n      // For some reason, passing the named function directly causes it to execute immediately. So I've wrapped it in an anonymous function...\n      previewImage.onload = () => this.showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename, true);\n      this.loadingImage = previewImage;\n      this.removeOldImages(previewImage);\n    } else {\n      // Update the existing image\n      this.showImage(this.currentImageElement, frame, qualityIndex, thumbNum, thumbFilename, false);\n      this.currentImageElement.dataset.index = thumbNum;\n      this.removeOldImages(this.currentImageElement);\n    }\n  }\n\n  showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename, newImage = true) {\n    this.player.debug.log(\n      `Showing thumb: ${thumbFilename}. num: ${thumbNum}. qual: ${qualityIndex}. newimg: ${newImage}`,\n    );\n    this.setImageSizeAndOffset(previewImage, frame);\n\n    if (newImage) {\n      this.currentImageContainer.appendChild(previewImage);\n      this.currentImageElement = previewImage;\n\n      if (!this.loadedImages.includes(thumbFilename)) {\n        this.loadedImages.push(thumbFilename);\n      }\n    }\n\n    this.preloadNearby(thumbNum, true)\n      .then(this.preloadNearby(thumbNum, false))\n      .then(this.getHigherQuality(qualityIndex, previewImage, frame, thumbFilename));\n  }\n\n  // Remove all preview images that aren't the designated current image\n  removeOldImages(currentImage) {\n    // Get a list of all images, convert it from a DOM list to an array\n    Array.from(this.currentImageContainer.children).forEach(image => {\n      if (image.tagName.toLowerCase() !== 'img') {\n        return;\n      }\n\n      const removeDelay = this.usingSprites ? 500 : 1000;\n\n      if (image.dataset.index !== currentImage.dataset.index && !image.dataset.deleting) {\n        // eslint-disable-next-line no-param-reassign\n        image.dataset.deleting = true;\n\n        // This has to be set before the timeout - to prevent issues switching between hover and scrub\n        const { currentImageContainer } = this;\n\n        setTimeout(() => {\n          currentImageContainer.removeChild(image);\n          this.player.debug.log(`Removing thumb: ${image.dataset.filename}`);\n        }, removeDelay);\n      }\n    });\n  }\n\n  // Preload images before and after the current one. Only if the user is still hovering/seeking the same frame\n  // This will only preload the lowest quality\n  preloadNearby(thumbNum, forward = true) {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const oldThumbFilename = this.thumbnails[0].frames[thumbNum].text;\n\n        if (this.showingThumbFilename === oldThumbFilename) {\n          // Find the nearest thumbs with different filenames. Sometimes it'll be the next index, but in the case of sprites, it might be 100+ away\n          let thumbnailsClone;\n          if (forward) {\n            thumbnailsClone = this.thumbnails[0].frames.slice(thumbNum);\n          } else {\n            thumbnailsClone = this.thumbnails[0].frames.slice(0, thumbNum).reverse();\n          }\n\n          let foundOne = false;\n\n          thumbnailsClone.forEach(frame => {\n            const newThumbFilename = frame.text;\n\n            if (newThumbFilename !== oldThumbFilename) {\n              // Found one with a different filename. Make sure it hasn't already been loaded on this page visit\n              if (!this.loadedImages.includes(newThumbFilename)) {\n                foundOne = true;\n                this.player.debug.log(`Preloading thumb filename: ${newThumbFilename}`);\n\n                const { urlPrefix } = this.thumbnails[0];\n                const thumbURL = urlPrefix + newThumbFilename;\n                const previewImage = new Image();\n                previewImage.src = thumbURL;\n                previewImage.onload = () => {\n                  this.player.debug.log(`Preloaded thumb filename: ${newThumbFilename}`);\n                  if (!this.loadedImages.includes(newThumbFilename)) this.loadedImages.push(newThumbFilename);\n\n                  // We don't resolve until the thumb is loaded\n                  resolve();\n                };\n              }\n            }\n          });\n\n          // If there are none to preload then we want to resolve immediately\n          if (!foundOne) {\n            resolve();\n          }\n        }\n      }, 300);\n    });\n  }\n\n  // If user has been hovering current image for half a second, look for a higher quality one\n  getHigherQuality(currentQualityIndex, previewImage, frame, thumbFilename) {\n    if (currentQualityIndex < this.thumbnails.length - 1) {\n      // Only use the higher quality version if it's going to look any better - if the current thumb is of a lower pixel density than the thumbnail container\n      let previewImageHeight = previewImage.naturalHeight;\n\n      if (this.usingSprites) {\n        previewImageHeight = frame.h;\n      }\n\n      if (previewImageHeight < this.thumbContainerHeight) {\n        // Recurse back to the loadImage function - show a higher quality one, but only if the viewer is on this frame for a while\n        setTimeout(() => {\n          // Make sure the mouse hasn't already moved on and started hovering at another image\n          if (this.showingThumbFilename === thumbFilename) {\n            this.player.debug.log(`Showing higher quality thumb for: ${thumbFilename}`);\n            this.loadImage(currentQualityIndex + 1);\n          }\n        }, 300);\n      }\n    }\n  }\n\n  get currentImageContainer() {\n    if (this.mouseDown) {\n      return this.elements.scrubbing.container;\n    }\n\n    return this.elements.thumb.imageContainer;\n  }\n\n  get usingSprites() {\n    return Object.keys(this.thumbnails[0].frames[0]).includes('w');\n  }\n\n  get thumbAspectRatio() {\n    if (this.usingSprites) {\n      return this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h;\n    }\n\n    return this.thumbnails[0].width / this.thumbnails[0].height;\n  }\n\n  get thumbContainerHeight() {\n    if (this.mouseDown) {\n      const { height } = fitRatio(this.thumbAspectRatio, {\n        width: this.player.media.clientWidth,\n        height: this.player.media.clientHeight,\n      });\n      return height;\n    }\n\n    // If css is used this needs to return the css height for sprites to work (see setImageSizeAndOffset)\n    if (this.sizeSpecifiedInCSS) {\n      return this.elements.thumb.imageContainer.clientHeight;\n    }\n\n    return Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4);\n  }\n\n  get currentImageElement() {\n    if (this.mouseDown) {\n      return this.currentScrubbingImageElement;\n    }\n\n    return this.currentThumbnailImageElement;\n  }\n\n  set currentImageElement(element) {\n    if (this.mouseDown) {\n      this.currentScrubbingImageElement = element;\n    } else {\n      this.currentThumbnailImageElement = element;\n    }\n  }\n\n  toggleThumbContainer(toggle = false, clearShowing = false) {\n    const className = this.player.config.classNames.previewThumbnails.thumbContainerShown;\n    this.elements.thumb.container.classList.toggle(className, toggle);\n\n    if (!toggle && clearShowing) {\n      this.showingThumb = null;\n      this.showingThumbFilename = null;\n    }\n  }\n\n  toggleScrubbingContainer(toggle = false) {\n    const className = this.player.config.classNames.previewThumbnails.scrubbingContainerShown;\n    this.elements.scrubbing.container.classList.toggle(className, toggle);\n\n    if (!toggle) {\n      this.showingThumb = null;\n      this.showingThumbFilename = null;\n    }\n  }\n\n  determineContainerAutoSizing() {\n    if (this.elements.thumb.imageContainer.clientHeight > 20 || this.elements.thumb.imageContainer.clientWidth > 20) {\n      // This will prevent auto sizing in this.setThumbContainerSizeAndPos()\n      this.sizeSpecifiedInCSS = true;\n    }\n  }\n\n  // Set the size to be about a quarter of the size of video. Unless option dynamicSize === false, in which case it needs to be set in CSS\n  setThumbContainerSizeAndPos() {\n    if (!this.sizeSpecifiedInCSS) {\n      const thumbWidth = Math.floor(this.thumbContainerHeight * this.thumbAspectRatio);\n      this.elements.thumb.imageContainer.style.height = `${this.thumbContainerHeight}px`;\n      this.elements.thumb.imageContainer.style.width = `${thumbWidth}px`;\n    } else if (\n      this.elements.thumb.imageContainer.clientHeight > 20 &&\n      this.elements.thumb.imageContainer.clientWidth < 20\n    ) {\n      const thumbWidth = Math.floor(this.elements.thumb.imageContainer.clientHeight * this.thumbAspectRatio);\n      this.elements.thumb.imageContainer.style.width = `${thumbWidth}px`;\n    } else if (\n      this.elements.thumb.imageContainer.clientHeight < 20 &&\n      this.elements.thumb.imageContainer.clientWidth > 20\n    ) {\n      const thumbHeight = Math.floor(this.elements.thumb.imageContainer.clientWidth / this.thumbAspectRatio);\n      this.elements.thumb.imageContainer.style.height = `${thumbHeight}px`;\n    }\n\n    this.setThumbContainerPos();\n  }\n\n  setThumbContainerPos() {\n    const seekbarRect = this.player.elements.progress.getBoundingClientRect();\n    const wassPlayerRect = this.player.elements.container.getBoundingClientRect();\n    const { container } = this.elements.thumb;\n    // Find the lowest and highest desired left-position, so we don't slide out the side of the video container\n    const minVal = wassPlayerRect.left - seekbarRect.left + 10;\n    const maxVal = wassPlayerRect.right - seekbarRect.left - container.clientWidth - 10;\n    // Set preview container position to: mousepos, minus seekbar.left, minus half of previewContainer.clientWidth\n    let previewPos = this.mousePosX - seekbarRect.left - container.clientWidth / 2;\n\n    if (previewPos < minVal) {\n      previewPos = minVal;\n    }\n\n    if (previewPos > maxVal) {\n      previewPos = maxVal;\n    }\n\n    container.style.left = `${previewPos}px`;\n  }\n\n  // Can't use 100% width, in case the video is a different aspect ratio to the video container\n  setScrubbingContainerSize() {\n    const { width, height } = fitRatio(this.thumbAspectRatio, {\n      width: this.player.media.clientWidth,\n      height: this.player.media.clientHeight,\n    });\n    this.elements.scrubbing.container.style.width = `${width}px`;\n    this.elements.scrubbing.container.style.height = `${height}px`;\n  }\n\n  // Sprites need to be offset to the correct location\n  setImageSizeAndOffset(previewImage, frame) {\n    if (!this.usingSprites) {\n      return;\n    }\n\n    // Find difference between height and preview container height\n    const multiplier = this.thumbContainerHeight / frame.h;\n\n    // eslint-disable-next-line no-param-reassign\n    previewImage.style.height = `${previewImage.naturalHeight * multiplier}px`;\n    // eslint-disable-next-line no-param-reassign\n    previewImage.style.width = `${previewImage.naturalWidth * multiplier}px`;\n    // eslint-disable-next-line no-param-reassign\n    previewImage.style.left = `-${frame.x * multiplier}px`;\n    // eslint-disable-next-line no-param-reassign\n    previewImage.style.top = `-${frame.y * multiplier}px`;\n  }\n}\n\nexport default PreviewThumbnails;\n","// ==========================================================================\n// WassPlayer source update\n// ==========================================================================\n\nimport { providers } from './config/types';\nimport html5 from './html5';\nimport media from './media';\nimport PreviewThumbnails from './plugins/preview-thumbnails';\nimport support from './support';\nimport ui from './ui';\nimport { createElement, insertElement, removeElement } from './utils/elements';\nimport is from './utils/is';\nimport { getDeep } from './utils/objects';\n\nconst source = {\n  // Add elements to HTML5 media (source, tracks, etc)\n  insertElements(type, attributes) {\n    if (is.string(attributes)) {\n      insertElement(type, this.media, {\n        src: attributes,\n      });\n    } else if (is.array(attributes)) {\n      attributes.forEach(attribute => {\n        insertElement(type, this.media, attribute);\n      });\n    }\n  },\n\n  // Update source\n  // Sources are not checked for support so be careful\n  change(input) {\n    if (!getDeep(input, 'sources.length')) {\n      this.debug.warn('Invalid source format');\n      return;\n    }\n\n    // Cancel current network requests\n    html5.cancelRequests.call(this);\n\n    // Destroy instance and re-setup\n    this.destroy.call(\n      this,\n      () => {\n        // Reset quality options\n        this.options.quality = [];\n\n        // Remove elements\n        removeElement(this.media);\n        this.media = null;\n\n        // Reset class name\n        if (is.element(this.elements.container)) {\n          this.elements.container.removeAttribute('class');\n        }\n\n        // Set the type and provider\n        const { sources, type } = input;\n        const [{ provider = providers.html5, src }] = sources;\n        const tagName = provider === 'html5' ? type : 'div';\n        const attributes = provider === 'html5' ? {} : { src };\n\n        Object.assign(this, {\n          provider,\n          type,\n          // Check for support\n          supported: support.check(type, provider, this.config.playsinline),\n          // Create new element\n          media: createElement(tagName, attributes),\n        });\n\n        // Inject the new element\n        this.elements.container.appendChild(this.media);\n\n        // Autoplay the new source?\n        if (is.boolean(input.autoplay)) {\n          this.config.autoplay = input.autoplay;\n        }\n\n        // Set attributes for audio and video\n        if (this.isHTML5) {\n          if (this.config.crossorigin) {\n            this.media.setAttribute('crossorigin', '');\n          }\n          if (this.config.autoplay) {\n            this.media.setAttribute('autoplay', '');\n          }\n          if (!is.empty(input.poster)) {\n            this.poster = input.poster;\n          }\n          if (this.config.loop.active) {\n            this.media.setAttribute('loop', '');\n          }\n          if (this.config.muted) {\n            this.media.setAttribute('muted', '');\n          }\n          if (this.config.playsinline) {\n            this.media.setAttribute('playsinline', '');\n          }\n        }\n\n        // Restore class hook\n        ui.addStyleHook.call(this);\n\n        // Set new sources for html5\n        if (this.isHTML5) {\n          source.insertElements.call(this, 'source', sources);\n        }\n\n        // Set video title\n        this.config.title = input.title;\n\n        // Set up from scratch\n        media.setup.call(this);\n\n        // HTML5 stuff\n        if (this.isHTML5) {\n          // Setup captions\n          if (Object.keys(input).includes('tracks')) {\n            source.insertElements.call(this, 'track', input.tracks);\n          }\n        }\n\n        // If HTML5 or embed but not fully supported, setupInterface and call ready now\n        if (this.isHTML5 || (this.isEmbed && !this.supported.ui)) {\n          // Setup interface\n          ui.build.call(this);\n        }\n\n        // Load HTML5 sources\n        if (this.isHTML5) {\n          this.media.load();\n        }\n\n        // Update previewThumbnails config & reload plugin\n        if (!is.empty(input.previewThumbnails)) {\n          Object.assign(this.config.previewThumbnails, input.previewThumbnails);\n\n          // Cleanup previewThumbnails plugin if it was loaded\n          if (this.previewThumbnails && this.previewThumbnails.loaded) {\n            this.previewThumbnails.destroy();\n            this.previewThumbnails = null;\n          }\n\n          // Create new instance if it is still enabled\n          if (this.config.previewThumbnails.enabled) {\n            this.previewThumbnails = new PreviewThumbnails(this);\n          }\n        }\n\n        // Update the fullscreen support\n        this.fullscreen.update();\n      },\n      true,\n    );\n  },\n};\n\nexport default source;\n","// ==========================================================================\n// WassPlayer\n// WassPlayer.js v3.6.2\n// https://github.com/sampotts/WassPlayer\n// License: The MIT License (MIT)\n// ==========================================================================\n\nimport captions from './captions';\nimport defaults from './config/defaults';\nimport { pip } from './config/states';\nimport { getProviderByUrl, providers, types } from './config/types';\nimport Console from './console';\nimport controls from './controls';\nimport Fullscreen from './fullscreen';\nimport Listeners from './listeners';\nimport media from './media';\nimport PreviewThumbnails from './plugins/preview-thumbnails';\nimport source from './source';\nimport Storage from './storage';\nimport support from './support';\nimport ui from './ui';\nimport { closest } from './utils/arrays';\nimport { createElement, hasClass, removeElement, replaceElement, toggleClass, wrap } from './utils/elements';\nimport { off, on, once, triggerEvent, unbindListeners } from './utils/events';\nimport is from './utils/is';\nimport loadSprite from './utils/load-sprite';\nimport { clamp } from './utils/numbers';\nimport { cloneDeep, extend } from './utils/objects';\nimport { silencePromise } from './utils/promise';\nimport { getAspectRatio, reduceAspectRatio, setAspectRatio, validateRatio } from './utils/style';\nimport { parseUrl } from './utils/urls';\n\n// WassPlayer instance\nclass WassPlayer {\n  constructor(target, options) {\n    this.timers = {};\n\n    // State\n    this.ready = false;\n    this.loading = false;\n    this.failed = false;\n\n    // Touch device\n    this.touch = support.touch;\n\n    // Set the media element\n    this.media = target;\n\n    // String selector passed\n    if (is.string(this.media)) {\n      this.media = document.querySelectorAll(this.media);\n    }\n\n    // jQuery, NodeList or Array passed, use first element\n    if ((window.jQuery && this.media instanceof jQuery) || is.nodeList(this.media) || is.array(this.media)) {\n      // eslint-disable-next-line\n      this.media = this.media[0];\n    }\n\n    // Set config\n    this.config = extend(\n      {},\n      defaults,\n      WassPlayer.defaults,\n      options || {},\n      (() => {\n        try {\n          return JSON.parse(this.media.getAttribute('data-wassPlayer-config'));\n        } catch (e) {\n          return {};\n        }\n      })(),\n    );\n\n    // Elements cache\n    this.elements = {\n      container: null,\n      fullscreen: null,\n      captions: null,\n      buttons: {},\n      display: {},\n      progress: {},\n      inputs: {},\n      settings: {\n        popup: null,\n        menu: null,\n        panels: {},\n        buttons: {},\n      },\n    };\n\n    // Captions\n    this.captions = {\n      active: null,\n      currentTrack: -1,\n      meta: new WeakMap(),\n    };\n\n    // Fullscreen\n    this.fullscreen = {\n      active: false,\n    };\n\n    // Options\n    this.options = {\n      speed: [],\n      quality: [],\n    };\n\n    // Debugging\n    // TODO: move to globals\n    this.debug = new Console(this.config.debug);\n\n    // Log config options and support\n    this.debug.log('Config', this.config);\n    this.debug.log('Support', support);\n\n    // We need an element to setup\n    if (is.nullOrUndefined(this.media) || !is.element(this.media)) {\n      this.debug.error('Setup failed: no suitable element passed');\n      return;\n    }\n\n    // Bail if the element is initialized\n    if (this.media.wassPlayer) {\n      this.debug.warn('Target already setup');\n      return;\n    }\n\n    // Bail if not enabled\n    if (!this.config.enabled) {\n      this.debug.error('Setup failed: disabled by config');\n      return;\n    }\n\n    // Bail if disabled or no basic support\n    // You may want to disable certain UAs etc\n    if (!support.check().api) {\n      this.debug.error('Setup failed: no support');\n      return;\n    }\n\n    // Cache original element state for .destroy()\n    const clone = this.media.cloneNode(true);\n    clone.autoplay = false;\n    this.elements.original = clone;\n\n    // Set media type based on tag or data attribute\n    // Supported: video\n    const type = this.media.tagName.toLowerCase();\n    // Embed properties\n    let iframe = null;\n    let url = null;\n\n    // Different setup based on type\n    switch (type) {\n      case 'div':\n        // Find the frame\n        iframe = this.media.querySelector('iframe');\n\n        // <iframe> type\n        if (is.element(iframe)) {\n          // Detect provider\n          url = parseUrl(iframe.getAttribute('src'));\n          this.provider = getProviderByUrl(url.toString());\n\n          // Rework elements\n          this.elements.container = this.media;\n          this.media = iframe;\n\n          // Reset classname\n          this.elements.container.className = '';\n\n          // Get attributes from URL and set config\n          if (url.search.length) {\n            const truthy = ['1', 'true'];\n\n            if (truthy.includes(url.searchParams.get('autoplay'))) {\n              this.config.autoplay = true;\n            }\n            if (truthy.includes(url.searchParams.get('loop'))) {\n              this.config.loop.active = true;\n            }\n\n            this.config.playsinline = true;\n          }\n        } else {\n          // <div> with attributes\n          this.provider = this.media.getAttribute(this.config.attributes.embed.provider);\n\n          // Remove attribute\n          this.media.removeAttribute(this.config.attributes.embed.provider);\n        }\n\n        // Unsupported or missing provider\n        if (is.empty(this.provider) || !Object.keys(providers).includes(this.provider)) {\n          this.debug.error('Setup failed: Invalid provider');\n          return;\n        }\n\n        // Audio will come later for external providers\n        this.type = types.video;\n\n        break;\n\n      case 'video':\n      case 'audio':\n        this.type = type;\n        this.provider = providers.html5;\n\n        // Get config from attributes\n        if (this.media.hasAttribute('crossorigin')) {\n          this.config.crossorigin = true;\n        }\n        if (this.media.hasAttribute('autoplay')) {\n          this.config.autoplay = true;\n        }\n        if (this.media.hasAttribute('playsinline') || this.media.hasAttribute('webkit-playsinline')) {\n          this.config.playsinline = true;\n        }\n        if (this.media.hasAttribute('muted')) {\n          this.config.muted = true;\n        }\n        if (this.media.hasAttribute('loop')) {\n          this.config.loop.active = true;\n        }\n\n        break;\n\n      default:\n        this.debug.error('Setup failed: unsupported type');\n        return;\n    }\n\n    // Check for support again but with type\n    this.supported = support.check(this.type, this.provider, this.config.playsinline);\n\n    // If no support for even API, bail\n    if (!this.supported.api) {\n      this.debug.error('Setup failed: no support');\n      return;\n    }\n\n    this.eventListeners = [];\n\n    // Create listeners\n    this.listeners = new Listeners(this);\n\n    // Setup local storage for user settings\n    this.storage = new Storage(this);\n\n    // Store reference\n    this.media.wassPlayer = this;\n\n    // Wrap media\n    if (!is.element(this.elements.container)) {\n      this.elements.container = createElement('div', { tabindex: 0 });\n      wrap(this.media, this.elements.container);\n    }\n\n    // Migrate custom properties from media to container (so they work )\n    ui.migrateStyles.call(this);\n\n    // Add style hook\n    ui.addStyleHook.call(this);\n\n    // Setup media\n    media.setup.call(this);\n\n    // Listen for events if debugging\n    if (this.config.debug) {\n      on.call(this, this.elements.container, this.config.events.join(' '), event => {\n        this.debug.log(`event: ${event.type}`);\n      });\n    }\n\n    // Setup fullscreen\n    this.fullscreen = new Fullscreen(this);\n\n    // Setup interface\n    // If embed but not fully supported, build interface now to avoid flash of controls\n    if (this.isHTML5 || (this.isEmbed && !this.supported.ui)) {\n      ui.build.call(this);\n    }\n\n    // Container listeners\n    this.listeners.container();\n\n    // Global listeners\n    this.listeners.global();\n\n    // Autoplay if required\n    if (this.isHTML5 && this.config.autoplay) {\n      setTimeout(() => silencePromise(this.play()), 10);\n    }\n\n    // Seek time will be recorded (in listeners.js) so we can prevent hiding controls for a few seconds after seek\n    this.lastSeekTime = 0;\n\n    // Setup preview thumbnails if enabled\n    if (this.config.previewThumbnails.enabled) {\n      this.previewThumbnails = new PreviewThumbnails(this);\n    }\n  }\n\n  // ---------------------------------------\n  // API\n  // ---------------------------------------\n\n  /**\n   * Types and provider helpers\n   */\n  get isHTML5() {\n    return this.provider === providers.html5;\n  }\n\n  get isVideo() {\n    return this.type === types.video;\n  }\n\n  /**\n   * Play the media, or play the advertisement (if they are not blocked)\n   */\n  play() {\n    if (!is.function(this.media.play)) {\n      return null;\n    }\n\n    // Return the promise (for HTML5)\n    return this.media.play();\n  }\n\n  /**\n   * Pause the media\n   */\n  pause() {\n    if (!this.playing || !is.function(this.media.pause)) {\n      return null;\n    }\n\n    return this.media.pause();\n  }\n\n  /**\n   * Get playing state\n   */\n  get playing() {\n    return Boolean(this.ready && !this.paused && !this.ended);\n  }\n\n  /**\n   * Get paused state\n   */\n  get paused() {\n    return Boolean(this.media.paused);\n  }\n\n  /**\n   * Get stopped state\n   */\n  get stopped() {\n    return Boolean(this.paused && this.currentTime === 0);\n  }\n\n  /**\n   * Get ended state\n   */\n  get ended() {\n    return Boolean(this.media.ended);\n  }\n\n  /**\n   * Toggle playback based on current status\n   * @param {Boolean} input\n   */\n  togglePlay(input) {\n    // Toggle based on current state if nothing passed\n    const toggle = is.boolean(input) ? input : !this.playing;\n\n    if (toggle) {\n      return this.play();\n    }\n\n    return this.pause();\n  }\n\n  /**\n   * Stop playback\n   */\n  stop() {\n    if (this.isHTML5) {\n      this.pause();\n      this.restart();\n    } else if (is.function(this.media.stop)) {\n      this.media.stop();\n    }\n  }\n\n  /**\n   * Restart playback\n   */\n  restart() {\n    this.currentTime = 0;\n  }\n\n  /**\n   * Rewind\n   * @param {Number} seekTime - how far to rewind in seconds. Defaults to the config.seekTime\n   */\n  rewind(seekTime) {\n    this.currentTime -= is.number(seekTime) ? seekTime : this.config.seekTime;\n  }\n\n  /**\n   * Fast forward\n   * @param {Number} seekTime - how far to fast forward in seconds. Defaults to the config.seekTime\n   */\n  forward(seekTime) {\n    this.currentTime += is.number(seekTime) ? seekTime : this.config.seekTime;\n  }\n\n  /**\n   * Seek to a time\n   * @param {Number} input - where to seek to in seconds. Defaults to 0 (the start)\n   */\n  set currentTime(input) {\n    // Bail if media duration isn't available yet\n    if (!this.duration) {\n      return;\n    }\n\n    // Validate input\n    const inputIsValid = is.number(input) && input > 0;\n\n    // Set\n    this.media.currentTime = inputIsValid ? Math.min(input, this.duration) : 0;\n\n    // Logging\n    this.debug.log(`Seeking to ${this.currentTime} seconds`);\n  }\n\n  /**\n   * Get current time\n   */\n  get currentTime() {\n    return Number(this.media.currentTime);\n  }\n\n  /**\n   * Get buffered\n   */\n  get buffered() {\n    const { buffered } = this.media;\n\n    if (is.number(buffered)) {\n      return buffered;\n    }\n\n    // HTML5\n    // (i.e. seek to another section buffers only that section)\n    if (buffered && buffered.length && this.duration > 0) {\n      return buffered.end(0) / this.duration;\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get seeking status\n   */\n  get seeking() {\n    return Boolean(this.media.seeking);\n  }\n\n  /**\n   * Get the duration of the current media\n   */\n  get duration() {\n    // Faux duration set via config\n    const fauxDuration = parseFloat(this.config.duration);\n    // Media duration can be NaN or Infinity before the media has loaded\n    const realDuration = (this.media || {}).duration;\n    const duration = !is.number(realDuration) || realDuration === Infinity ? 0 : realDuration;\n\n    // If config duration is funky, use regular duration\n    return fauxDuration || duration;\n  }\n\n  /**\n   * Set the player volume\n   * @param {Number} value - must be between 0 and 1. Defaults to the value from local storage and config.volume if not set in storage\n   */\n  set volume(value) {\n    let volume = value;\n    const max = 1;\n    const min = 0;\n\n    if (is.string(volume)) {\n      volume = Number(volume);\n    }\n\n    // Load volume from storage if no value specified\n    if (!is.number(volume)) {\n      volume = this.storage.get('volume');\n    }\n\n    // Use config if all else fails\n    if (!is.number(volume)) {\n      ({ volume } = this.config);\n    }\n\n    // Maximum is volumeMax\n    if (volume > max) {\n      volume = max;\n    }\n    // Minimum is volumeMin\n    if (volume < min) {\n      volume = min;\n    }\n\n    // Update config\n    this.config.volume = volume;\n\n    // Set the player volume\n    this.media.volume = volume;\n\n    // If muted, and we're increasing volume manually, reset muted state\n    if (!is.empty(value) && this.muted && volume > 0) {\n      this.muted = false;\n    }\n  }\n\n  /**\n   * Get the current player volume\n   */\n  get volume() {\n    return Number(this.media.volume);\n  }\n\n  /**\n   * Increase volume\n   * @param {Boolean} step - How much to decrease by (between 0 and 1)\n   */\n  increaseVolume(step) {\n    const volume = this.media.muted ? 0 : this.volume;\n    this.volume = volume + (is.number(step) ? step : 0);\n  }\n\n  /**\n   * Decrease volume\n   * @param {Boolean} step - How much to decrease by (between 0 and 1)\n   */\n  decreaseVolume(step) {\n    this.increaseVolume(-step);\n  }\n\n  /**\n   * Set muted state\n   * @param {Boolean} mute\n   */\n  set muted(mute) {\n    let toggle = mute;\n\n    // Load muted state from storage\n    if (!is.boolean(toggle)) {\n      toggle = this.storage.get('muted');\n    }\n\n    // Use config if all else fails\n    if (!is.boolean(toggle)) {\n      toggle = this.config.muted;\n    }\n\n    // Update config\n    this.config.muted = toggle;\n\n    // Set mute on the player\n    this.media.muted = toggle;\n  }\n\n  /**\n   * Get current muted state\n   */\n  get muted() {\n    return Boolean(this.media.muted);\n  }\n\n  /**\n   * Check if the media has audio\n   */\n  get hasAudio() {\n    // Assume yes for all non HTML5 (as we can't tell...)\n    if (!this.isHTML5) {\n      return true;\n    }\n\n    if (this.isAudio) {\n      return true;\n    }\n\n    // Get audio tracks\n    return (\n      Boolean(this.media.mozHasAudio) ||\n      Boolean(this.media.webkitAudioDecodedByteCount) ||\n      Boolean(this.media.audioTracks && this.media.audioTracks.length)\n    );\n  }\n\n  /**\n   * Set playback speed\n   * @param {Number} speed - the speed of playback (0.5-2.0)\n   */\n  set speed(input) {\n    let speed = null;\n\n    if (is.number(input)) {\n      speed = input;\n    }\n\n    if (!is.number(speed)) {\n      speed = this.storage.get('speed');\n    }\n\n    if (!is.number(speed)) {\n      speed = this.config.speed.selected;\n    }\n\n    // Clamp to min/max\n    const { minimumSpeed: min, maximumSpeed: max } = this;\n    speed = clamp(speed, min, max);\n\n    // Update config\n    this.config.speed.selected = speed;\n\n    // Set media speed\n    setTimeout(() => {\n      this.media.playbackRate = speed;\n    }, 0);\n  }\n\n  /**\n   * Get current playback speed\n   */\n  get speed() {\n    return Number(this.media.playbackRate);\n  }\n\n  /**\n   * Get the minimum allowed speed\n   */\n  // eslint-disable-next-line class-methods-use-this\n  get minimumSpeed() {\n    return 0.0625;\n  }\n\n  /**\n   * Get the maximum allowed speed\n   */\n  // eslint-disable-next-line class-methods-use-this\n  get maximumSpeed() {\n    return 16;\n  }\n\n  /**\n   * Set playback quality\n   * Currently HTML5 only\n   * @param {Number} input - Quality level\n   */\n  set quality(input) {\n    const config = this.config.quality;\n    const options = this.options.quality;\n\n    if (!options.length) {\n      return;\n    }\n\n    let quality = [\n      !is.empty(input) && Number(input),\n      this.storage.get('quality'),\n      config.selected,\n      config.default,\n    ].find(is.number);\n\n    let updateStorage = true;\n\n    if (!options.includes(quality)) {\n      const value = closest(options, quality);\n      this.debug.warn(`Unsupported quality option: ${quality}, using ${value} instead`);\n      quality = value;\n\n      // Don't update storage if quality is not supported\n      updateStorage = false;\n    }\n\n    // Update config\n    config.selected = quality;\n\n    // Set quality\n    this.media.quality = quality;\n\n    // Save to storage\n    if (updateStorage) {\n      this.storage.set({ quality });\n    }\n  }\n\n  /**\n   * Get current quality level\n   */\n  get quality() {\n    return this.media.quality;\n  }\n\n  /**\n   * Toggle loop\n   * @param {Boolean} input - Whether to loop or not\n   */\n  set loop(input) {\n    const toggle = is.boolean(input) ? input : this.config.loop.active;\n    this.config.loop.active = toggle;\n    this.media.loop = toggle;\n\n    // Set default to be a true toggle\n    /* const type = ['start', 'end', 'all', 'none', 'toggle'].includes(input) ? input : 'toggle';\n\n        switch (type) {\n            case 'start':\n                if (this.config.loop.end && this.config.loop.end <= this.currentTime) {\n                    this.config.loop.end = null;\n                }\n                this.config.loop.start = this.currentTime;\n                // this.config.loop.indicator.start = this.elements.display.played.value;\n                break;\n\n            case 'end':\n                if (this.config.loop.start >= this.currentTime) {\n                    return this;\n                }\n                this.config.loop.end = this.currentTime;\n                // this.config.loop.indicator.end = this.elements.display.played.value;\n                break;\n\n            case 'all':\n                this.config.loop.start = 0;\n                this.config.loop.end = this.duration - 2;\n                this.config.loop.indicator.start = 0;\n                this.config.loop.indicator.end = 100;\n                break;\n\n            case 'toggle':\n                if (this.config.loop.active) {\n                    this.config.loop.start = 0;\n                    this.config.loop.end = null;\n                } else {\n                    this.config.loop.start = 0;\n                    this.config.loop.end = this.duration - 2;\n                }\n                break;\n\n            default:\n                this.config.loop.start = 0;\n                this.config.loop.end = null;\n                break;\n        } */\n  }\n\n  /**\n   * Get current loop state\n   */\n  get loop() {\n    return Boolean(this.media.loop);\n  }\n\n  /**\n   * Set new media source\n   * @param {Object} input - The new source object (see docs)\n   */\n  set source(input) {\n    source.change.call(this, input);\n  }\n\n  /**\n   * Get current source\n   */\n  get source() {\n    return this.media.currentSrc;\n  }\n\n  /**\n   * Get a download URL (either source or custom)\n   */\n  get download() {\n    const { download } = this.config.urls;\n\n    return is.url(download) ? download : this.source;\n  }\n\n  /**\n   * Set the download URL\n   */\n  set download(input) {\n    if (!is.url(input)) {\n      return;\n    }\n\n    this.config.urls.download = input;\n\n    controls.setDownloadUrl.call(this);\n  }\n\n  /**\n   * Set the poster image for a video\n   * @param {String} input - the URL for the new poster image\n   */\n  set poster(input) {\n    if (!this.isVideo) {\n      this.debug.warn('Poster can only be set for video');\n      return;\n    }\n\n    ui.setPoster.call(this, input, false).catch(() => {});\n  }\n\n  /**\n   * Get the current poster image\n   */\n  get poster() {\n    if (!this.isVideo) {\n      return null;\n    }\n\n    return this.media.getAttribute('poster') || this.media.getAttribute('data-poster');\n  }\n\n  /**\n   * Get the current aspect ratio in use\n   */\n  get ratio() {\n    if (!this.isVideo) {\n      return null;\n    }\n\n    const ratio = reduceAspectRatio(getAspectRatio.call(this));\n\n    return is.array(ratio) ? ratio.join(':') : ratio;\n  }\n\n  /**\n   * Set video aspect ratio\n   */\n  set ratio(input) {\n    if (!this.isVideo) {\n      this.debug.warn('Aspect ratio can only be set for video');\n      return;\n    }\n\n    if (!is.string(input) || !validateRatio(input)) {\n      this.debug.error(`Invalid aspect ratio specified (${input})`);\n      return;\n    }\n\n    this.config.ratio = input;\n\n    setAspectRatio.call(this);\n  }\n\n  /**\n   * Set the autoplay state\n   * @param {Boolean} input - Whether to autoplay or not\n   */\n  set autoplay(input) {\n    const toggle = is.boolean(input) ? input : this.config.autoplay;\n    this.config.autoplay = toggle;\n  }\n\n  /**\n   * Get the current autoplay state\n   */\n  get autoplay() {\n    return Boolean(this.config.autoplay);\n  }\n\n  /**\n   * Toggle captions\n   * @param {Boolean} input - Whether to enable captions\n   */\n  toggleCaptions(input) {\n    captions.toggle.call(this, input, false);\n  }\n\n  /**\n   * Set the caption track by index\n   * @param {Number} - Caption index\n   */\n  set currentTrack(input) {\n    captions.set.call(this, input, false);\n  }\n\n  /**\n   * Get the current caption track index (-1 if disabled)\n   */\n  get currentTrack() {\n    const { toggled, currentTrack } = this.captions;\n    return toggled ? currentTrack : -1;\n  }\n\n  /**\n   * Set the wanted language for captions\n   * Since tracks can be added later it won't update the actual caption track until there is a matching track\n   * @param {String} - Two character ISO language code (e.g. EN, FR, PT, etc)\n   */\n  set language(input) {\n    captions.setLanguage.call(this, input, false);\n  }\n\n  /**\n   * Get the current track's language\n   */\n  get language() {\n    return (captions.getCurrentTrack.call(this) || {}).language;\n  }\n\n  /**\n   * Toggle picture-in-picture playback on WebKit/MacOS\n   */\n  set pip(input) {\n    // Bail if no support\n    if (!support.pip) {\n      return;\n    }\n\n    // Toggle based on current state if not passed\n    const toggle = is.boolean(input) ? input : !this.pip;\n\n    // Toggle based on current state\n    // Safari\n    if (is.function(this.media.webkitSetPresentationMode)) {\n      this.media.webkitSetPresentationMode(toggle ? pip.active : pip.inactive);\n    }\n\n    // Chrome\n    if (is.function(this.media.requestPictureInPicture)) {\n      if (!this.pip && toggle) {\n        this.media.requestPictureInPicture();\n      } else if (this.pip && !toggle) {\n        document.exitPictureInPicture();\n      }\n    }\n  }\n\n  /**\n   * Get the current picture-in-picture state\n   */\n  get pip() {\n    if (!support.pip) {\n      return null;\n    }\n\n    // Safari\n    if (!is.empty(this.media.webkitPresentationMode)) {\n      return this.media.webkitPresentationMode === pip.active;\n    }\n\n    // Chrome\n    return this.media === document.pictureInPictureElement;\n  }\n\n  /**\n   * Trigger the airplay dialog\n   */\n  airplay() {\n    // Show dialog if supported\n    if (support.airplay) {\n      this.media.webkitShowPlaybackTargetPicker();\n    }\n  }\n\n  /**\n   * Toggle the player controls\n   * @param {Boolean} [toggle] - Whether to show the controls\n   */\n  toggleControls(toggle) {\n    // Don't toggle if missing UI support or if it's audio\n    if (this.supported.ui && !this.isAudio) {\n      // Get state before change\n      const isHidden = hasClass(this.elements.container, this.config.classNames.hideControls);\n      // Negate the argument if not undefined since adding the class to hides the controls\n      const force = typeof toggle === 'undefined' ? undefined : !toggle;\n      // Apply and get updated state\n      const hiding = toggleClass(this.elements.container, this.config.classNames.hideControls, force);\n\n      // Close menu\n      if (hiding && is.array(this.config.controls) && this.config.controls.includes('settings') && !is.empty(this.config.settings)) {\n        controls.toggleMenu.call(this, false);\n      }\n\n      // Trigger event on change\n      if (hiding !== isHidden) {\n        const eventName = hiding ? 'controlshidden' : 'controlsshown';\n        triggerEvent.call(this, this.media, eventName);\n      }\n\n      return !hiding;\n    }\n\n    return false;\n  }\n\n  /**\n   * Add event listeners\n   * @param {String} event - Event type\n   * @param {Function} callback - Callback for when event occurs\n   */\n  on(event, callback) {\n    on.call(this, this.elements.container, event, callback);\n  }\n\n  /**\n   * Add event listeners once\n   * @param {String} event - Event type\n   * @param {Function} callback - Callback for when event occurs\n   */\n  once(event, callback) {\n    once.call(this, this.elements.container, event, callback);\n  }\n\n  /**\n   * Remove event listeners\n   * @param {String} event - Event type\n   * @param {Function} callback - Callback for when event occurs\n   */\n  off(event, callback) {\n    off(this.elements.container, event, callback);\n  }\n\n  /**\n   * Destroy an instance\n   * Event listeners are removed when elements are removed\n   * http://stackoverflow.com/questions/12528049/if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory\n   * @param {Function} callback - Callback for when destroy is complete\n   * @param {Boolean} soft - Whether it's a soft destroy (for source changes etc)\n   */\n  destroy(callback, soft = false) {\n    if (!this.ready) {\n      return;\n    }\n\n    const done = () => {\n      // Reset overflow (incase destroyed while in fullscreen)\n      document.body.style.overflow = '';\n\n      // GC for embed\n      this.embed = null;\n\n      // If it's a soft destroy, make minimal changes\n      if (soft) {\n        if (Object.keys(this.elements).length) {\n          // Remove elements\n          removeElement(this.elements.buttons.play);\n          removeElement(this.elements.captions);\n          removeElement(this.elements.controls);\n          removeElement(this.elements.wrapper);\n\n          // Clear for GC\n          this.elements.buttons.play = null;\n          this.elements.captions = null;\n          this.elements.controls = null;\n          this.elements.wrapper = null;\n        }\n\n        // Callback\n        if (is.function(callback)) {\n          callback();\n        }\n      } else {\n        // Unbind listeners\n        unbindListeners.call(this);\n\n        // Replace the container with the original element provided\n        replaceElement(this.elements.original, this.elements.container);\n\n        // Event\n        triggerEvent.call(this, this.elements.original, 'destroyed', true);\n\n        // Callback\n        if (is.function(callback)) {\n          callback.call(this.elements.original);\n        }\n\n        // Reset state\n        this.ready = false;\n\n        // Clear for garbage collection\n        setTimeout(() => {\n          this.elements = null;\n          this.media = null;\n        }, 200);\n      }\n    };\n\n    // Stop playback\n    this.stop();\n\n    // Clear timeouts\n    clearTimeout(this.timers.loading);\n    clearTimeout(this.timers.controls);\n    clearTimeout(this.timers.resized);\n\n    // Provider specific stuff\n    if (this.isHTML5) {\n      // Restore native video controls\n      ui.toggleNativeControls.call(this, true);\n\n      // Clean up\n      done();\n    }\n  }\n\n  /**\n   * Check for support for a mime type (HTML5 only)\n   * @param {String} type - Mime type\n   */\n  supports(type) {\n    return support.mime.call(this, type);\n  }\n\n  /**\n   * Check for support\n   * @param {String} type - Player type (video)\n   * @param {String} provider - Provider (html5)\n   * @param {Boolean} inline - Where player has `playsinline` sttribute\n   */\n  static supported(type, provider, inline) {\n    return support.check(type, provider, inline);\n  }\n\n  /**\n   * Load an SVG sprite into the page\n   * @param {String} url - URL for the SVG sprite\n   * @param {String} [id] - Unique ID\n   */\n  static loadSprite(url, id) {\n    return loadSprite(url, id);\n  }\n\n  /**\n   * Setup multiple instances\n   * @param {*} selector\n   * @param {Object} options\n   */\n  static setup(selector, options = {}) {\n    let targets = null;\n\n    if (is.string(selector)) {\n      targets = Array.from(document.querySelectorAll(selector));\n    } else if (is.nodeList(selector)) {\n      targets = Array.from(selector);\n    } else if (is.array(selector)) {\n      targets = selector.filter(is.element);\n    }\n\n    if (is.empty(targets)) {\n      return null;\n    }\n\n    return targets.map(t => new WassPlayer(t, options));\n  }\n}\n\nWassPlayer.defaults = cloneDeep(defaults);\n\nexport default WassPlayer;\n","/**\n * Returns a number whose value is limited to the given range.\n *\n * Example: limit the output of this computation to between 0 and 255\n * (x * 255).clamp(0, 255)\n *\n * @param {Number} input\n * @param {Number} min The lower boundary of the output range\n * @param {Number} max The upper boundary of the output range\n * @returns A number in the range [min, max]\n * @type Number\n */\nexport function clamp(input = 0, min = 0, max = 255) {\n  return Math.min(Math.max(input, min), max);\n}\n\nexport default { clamp };\n"]}